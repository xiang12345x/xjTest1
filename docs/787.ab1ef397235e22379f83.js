"use strict";(self.webpackChunkmini_program=self.webpackChunkmini_program||[]).push([[787],{7787:(Pee,f0,le)=>{le.r(f0),le.d(f0,{WelcomeModule:()=>Iee});var br={};le.r(br),le.d(br,{Arc:()=>ed,BezierCurve:()=>Lc,BoundingRect:()=>me,Circle:()=>hi,CompoundPath:()=>td,Ellipse:()=>jp,Group:()=>ue,Image:()=>St,IncrementalDisplayable:()=>uE,Line:()=>yt,LinearGradient:()=>ol,OrientedBoundingRect:()=>Nc,Path:()=>be,Point:()=>ge,Polygon:()=>$t,Polyline:()=>Xt,RadialGradient:()=>eb,Rect:()=>Te,Ring:()=>Pc,Sector:()=>Ut,Text:()=>Me,applyTransform:()=>Vn,clipPointsByRect:()=>ab,clipRectByRect:()=>dE,createIcon:()=>ll,extendPath:()=>fE,extendShape:()=>cE,getShapeClass:()=>rd,getTransform:()=>ya,groupTransition:()=>sl,initProps:()=>Ue,isElementRemoved:()=>_o,lineLineIntersect:()=>ob,linePolygonIntersect:()=>ul,makeImage:()=>tb,makePath:()=>Bc,mergePath:()=>xn,registerShape:()=>Bn,removeElement:()=>ai,removeElementWithFadeOut:()=>Us,resizePath:()=>rb,setTooltipConfig:()=>_a,subPixelOptimize:()=>Vc,subPixelOptimizeLine:()=>ko,subPixelOptimizeRect:()=>vE,transformDirection:()=>Fc,traverseElements:()=>fi,updateProps:()=>Ie});var Cf=le(4655),Tf=function(n,t){return(Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function E(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}Tf(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var pP=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Zr=new function(){this.browser=new pP,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(Zr.wxa=!0,Zr.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?Zr.worker=!0:!Zr.hasGlobalWindow||"Deno"in window?(Zr.node=!0,Zr.svgSupported=!0):function(n,t){var e=t.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(n);r&&(e.firefox=!0,e.version=r[1]),i&&(e.ie=!0,e.version=i[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),o&&(e.weChat=!0),t.svgSupported="undefined"!=typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported="undefined"!=typeof document;var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,Zr);const ze=Zr;var n,t,g0="sans-serif",Ur="12px "+g0,xP=function(n){var t={};if("undefined"==typeof JSON)return t;for(var e=0;e<n.length;e++){var r=String.fromCharCode(e+32),i=(n.charCodeAt(e)-20)/100;t[r]=i}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),In={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(e,r){if(!n){var i=In.createCanvas();n=i&&i.getContext("2d")}if(n)return t!==r&&(t=n.font=r||Ur),n.measureText(e);e=e||"";var a=/((?:\d+)?\.?\d*)px/.exec(r=r||Ur),o=a&&+a[1]||12,s=0;if(r.indexOf("mono")>=0)s=o*e.length;else for(var l=0;l<e.length;l++){var u=xP[e[l]];s+=null==u?o:u*o}return{width:s}},loadImage:function(n,t,e){var r=new Image;return r.onload=t,r.onerror=e,r.src=n,r}},m0=Jn(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,t){return n["[object "+t+"]"]=!0,n},{}),y0=Jn(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,t){return n["[object "+t+"Array]"]=!0,n},{}),to=Object.prototype.toString,du=Array.prototype,bP=du.forEach,wP=du.filter,Df=du.slice,CP=du.map,_0=function(){}.constructor,gu=_0?_0.prototype:null,Mf="__proto__",TP=2311;function S0(){return TP++}function Af(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];"undefined"!=typeof console&&console.error.apply(console,n)}function se(n){if(null==n||"object"!=typeof n)return n;var t=n,e=to.call(n);if("[object Array]"===e){if(!ds(n)){t=[];for(var r=0,i=n.length;r<i;r++)t[r]=se(n[r])}}else if(y0[e]){if(!ds(n)){var a=n.constructor;if(a.from)t=a.from(n);else for(t=new a(n.length),r=0,i=n.length;r<i;r++)t[r]=n[r]}}else if(!m0[e]&&!ds(n)&&!no(n))for(var o in t={},n)n.hasOwnProperty(o)&&o!==Mf&&(t[o]=se(n[o]));return t}function de(n,t,e){if(!oe(t)||!oe(n))return e?se(t):n;for(var r in t)if(t.hasOwnProperty(r)&&r!==Mf){var i=n[r],a=t[r];!oe(a)||!oe(i)||F(a)||F(i)||no(a)||no(i)||x0(a)||x0(i)||ds(a)||ds(i)?(e||!(r in n))&&(n[r]=se(t[r])):de(i,a,e)}return n}function If(n,t){for(var e=n[0],r=1,i=n.length;r<i;r++)e=de(e,n[r],t);return e}function V(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==Mf&&(n[e]=t[e]);return n}function re(n,t,e){for(var r=we(t),i=0,a=r.length;i<a;i++){var o=r[i];(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}return n}function _e(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,r=n.length;e<r;e++)if(n[e]===t)return e}return-1}function rt(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var a=r[i];"constructor"!==a&&(e?null!=t[a]:null==n[a])&&(n[a]=t[a])}else re(n,t,e)}function zt(n){return!(!n||"string"==typeof n)&&"number"==typeof n.length}function D(n,t,e){if(n&&t)if(n.forEach&&n.forEach===bP)n.forEach(t,e);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)t.call(e,n[r],r,n);else for(var a in n)n.hasOwnProperty(a)&&t.call(e,n[a],a,n)}function G(n,t,e){if(!n)return[];if(!t)return Lf(n);if(n.map&&n.map===CP)return n.map(t,e);for(var r=[],i=0,a=n.length;i<a;i++)r.push(t.call(e,n[i],i,n));return r}function Jn(n,t,e,r){if(n&&t){for(var i=0,a=n.length;i<a;i++)e=t.call(r,e,n[i],i,n);return e}}function Pe(n,t,e){if(!n)return[];if(!t)return Lf(n);if(n.filter&&n.filter===wP)return n.filter(t,e);for(var r=[],i=0,a=n.length;i<a;i++)t.call(e,n[i],i,n)&&r.push(n[i]);return r}function we(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}var $=gu&&ee(gu.bind)?gu.call.bind(gu.bind):function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return function(){return n.apply(t,e.concat(Df.call(arguments)))}};function pe(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(Df.call(arguments)))}}function F(n){return Array.isArray?Array.isArray(n):"[object Array]"===to.call(n)}function ee(n){return"function"==typeof n}function U(n){return"string"==typeof n}function Pf(n){return"[object String]"===to.call(n)}function De(n){return"number"==typeof n}function oe(n){var t=typeof n;return"function"===t||!!n&&"object"===t}function x0(n){return!!m0[to.call(n)]}function Ht(n){return!!y0[to.call(n)]}function no(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function mu(n){return null!=n.colorStops}function ps(n){return n!=n}function gt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,r=n.length;e<r;e++)if(null!=n[e])return n[e]}function ve(n,t){return null!=n?n:t}function qn(n,t,e){return null!=n?n:null!=t?t:e}function Lf(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return Df.apply(n,t)}function Of(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function Rt(n,t){if(!n)throw new Error(t)}function Pn(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var b0="__ec_primitive__";function yu(n){n[b0]=!0}function ds(n){return n[b0]}var PP=function(){function n(){this.data={}}return n.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},n.prototype.has=function(t){return this.data.hasOwnProperty(t)},n.prototype.get=function(t){return this.data[t]},n.prototype.set=function(t,e){return this.data[t]=e,this},n.prototype.keys=function(){return we(this.data)},n.prototype.forEach=function(t){var e=this.data;for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)},n}(),w0="function"==typeof Map,OP=function(){function n(t){var e=F(t);this.data=w0?new Map:new PP;var r=this;function i(a,o){e?r.set(a,o):r.set(o,a)}t instanceof n?t.each(i):t&&D(t,i)}return n.prototype.hasKey=function(t){return this.data.has(t)},n.prototype.get=function(t){return this.data.get(t)},n.prototype.set=function(t,e){return this.data.set(t,e),e},n.prototype.each=function(t,e){this.data.forEach(function(r,i){t.call(e,r,i)})},n.prototype.keys=function(){var t=this.data.keys();return w0?Array.from(t):t},n.prototype.removeKey=function(t){this.data.delete(t)},n}();function Q(n){return new OP(n)}function gs(n,t){for(var e=new n.constructor(n.length+t.length),r=0;r<n.length;r++)e[r]=n[r];var i=n.length;for(r=0;r<t.length;r++)e[r+i]=t[r];return e}function _u(n,t){var e;if(Object.create)e=Object.create(n);else{var r=function(){};r.prototype=n,e=new r}return t&&V(e,t),e}function C0(n){var t=n.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function X(n,t){return n.hasOwnProperty(t)}function tt(){}var Su=180/Math.PI,Rf=function(n,t){return(Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function Ze(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}Rf(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function Ri(n,t){return null==n&&(n=0),null==t&&(t=0),[n,t]}function Nt(n,t){return n[0]=t[0],n[1]=t[1],n}function wr(n){return[n[0],n[1]]}function kP(n,t,e){return n[0]=t,n[1]=e,n}function M0(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function Nf(n,t,e,r){return n[0]=t[0]+e[0]*r,n[1]=t[1]+e[1]*r,n}function Ni(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function kf(n){return Math.sqrt(function(n){return n[0]*n[0]+n[1]*n[1]}(n))}function bu(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function ro(n,t){var e=kf(t);return 0===e?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function Ef(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var $r=Ef,ki=function(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])};function wu(n,t,e,r){return n[0]=t[0]+r*(e[0]-t[0]),n[1]=t[1]+r*(e[1]-t[1]),n}function _t(n,t,e){var r=t[0],i=t[1];return n[0]=e[0]*r+e[2]*i+e[4],n[1]=e[1]*r+e[3]*i+e[5],n}function Xr(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function Qr(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var io=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},VP=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new io(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,i=t.offsetY,a=r-this._x,o=i-this._y;this._x=r,this._y=i,e.drift(a,o,t),this.handler.dispatchToElement(new io(e,t),"drag",t.event);var s=this.handler.findHover(r,i,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new io(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new io(s,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new io(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new io(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}();const FP=VP;var GP=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"==typeof e&&(i=r,r=e,e=null),!r||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),a[t]||(a[t]=[]);for(var s=0;s<a[t].length;s++)if(a[t][s].h===r)return this;var l={h:r,query:e,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},u=a[t].length-1,c=a[t][u];return c&&c.callAtLast?a[t].splice(u,0,l):a[t].push(l),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var i=[],a=0,o=r[t].length;a<o;a++)r[t][a].h!==e&&i.push(r[t][a]);r[t]=i}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},n.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!a||!a.filter||null==u.query||a.filter(t,u.query))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e)}}return a&&a.afterTrigger&&a.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,s=e[o-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!a||!a.filter||null==c.query||a.filter(t,c.query))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,e[0]);break;case 2:c.h.call(s,e[0],e[1]);break;default:c.h.apply(s,e.slice(1,o-1))}}return a&&a.afterTrigger&&a.afterTrigger(t),this},n}();const cn=GP;var HP=Math.log(2);function Bf(n,t,e,r,i,a){var o=r+"-"+i,s=n.length;if(a.hasOwnProperty(o))return a[o];if(1===t){var l=Math.round(Math.log((1<<s)-1&~i)/HP);return n[e][l]}for(var u=r|1<<e,c=e+1;r&1<<c;)c++;for(var h=0,f=0,v=0;f<s;f++){var p=1<<f;p&i||(h+=(v%2?-1:1)*n[e][f]*Bf(n,t-1,c,u,i|p,a),v++)}return a[o]=h,h}function A0(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],r={},i=Bf(e,8,0,0,0,r);if(0!==i){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*Bf(e,7,0===o?1:0,1<<o,1<<s,r)/i*t[o];return function(l,u,c){var h=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/h,l[1]=(u*a[3]+c*a[4]+a[5])/h}}}var I0="___zrEVENTSAVED",Vf=[];function Ff(n,t,e,r,i){if(t.getBoundingClientRect&&ze.domSupported&&!P0(t)){var a=t[I0]||(t[I0]={}),o=function(n,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),l=a%2,u=(a>>1)%2;o.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[u]+":0",r[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),n.appendChild(o),e.push(o)}return e}(t,a),s=function(n,t,e){for(var r=e?"invTrans":"trans",i=t[r],a=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=n[u].getBoundingClientRect(),h=2*u,f=c.left,v=c.top;o.push(f,v),l=l&&a&&f===a[h]&&v===a[h+1],s.push(n[u].offsetLeft,n[u].offsetTop)}return l&&i?i:(t.srcCoords=o,t[r]=e?A0(s,o):A0(o,s))}(o,a,i);if(s)return s(n,e,r),!0}return!1}function P0(n){return"CANVAS"===n.nodeName.toUpperCase()}var UP=/([&<>"'])/g,$P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Dt(n){return null==n?"":(n+"").replace(UP,function(t,e){return $P[e]})}var XP=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Gf=[],QP=ze.browser.firefox&&+ze.browser.version.split(".")[0]<39;function Hf(n,t,e,r){return e=e||{},r?L0(n,t,e):QP&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):L0(n,t,e),e}function L0(n,t,e){if(ze.domSupported&&n.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(P0(n)){var a=n.getBoundingClientRect();return e.zrX=r-a.left,void(e.zrY=i-a.top)}if(Ff(Gf,n,r,i))return e.zrX=Gf[0],void(e.zrY=Gf[1])}e.zrX=e.zrY=0}function Wf(n){return n||window.event}function hn(n,t,e){if(null!=(t=Wf(t)).zrX)return t;var r=t.type;if(r&&r.indexOf("touch")>=0){var o="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];o&&Hf(n,o,t,e)}else{Hf(n,t,t,e);var a=function(n){var t=n.wheelDelta;if(t)return t;var e=n.deltaX,r=n.deltaY;return null==e||null==r?t:3*Math.abs(0!==r?r:e)*(r>0?-1:r<0?1:e>0?-1:1)}(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var s=t.button;return null==t.which&&void 0!==s&&XP.test(t.type)&&(t.which=1&s?1:2&s?3:4&s?2:0),t}function Yf(n,t,e,r){n.addEventListener(t,e,r)}function qP(n,t,e,r){n.removeEventListener(t,e,r)}var Cr=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function O0(n){return 2===n.which||3===n.which}var jP=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,r){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},o=0,s=i.length;o<s;o++){var l=i[o],u=Hf(r,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},n.prototype._recognize=function(t){for(var e in Zf)if(Zf.hasOwnProperty(e)){var r=Zf[e](this._track,t);if(r)return r}},n}();function R0(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}var Zf={pinch:function(n,t){var e=n.length;if(e){var r=(n[e-1]||{}).points,i=(n[e-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=R0(r)/R0(i);!isFinite(a)&&(a=1),t.pinchScale=a;var o=function(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}(r);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:n[0].target,event:t}}}}};function Cu(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Uf(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Tr(n,t,e){var i=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=t[0]*e[0]+t[2]*e[1],n[1]=i,n[2]=a,n[3]=o,n[4]=s,n[5]=l,n}function jn(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function Ei(n,t,e,r){void 0===r&&(r=[0,0]);var i=t[0],a=t[2],o=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(e),h=Math.cos(e);return n[0]=i*h+s*c,n[1]=-i*c+s*h,n[2]=a*h+l*c,n[3]=-a*c+h*l,n[4]=h*(o-r[0])+c*(u-r[1])+r[0],n[5]=h*(u-r[1])-c*(o-r[0])+r[1],n}function $f(n,t,e){var r=e[0],i=e[1];return n[0]=t[0]*r,n[1]=t[1]*i,n[2]=t[2]*r,n[3]=t[3]*i,n[4]=t[4]*r,n[5]=t[5]*i,n}function ao(n,t){var e=t[0],r=t[2],i=t[4],a=t[1],o=t[3],s=t[5],l=e*o-a*r;return l?(n[0]=o*(l=1/l),n[1]=-a*l,n[2]=-r*l,n[3]=e*l,n[4]=(r*s-o*i)*l,n[5]=(a*i-e*s)*l,n):null}var tL=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,r=this.y;return this.x=t[0]*e+t[2]*r+t[4],this.y=t[1]*e+t[3]*r+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,r){t.x=e,t.y=r},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,r){t.x=e.x+r.x,t.y=e.y+r.y},n.sub=function(t,e,r){t.x=e.x-r.x,t.y=e.y-r.y},n.scale=function(t,e,r){t.x=e.x*r,t.y=e.y*r},n.scaleAndAdd=function(t,e,r,i){t.x=e.x+r.x*i,t.y=e.y+r.y*i},n.lerp=function(t,e,r,i){var a=1-i;t.x=a*e.x+i*r.x,t.y=a*e.y+i*r.y},n}();const ge=tL;var Tu=Math.min,zu=Math.max,Bi=new ge,Vi=new ge,Fi=new ge,Gi=new ge,ms=new ge,ys=new ge,nL=function(){function n(t,e,r,i){r<0&&(t+=r,r=-r),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=r,this.height=i}return n.prototype.union=function(t){var e=Tu(t.x,this.x),r=Tu(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?zu(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?zu(t.y+t.height,this.y+this.height)-r:t.height,this.x=e,this.y=r},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,r=t.width/e.width,i=t.height/e.height,a=[1,0,0,1,0,0];return jn(a,a,[-e.x,-e.y]),$f(a,a,[r,i]),jn(a,a,[t.x,t.y]),a},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var r=this,i=r.x,a=r.x+r.width,o=r.y,s=r.y+r.height,l=t.x,u=t.x+t.width,c=t.y,h=t.y+t.height,f=!(a<l||u<i||s<c||h<o);if(e){var v=1/0,p=0,g=Math.abs(a-l),m=Math.abs(u-i),y=Math.abs(s-c),_=Math.abs(h-o),S=Math.min(g,m),x=Math.min(y,_);a<l||u<i?S>p&&(p=S,ge.set(ys,g<m?-g:m,0)):S<v&&(v=S,ge.set(ms,g<m?g:-m,0)),s<c||h<o?x>p&&(p=x,ge.set(ys,0,y<_?-y:_)):S<v&&(v=S,ge.set(ms,0,y<_?y:-_))}return e&&ge.copy(e,f?ms:ys),f},n.prototype.contain=function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],s=r[5];return t.x=e.x*i+r[4],t.y=e.y*a+s,t.width=e.width*i,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Bi.x=Fi.x=e.x,Bi.y=Gi.y=e.y,Vi.x=Gi.x=e.x+e.width,Vi.y=Fi.y=e.y+e.height,Bi.transform(r),Gi.transform(r),Vi.transform(r),Fi.transform(r),t.x=Tu(Bi.x,Vi.x,Fi.x,Gi.x),t.y=Tu(Bi.y,Vi.y,Fi.y,Gi.y);var l=zu(Bi.x,Vi.x,Fi.x,Gi.x),u=zu(Bi.y,Vi.y,Fi.y,Gi.y);t.width=l-t.x,t.height=u-t.y}else t!==e&&n.copy(t,e)},n}();const me=nL;function iL(){Cr(this.event)}var aL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return Ze(t,n),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(cn),_s=function(t,e){this.x=t,this.y=e},oL=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Xf=new me(0,0,0,0),k0=function(n){function t(e,r,i,a,o){var s=n.call(this)||this;return s._hovered=new _s(0,0),s.storage=e,s.painter=r,s.painterRoot=a,s._pointerSize=o,i=i||new aL,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new FP(s),s}return Ze(t,n),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(D(oL,function(r){e.on&&e.on(r,this[r],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var r=e.zrX,i=e.zrY,a=B0(this,r,i),o=this._hovered,s=o.target;s&&!s.__zr&&(s=(o=this.findHover(o.x,o.y)).target);var l=this._hovered=a?new _s(r,i):this.findHover(r,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var r=e.zrEventControl;"only_globalout"!==r&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==r&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new _s(0,0)},t.prototype.dispatch=function(e,r){var i=this[e];i&&i.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var r=this.proxy;r.setCursor&&r.setCursor(e)},t.prototype.dispatchToElement=function(e,r,i){var a=(e=e||{}).target;if(!a||!a.silent){for(var o="on"+r,s=function(n,t,e){return{type:n,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:iL}}(r,e,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(r,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[o]&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},t.prototype.findHover=function(e,r,i){var a=this.storage.getDisplayList(),o=new _s(e,r);if(E0(a,o,e,r,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new me(e-u,r-u,l,l),h=a.length-1;h>=0;h--){var f=a[h];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(Xf.copy(f.getBoundingRect()),f.transform&&Xf.applyTransform(f.transform),Xf.intersect(c)&&s.push(f))}if(s.length)for(var p=Math.PI/12,g=2*Math.PI,m=0;m<u;m+=4)for(var y=0;y<g;y+=p)if(E0(s,o,e+m*Math.cos(y),r+m*Math.sin(y),i),o.target)return o}return o},t.prototype.processGesture=function(e,r){this._gestureMgr||(this._gestureMgr=new jP);var i=this._gestureMgr;"start"===r&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===r&&i.clear(),a){var o=a.type;e.gestureEvent=o;var s=new _s;s.target=a.target,this.dispatchToElement(s,o,a.event)}},t}(cn);function sL(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var r=n,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(t,e))return!1}r.silent&&(i=!0),r=r.__hostTarget||r.parent}return!i||"silent"}return!1}function E0(n,t,e,r,i){for(var a=n.length-1;a>=0;a--){var o=n[a],s=void 0;if(o!==i&&!o.ignore&&(s=sL(o,e,r))&&(!t.topTarget&&(t.topTarget=o),"silent"!==s)){t.target=o;break}}}function B0(n,t,e){var r=n.painter;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}D(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){k0.prototype[n]=function(t){var a,o,e=t.zrX,r=t.zrY,i=B0(this,e,r);if(("mouseup"!==n||!i)&&(o=(a=this.findHover(e,r)).target),"mousedown"===n)this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if("mouseup"===n)this._upEl=o;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||$r(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,t)}});const lL=k0;function F0(n,t,e,r){var i=t+1;if(i===e)return 1;if(r(n[i++],n[t])<0){for(;i<e&&r(n[i],n[i-1])<0;)i++;!function(n,t,e){for(e--;t<e;){var r=n[t];n[t++]=n[e],n[e--]=r}}(n,t,i)}else for(;i<e&&r(n[i],n[i-1])>=0;)i++;return i-t}function G0(n,t,e,r,i){for(r===t&&r++;r<e;r++){for(var l,a=n[r],o=t,s=r;o<s;)i(a,n[l=o+s>>>1])<0?s=l:o=l+1;var u=r-o;switch(u){case 3:n[o+3]=n[o+2];case 2:n[o+2]=n[o+1];case 1:n[o+1]=n[o];break;default:for(;u>0;)n[o+u]=n[o+u-1],u--}n[o]=a}}function Qf(n,t,e,r,i,a){var o=0,s=0,l=1;if(a(n,t[e+i])>0){for(s=r-i;l<s&&a(n,t[e+i+l])>0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(n,t[e+i-l])<=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}for(o++;o<l;){var c=o+(l-o>>>1);a(n,t[e+c])>0?o=c+1:l=c}return l}function Jf(n,t,e,r,i,a){var o=0,s=0,l=1;if(a(n,t[e+i])<0){for(s=i+1;l<s&&a(n,t[e+i-l])<0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}else{for(s=r-i;l<s&&a(n,t[e+i+l])>=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var c=o+(l-o>>>1);a(n,t[e+c])<0?l=c:o=c+1}return l}function Du(n,t,e,r){e||(e=0),r||(r=n.length);var i=r-e;if(!(i<2)){var a=0;if(i<32)return void G0(n,e,r,e+(a=F0(n,e,r,t)),t);var o=function(n,t){var r,i,e=7,a=0,o=[];function c(v){var p=r[v],g=i[v],m=r[v+1],y=i[v+1];i[v]=g+y,v===a-3&&(r[v+1]=r[v+2],i[v+1]=i[v+2]),a--;var _=Jf(n[m],n,p,g,0,t);p+=_,0!=(g-=_)&&0!==(y=Qf(n[p+g-1],n,m,y,y-1,t))&&(g<=y?function(v,p,g,m){var y=0;for(y=0;y<p;y++)o[y]=n[v+y];var _=0,S=g,x=v;if(n[x++]=n[S++],0!=--m)if(1!==p){for(var w,C,T,b=e;;){w=0,C=0,T=!1;do{if(t(n[S],o[_])<0){if(n[x++]=n[S++],C++,w=0,0==--m){T=!0;break}}else if(n[x++]=o[_++],w++,C=0,1==--p){T=!0;break}}while((w|C)<b);if(T)break;do{if(0!==(w=Jf(n[S],o,_,p,0,t))){for(y=0;y<w;y++)n[x+y]=o[_+y];if(x+=w,_+=w,(p-=w)<=1){T=!0;break}}if(n[x++]=n[S++],0==--m){T=!0;break}if(0!==(C=Qf(o[_],n,S,m,0,t))){for(y=0;y<C;y++)n[x+y]=n[S+y];if(x+=C,S+=C,0==(m-=C)){T=!0;break}}if(n[x++]=o[_++],1==--p){T=!0;break}b--}while(w>=7||C>=7);if(T)break;b<0&&(b=0),b+=2}if((e=b)<1&&(e=1),1===p){for(y=0;y<m;y++)n[x+y]=n[S+y];n[x+m]=o[_]}else{if(0===p)throw new Error;for(y=0;y<p;y++)n[x+y]=o[_+y]}}else{for(y=0;y<m;y++)n[x+y]=n[S+y];n[x+m]=o[_]}else for(y=0;y<p;y++)n[x+y]=o[_+y]}(p,g,m,y):function(v,p,g,m){var y=0;for(y=0;y<m;y++)o[y]=n[g+y];var _=v+p-1,S=m-1,x=g+m-1,b=0,w=0;if(n[x--]=n[_--],0!=--p)if(1!==m){for(var C=e;;){var T=0,z=0,M=!1;do{if(t(o[S],n[_])<0){if(n[x--]=n[_--],T++,z=0,0==--p){M=!0;break}}else if(n[x--]=o[S--],z++,T=0,1==--m){M=!0;break}}while((T|z)<C);if(M)break;do{if(0!=(T=p-Jf(o[S],n,v,p,p-1,t))){for(p-=T,w=1+(x-=T),b=1+(_-=T),y=T-1;y>=0;y--)n[w+y]=n[b+y];if(0===p){M=!0;break}}if(n[x--]=o[S--],1==--m){M=!0;break}if(0!=(z=m-Qf(n[_],o,0,m,m-1,t))){for(m-=z,w=1+(x-=z),b=1+(S-=z),y=0;y<z;y++)n[w+y]=o[b+y];if(m<=1){M=!0;break}}if(n[x--]=n[_--],0==--p){M=!0;break}C--}while(T>=7||z>=7);if(M)break;C<0&&(C=0),C+=2}if((e=C)<1&&(e=1),1===m){for(w=1+(x-=p),b=1+(_-=p),y=p-1;y>=0;y--)n[w+y]=n[b+y];n[x]=o[S]}else{if(0===m)throw new Error;for(b=x-(m-1),y=0;y<m;y++)n[b+y]=o[y]}}else{for(w=1+(x-=p),b=1+(_-=p),y=p-1;y>=0;y--)n[w+y]=n[b+y];n[x]=o[S]}else for(b=x-(m-1),y=0;y<m;y++)n[b+y]=o[y]}(p,g,m,y))}return r=[],i=[],{mergeRuns:function(){for(;a>1;){var v=a-2;if(v>=1&&i[v-1]<=i[v]+i[v+1]||v>=2&&i[v-2]<=i[v]+i[v-1])i[v-1]<i[v+1]&&v--;else if(i[v]>i[v+1])break;c(v)}},forceMergeRuns:function(){for(;a>1;){var v=a-2;v>0&&i[v-1]<i[v+1]&&v--,c(v)}},pushRun:function(v,p){r[a]=v,i[a]=p,a+=1}}}(n,t),s=function(n){for(var t=0;n>=32;)t|=1&n,n>>=1;return n+t}(i);do{if((a=F0(n,e,r,t))<s){var l=i;l>s&&(l=s),G0(n,e,e+l,e+a,t),a=l}o.pushRun(e,a),o.mergeRuns(),i-=a,e+=a}while(0!==i);o.forceMergeRuns()}}var H0=!1;function qf(){H0||(H0=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function W0(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var fL=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=W0}return n.prototype.traverse=function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(e),r},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);r.length=this._displayListLen,Du(r,W0)},n.prototype._updateAndAddDisplayable=function(t,e,r){if(!t.ignore||r){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var a=i,o=t;a;)a.parent=o,a.updateTransform(),e.push(a),o=a,a=a.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=1),this._updateAndAddDisplayable(u,e,r)}t.__dirty=0}else{var c=t;e&&e.length?c.__clipPaths=e:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(qf(),c.z=0),isNaN(c.z2)&&(qf(),c.z2=0),isNaN(c.zlevel)&&(qf(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,e,r);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,e,r);var v=t.getTextContent();v&&this._updateAndAddDisplayable(v,e,r)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,r=t.length;e<r;e++)this.delRoot(t[e]);else{var i=_e(this._roots,t);i>=0&&this._roots.splice(i,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const vL=fL;var Y0;Y0=ze.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const jf=Y0;var Mu={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-Mu.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*Mu.bounceIn(2*n):.5*Mu.bounceOut(2*n-1)+.5}};const Z0=Mu;var Au=Math.pow,Jr=Math.sqrt,$0=Jr(3),Pu=1/3,Kn=Ri(),fn=Ri(),so=Ri();function qr(n){return n>-1e-8&&n<1e-8}function X0(n){return n>1e-8||n<-1e-8}function ct(n,t,e,r,i){var a=1-i;return a*a*(a*n+3*i*t)+i*i*(i*r+3*a*e)}function Q0(n,t,e,r,i){var a=1-i;return 3*(((t-n)*a+2*(e-t)*i)*a+(r-e)*i*i)}function Lu(n,t,e,r,i,a){var o=r+3*(t-e)-n,s=3*(e-2*t+n),l=3*(t-n),u=n-i,c=s*s-3*o*l,h=s*l-9*o*u,f=l*l-3*s*u,v=0;if(qr(c)&&qr(h))qr(s)?a[0]=0:(p=-l/s)>=0&&p<=1&&(a[v++]=p);else{var g=h*h-4*c*f;if(qr(g)){var m=h/c,y=-m/2;(p=-s/o+m)>=0&&p<=1&&(a[v++]=p),y>=0&&y<=1&&(a[v++]=y)}else if(g>0){var _=Jr(g),S=c*s+1.5*o*(-h+_),x=c*s+1.5*o*(-h-_);(p=(-s-((S=S<0?-Au(-S,Pu):Au(S,Pu))+(x=x<0?-Au(-x,Pu):Au(x,Pu))))/(3*o))>=0&&p<=1&&(a[v++]=p)}else{var b=(2*c*s-3*o*h)/(2*Jr(c*c*c)),w=Math.acos(b)/3,C=Jr(c),T=Math.cos(w),p=(-s-2*C*T)/(3*o),z=(y=(-s+C*(T+$0*Math.sin(w)))/(3*o),(-s+C*(T-$0*Math.sin(w)))/(3*o));p>=0&&p<=1&&(a[v++]=p),y>=0&&y<=1&&(a[v++]=y),z>=0&&z<=1&&(a[v++]=z)}}return v}function J0(n,t,e,r,i){var a=6*e-12*t+6*n,o=9*t+3*r-3*n-9*e,s=3*t-3*n,l=0;if(qr(o))X0(a)&&(u=-s/a)>=0&&u<=1&&(i[l++]=u);else{var c=a*a-4*o*s;if(qr(c))i[0]=-a/(2*o);else if(c>0){var u,h=Jr(c),f=(-a-h)/(2*o);(u=(-a+h)/(2*o))>=0&&u<=1&&(i[l++]=u),f>=0&&f<=1&&(i[l++]=f)}}return l}function jr(n,t,e,r,i,a){var o=(t-n)*i+n,s=(e-t)*i+t,l=(r-e)*i+e,u=(s-o)*i+o,c=(l-s)*i+s,h=(c-u)*i+u;a[0]=n,a[1]=o,a[2]=u,a[3]=h,a[4]=h,a[5]=c,a[6]=l,a[7]=r}function q0(n,t,e,r,i,a,o,s,l,u,c){var h,p,g,m,y,f=.005,v=1/0;Kn[0]=l,Kn[1]=u;for(var _=0;_<1;_+=.05)fn[0]=ct(n,e,i,o,_),fn[1]=ct(t,r,a,s,_),(m=ki(Kn,fn))<v&&(h=_,v=m);v=1/0;for(var S=0;S<32&&!(f<1e-4);S++)g=h+f,fn[0]=ct(n,e,i,o,p=h-f),fn[1]=ct(t,r,a,s,p),m=ki(fn,Kn),p>=0&&m<v?(h=p,v=m):(so[0]=ct(n,e,i,o,g),so[1]=ct(t,r,a,s,g),y=ki(so,Kn),g<=1&&y<v?(h=g,v=y):f*=.5);return c&&(c[0]=ct(n,e,i,o,h),c[1]=ct(t,r,a,s,h)),Jr(v)}function pL(n,t,e,r,i,a,o,s,l){for(var u=n,c=t,h=0,f=1/l,v=1;v<=l;v++){var p=v*f,g=ct(n,e,i,o,p),m=ct(t,r,a,s,p),y=g-u,_=m-c;h+=Math.sqrt(y*y+_*_),u=g,c=m}return h}function mt(n,t,e,r){var i=1-r;return i*(i*n+2*r*t)+r*r*e}function Kf(n,t,e,r){return 2*((1-r)*(t-n)+r*(e-t))}function j0(n,t,e){var r=n+e-2*t;return 0===r?.5:(n-t)/r}function bs(n,t,e,r,i){var a=(t-n)*r+n,o=(e-t)*r+t,s=(o-a)*r+a;i[0]=n,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=e}function K0(n,t,e,r,i,a,o,s,l){var u,c=.005,h=1/0;Kn[0]=o,Kn[1]=s;for(var f=0;f<1;f+=.05)fn[0]=mt(n,e,i,f),fn[1]=mt(t,r,a,f),(v=ki(Kn,fn))<h&&(u=f,h=v);h=1/0;for(var p=0;p<32&&!(c<1e-4);p++){var g=u-c,m=u+c;fn[0]=mt(n,e,i,g),fn[1]=mt(t,r,a,g);var v=ki(fn,Kn);if(g>=0&&v<h)u=g,h=v;else{so[0]=mt(n,e,i,m),so[1]=mt(t,r,a,m);var y=ki(so,Kn);m<=1&&y<h?(u=m,h=y):c*=.5}}return l&&(l[0]=mt(n,e,i,u),l[1]=mt(t,r,a,u)),Jr(h)}function gL(n,t,e,r,i,a,o){for(var s=n,l=t,u=0,c=1/o,h=1;h<=o;h++){var f=h*c,v=mt(n,e,i,f),p=mt(t,r,a,f),g=v-s,m=p-l;u+=Math.sqrt(g*g+m*m),s=v,l=p}return u}var mL=/cubic-bezier\(([0-9,\.e ]+)\)/;function ev(n){var t=n&&mL.exec(n);if(t){var e=t[1].split(","),r=+Pn(e[0]),i=+Pn(e[1]),a=+Pn(e[2]),o=+Pn(e[3]);if(isNaN(r+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:Lu(0,r,a,1,l,s)&&ct(0,i,o,1,s[0])}}}var yL=function(){function n(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||tt,this.ondestroy=t.ondestroy||tt,this.onrestart=t.onrestart||tt,t.easing&&this.setEasing(t.easing)}return n.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var r=this._life,i=t-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),1===a){if(!this.loop)return!0;this._startTime=t-i%r,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(t){this.easing=t,this.easingFunc=ee(t)?t:Z0[t]||ev(t)},n}();const _L=yL;var e_=function(t){this.value=t},SL=function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new e_(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),xL=function(){function n(t){this._list=new SL,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var r=this._list,i=this._map,a=null;if(null==i[t]){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new e_(e),s.key=t,r.insertEntry(s),i[t]=s}return a},n.prototype.get=function(t){var e=this._map[t],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const ws=xL;var t_={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ln(n){return(n=Math.round(n))<0?0:n>255?255:n}function Cs(n){return n<0?0:n>1?1:n}function tv(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Ln(parseFloat(t)/100*255):Ln(parseInt(t,10))}function Hi(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Cs(parseFloat(t)/100):Cs(parseFloat(t))}function nv(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}function Kr(n,t,e){return n+(t-n)*e}function vn(n,t,e,r,i){return n[0]=t,n[1]=e,n[2]=r,n[3]=i,n}function rv(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var n_=new ws(20),Ou=null;function lo(n,t){Ou&&rv(Ou,t),Ou=n_.put(n,Ou||t.slice())}function Wt(n,t){if(n){t=t||[];var e=n_.get(n);if(e)return rv(t,e);var r=(n+="").replace(/ /g,"").toLowerCase();if(r in t_)return rv(t,t_[r]),lo(n,t),t;var a,i=r.length;if("#"===r.charAt(0))return 4===i||5===i?(a=parseInt(r.slice(1,4),16))>=0&&a<=4095?(vn(t,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,5===i?parseInt(r.slice(4),16)/15:1),lo(n,t),t):void vn(t,0,0,0,1):7===i||9===i?(a=parseInt(r.slice(1,7),16))>=0&&a<=16777215?(vn(t,(16711680&a)>>16,(65280&a)>>8,255&a,9===i?parseInt(r.slice(7),16)/255:1),lo(n,t),t):void vn(t,0,0,0,1):void 0;var o=r.indexOf("("),s=r.indexOf(")");if(-1!==o&&s+1===i){var l=r.substr(0,o),u=r.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?vn(t,+u[0],+u[1],+u[2],1):vn(t,0,0,0,1);c=Hi(u.pop());case"rgb":return u.length>=3?(vn(t,tv(u[0]),tv(u[1]),tv(u[2]),3===u.length?c:Hi(u[3])),lo(n,t),t):void vn(t,0,0,0,1);case"hsla":return 4!==u.length?void vn(t,0,0,0,1):(u[3]=Hi(u[3]),iv(u,t),lo(n,t),t);case"hsl":return 3!==u.length?void vn(t,0,0,0,1):(iv(u,t),lo(n,t),t);default:return}}vn(t,0,0,0,1)}}function iv(n,t){var e=(parseFloat(n[0])%360+360)%360/360,r=Hi(n[1]),i=Hi(n[2]),a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return vn(t=t||[],Ln(255*nv(o,a,e+1/3)),Ln(255*nv(o,a,e)),Ln(255*nv(o,a,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function av(n,t){var e=Wt(n);if(e){for(var r=0;r<3;r++)e[r]=t<0?e[r]*(1-t)|0:(255-e[r])*t+e[r]|0,e[r]>255?e[r]=255:e[r]<0&&(e[r]=0);return er(e,4===e.length?"rgba":"rgb")}}function ov(n,t,e){if(t&&t.length&&n>=0&&n<=1){e=e||[];var r=n*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=t[i],s=t[a],l=r-i;return e[0]=Ln(Kr(o[0],s[0],l)),e[1]=Ln(Kr(o[1],s[1],l)),e[2]=Ln(Kr(o[2],s[2],l)),e[3]=Cs(Kr(o[3],s[3],l)),e}}function Ts(n,t,e,r){var i=Wt(n);if(n)return i=function(n){if(n){var l,u,t=n[0]/255,e=n[1]/255,r=n[2]/255,i=Math.min(t,e,r),a=Math.max(t,e,r),o=a-i,s=(a+i)/2;if(0===o)l=0,u=0;else{u=s<.5?o/(a+i):o/(2-a-i);var c=((a-t)/6+o/2)/o,h=((a-e)/6+o/2)/o,f=((a-r)/6+o/2)/o;t===a?l=f-h:e===a?l=1/3+c-f:r===a&&(l=2/3+h-c),l<0&&(l+=1),l>1&&(l-=1)}var v=[360*l,u,s];return null!=n[3]&&v.push(n[3]),v}}(i),null!=t&&(i[0]=function(n){return(n=Math.round(n))<0?0:n>360?360:n}(t)),null!=e&&(i[1]=Hi(e)),null!=r&&(i[2]=Hi(r)),er(iv(i),"rgba")}function Ru(n,t){var e=Wt(n);if(e&&null!=t)return e[3]=Cs(t),er(e,"rgba")}function er(n,t){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(e+=","+n[3]),t+"("+e+")"}}function Nu(n,t){var e=Wt(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var r_=new ws(100);function sv(n){if(U(n)){var t=r_.get(n);return t||(t=av(n,-.1),r_.put(n,t)),t}if(mu(n)){var e=V({},n);return e.colorStops=G(n.colorStops,function(r){return{offset:r.offset,color:av(r.color,-.1)}}),e}return n}var zs=Math.round;function Ds(n){var t;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=Wt(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else n="none";return{color:n,opacity:null==t?1:t}}function ei(n){return n<1e-4&&n>-1e-4}function ku(n){return zs(1e3*n)/1e3}function lv(n){return zs(1e4*n)/1e4}var zL={left:"start",right:"end",center:"middle",middle:"middle"};function a_(n){return n&&!!n.image}function uv(n){return a_(n)||function(n){return n&&!!n.svgElement}(n)}function o_(n){return"linear"===n.type}function s_(n){return"radial"===n.type}function l_(n){return n&&("linear"===n.type||"radial"===n.type)}function Eu(n){return"url(#"+n+")"}function u_(n){var t=n.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function c_(n){var t=n.x||0,e=n.y||0,r=(n.rotation||0)*Su,i=ve(n.scaleX,1),a=ve(n.scaleY,1),o=n.skewX||0,s=n.skewY||0,l=[];return(t||e)&&l.push("translate("+t+"px,"+e+"px)"),r&&l.push("rotate("+r+")"),(1!==i||1!==a)&&l.push("scale("+i+","+a+")"),(o||s)&&l.push("skew("+zs(o*Su)+"deg, "+zs(s*Su)+"deg)"),l.join(" ")}var PL=ze.hasGlobalWindow&&ee(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:"undefined"!=typeof Buffer?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},cv=Array.prototype.slice;function zr(n,t,e){return(t-n)*e+n}function hv(n,t,e,r){for(var i=t.length,a=0;a<i;a++)n[a]=zr(t[a],e[a],r);return n}function Bu(n,t,e,r){for(var i=t.length,a=0;a<i;a++)n[a]=t[a]+e[a]*r;return n}function h_(n,t,e,r){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){n[o]||(n[o]=[]);for(var s=0;s<a;s++)n[o][s]=t[o][s]+e[o][s]*r}return n}function OL(n,t){for(var e=n.length,r=t.length,i=e>r?t:n,a=Math.min(e,r),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(e,r);s++)i.push({offset:o.offset,color:o.color.slice()})}function RL(n,t,e){var r=n,i=t;if(r.push&&i.push){var a=r.length,o=i.length;if(a!==o)if(a>o)r.length=o;else for(var l=a;l<o;l++)r.push(1===e?i[l]:cv.call(i[l]));var u=r[0]&&r[0].length;for(l=0;l<r.length;l++)if(1===e)isNaN(r[l])&&(r[l]=i[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=i[l][c])}}function Ms(n){if(zt(n)){var t=n.length;if(zt(n[0])){for(var e=[],r=0;r<t;r++)e.push(cv.call(n[r]));return e}return cv.call(n)}return n}function Vu(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}function p_(n){return 4===n||5===n}function Hu(n){return 1===n||2===n}var Is=[0,0,0,0],kL=function(){function n(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e,r){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=6,l=e;if(zt(e)){var u=function(n){return zt(n&&n[0])?2:1}(e);s=u,(1===u&&!De(e[0])||2===u&&!De(e[0][0]))&&(o=!0)}else if(De(e)&&!ps(e))s=0;else if(U(e))if(isNaN(+e)){var c=Wt(e);c&&(l=c,s=3)}else s=0;else if(mu(e)){var h=V({},l);h.colorStops=G(e.colorStops,function(v){return{offset:v.offset,color:Wt(v.color)}}),o_(e)?s=4:s_(e)&&(s=5),l=h}0===a?this.valType=s:(s!==this.valType||6===s)&&(o=!0),this.discrete=this.discrete||o;var f={time:t,value:l,rawValue:e,percent:0};return r&&(f.easing=r,f.easingFunc=ee(r)?r:Z0[r]||ev(r)),i.push(f),f},n.prototype.prepare=function(t,e){var r=this.keyframes;this._needsSort&&r.sort(function(g,m){return g.time-m.time});for(var i=this.valType,a=r.length,o=r[a-1],s=this.discrete,l=Hu(i),u=p_(i),c=0;c<a;c++){var h=r[c],f=h.value,v=o.value;h.percent=h.time/t,s||(l&&c!==a-1?RL(f,v,i):u&&OL(f.colorStops,v.colorStops))}if(!s&&5!==i&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var p=r[0].value;for(c=0;c<a;c++)0===i?r[c].additiveValue=r[c].value-p:3===i?r[c].additiveValue=Bu([],r[c].value,p,-1):Hu(i)&&(r[c].additiveValue=1===i?Bu([],r[c].value,p,-1):h_([],r[c].value,p,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var c,v,p,r=null!=this._additiveTrack,i=r?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=3===a,h=this._lastFr,f=Math.min;if(1===s)v=p=o[0];else{if(e<0)c=0;else if(e<this._lastFrP){for(c=f(h+1,s-1);c>=0&&!(o[c].percent<=e);c--);c=f(c,s-2)}else{for(c=h;c<s&&!(o[c].percent>e);c++);c=f(c-1,s-2)}p=o[c+1],v=o[c]}if(v&&p){this._lastFr=c,this._lastFrP=e;var m=p.percent-v.percent,y=0===m?1:f((e-v.percent)/m,1);p.easingFunc&&(y=p.easingFunc(y));var _=r?this._additiveValue:u?Is:t[l];if((Hu(a)||u)&&!_&&(_=this._additiveValue=[]),this.discrete)t[l]=y<1?v.rawValue:p.rawValue;else if(Hu(a))1===a?hv(_,v[i],p[i],y):function(n,t,e,r){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){n[o]||(n[o]=[]);for(var s=0;s<a;s++)n[o][s]=zr(t[o][s],e[o][s],r)}}(_,v[i],p[i],y);else if(p_(a)){var S=v[i],x=p[i],b=4===a;t[l]={type:b?"linear":"radial",x:zr(S.x,x.x,y),y:zr(S.y,x.y,y),colorStops:G(S.colorStops,function(C,T){var z=x.colorStops[T];return{offset:zr(C.offset,z.offset,y),color:Vu(hv([],C.color,z.color,y))}}),global:x.global},b?(t[l].x2=zr(S.x2,x.x2,y),t[l].y2=zr(S.y2,x.y2,y)):t[l].r=zr(S.r,x.r,y)}else if(u)hv(_,v[i],p[i],y),r||(t[l]=Vu(_));else{var w=zr(v[i],p[i],y);r?this._additiveValue=w:t[l]=w}r&&this._addToTarget(t)}}},n.prototype._addToTarget=function(t){var e=this.valType,r=this.propName,i=this._additiveValue;0===e?t[r]=t[r]+i:3===e?(Wt(t[r],Is),Bu(Is,Is,i,1),t[r]=Vu(Is)):1===e?Bu(t[r],t[r],i,1):2===e&&h_(t[r],t[r],i,1)},n}(),EL=function(){function n(t,e,r,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?Af("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=r)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e,r){return this.whenWithKeys(t,e,we(e),r)},n.prototype.whenWithKeys=function(t,e,r,i){for(var a=this._tracks,o=0;o<r.length;o++){var s=r[o],l=a[s];if(!l){l=a[s]=new kL(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var h=c.keyframes,f=h[h.length-1];u=f&&f.value,3===c.valType&&u&&(u=Vu(u))}else u=this._target[s];if(null==u)continue;t>0&&l.addKeyframe(0,Ms(u),i),this._trackKeys.push(s)}l.addKeyframe(t,Ms(e[s]),i)}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,r=0;r<e;r++)t[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var r=0;r<e.length;r++)e[r].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,r=0;r<e.length;r++)t[e[r]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(t);a&&(e=a)}return e},n.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var h=u[c-1];h&&(e._target[s.propName]=h.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var f=new _L({life:i,loop:this._loop,delay:this._delay||0,onframe:function(v){e._started=2;var p=e._additiveAnimators;if(p){for(var g=!1,m=0;m<p.length;m++)if(p[m]._clip){g=!0;break}g||(e._additiveAnimators=null)}for(m=0;m<r.length;m++)r[m].step(e._target,v);var y=e._onframeCbs;if(y)for(m=0;m<y.length;m++)y[m](e._target,v)},ondestroy:function(){e._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),t&&f.setEasing(t)}else this._doneCallback();return this}},n.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.getTracks=function(){var t=this;return G(this._trackKeys,function(e){return t._tracks[e]})},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var o=r[t[a]];o&&!o.isFinished()&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var s=!0;for(a=0;a<i.length;a++)if(!r[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(t,e,r){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i],o=this._tracks[a];if(o&&!o.isFinished()){var s=o.keyframes,l=s[r?0:s.length-1];l&&(t[a]=Ms(l.rawValue))}}}},n.prototype.__changeFinalValue=function(t,e){e=e||we(t);for(var r=0;r<e.length;r++){var i=e[r],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}();const pv=EL;function uo(){return(new Date).getTime()}var BL=function(n){function t(e){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,r.stage=(e=e||{}).stage||{},r}return Ze(t,n),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var r=e.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(e){if(e.animation){var r=e.prev,i=e.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var r=e.getClip();r&&this.removeClip(r),e.animation=null},t.prototype.update=function(e){for(var r=uo()-this._pausedTime,i=r-this._time,a=this._head;a;){var o=a.next;a.step(r,i)&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=r,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,jf(function r(){e._running&&(jf(r),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=uo(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=uo(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=uo()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var r=e.next;e.prev=e.next=e.animation=null,e=r}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,r){r=r||{},this.start();var i=new pv(e,r.loop);return this.addAnimator(i),i},t}(cn);const VL=BL;var dv=ze.domSupported,gv=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:n,touch:["touchstart","touchend","touchmove"],pointer:G(n,function(i){var a=i.replace("mouse","pointer");return e.hasOwnProperty(a)?a:i})}}(),d__mouse=["mousemove","mouseup"],d__pointer=["pointermove","pointerup"],g_=!1;function mv(n){var t=n.pointerType;return"pen"===t||"touch"===t}function yv(n){n&&(n.zrByTouch=!0)}function m_(n,t){for(var e=t,r=!1;e&&9!==e.nodeType&&!(r=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return r}var WL=function(t,e){this.stopPropagation=tt,this.stopImmediatePropagation=tt,this.preventDefault=tt,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},On={mousedown:function(n){n=hn(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=hn(this.dom,n);var t=this.__mayPointerCapture;t&&(n.zrX!==t[0]||n.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=hn(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){m_(this,(n=hn(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){g_=!0,n=hn(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){g_||(n=hn(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){yv(n=hn(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),On.mousemove.call(this,n),On.mousedown.call(this,n)},touchmove:function(n){yv(n=hn(this.dom,n)),this.handler.processGesture(n,"change"),On.mousemove.call(this,n)},touchend:function(n){yv(n=hn(this.dom,n)),this.handler.processGesture(n,"end"),On.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&On.click.call(this,n)},pointerdown:function(n){On.mousedown.call(this,n)},pointermove:function(n){mv(n)||On.mousemove.call(this,n)},pointerup:function(n){On.mouseup.call(this,n)},pointerout:function(n){mv(n)||On.mouseout.call(this,n)}};D(["click","dblclick","contextmenu"],function(n){On[n]=function(t){t=hn(this.dom,t),this.trigger(n,t)}});var _v={pointermove:function(n){mv(n)||_v.mousemove.call(this,n)},pointerup:function(n){_v.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Wu(n,t,e,r){n.mounted[t]=e,n.listenerOpts[t]=r,Yf(n.domTarget,t,e,r)}function Sv(n){var t=n.mounted;for(var e in t)t.hasOwnProperty(e)&&qP(n.domTarget,e,t[e],n.listenerOpts[e]);n.mounted={}}var y_=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},UL=function(n){function t(e,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=r,i._localHandlerScope=new y_(e,On),dv&&(i._globalHandlerScope=new y_(document,_v)),function(n,t){var e=t.domHandlers;ze.pointerEventsSupported?D(gv.pointer,function(r){Wu(t,r,function(i){e[r].call(n,i)})}):(ze.touchEventsSupported&&D(gv.touch,function(r){Wu(t,r,function(i){e[r].call(n,i),function(n){n.touching=!0,null!=n.touchTimer&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}(t)})}),D(gv.mouse,function(r){Wu(t,r,function(i){i=Wf(i),t.touching||e[r].call(n,i)})}))}(i,i._localHandlerScope),i}return Ze(t,n),t.prototype.dispose=function(){Sv(this._localHandlerScope),dv&&Sv(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,dv&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var r=this._globalHandlerScope;e?function(n,t){function e(r){Wu(t,r,function(a){a=Wf(a),m_(n,a.target)||(a=function(n,t){return hn(n.dom,new WL(n,t),!0)}(n,a),t.domHandlers[r].call(n,a))},{capture:!0})}ze.pointerEventsSupported?D(d__pointer,e):ze.touchEventsSupported||D(d__mouse,e)}(this,r):Sv(r)}},t}(cn);const $L=UL;var __=1;ze.hasGlobalWindow&&(__=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Yu=__,bv="#333",wv="#ccc",S_=Cu;function Wi(n){return n>5e-5||n<-5e-5}var Yi=[],co=[],Cv=[1,0,0,1,0,0],Tv=Math.abs,QL=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return Wi(this.rotation)||Wi(this.x)||Wi(this.y)||Wi(this.scaleX-1)||Wi(this.scaleY-1)||Wi(this.skewX)||Wi(this.skewY)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),r=this.transform;e||t?(r=r||[1,0,0,1,0,0],e?this.getLocalTransform(r):S_(r),t&&(e?Tr(r,t,r):Uf(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&(S_(r),this.invTransform=null)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(Yi);var r=Yi[0]<0?-1:1,i=Yi[1]<0?-1:1,a=((Yi[0]-r)*e+r)/Yi[0]||0,o=((Yi[1]-i)*e+i)/Yi[1]||0;t[0]*=a,t[1]*=a,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],ao(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||[1,0,0,1,0,0],Tr(co,t.invTransform,e),e=co);var r=this.originX,i=this.originY;(r||i)&&(Cv[4]=r,Cv[5]=i,Tr(co,e,Cv),co[4]-=r,co[5]-=i,e=co),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var r=[t,e],i=this.invTransform;return i&&_t(r,r,i),r},n.prototype.transformCoordToGlobal=function(t,e){var r=[t,e],i=this.transform;return i&&_t(r,r,i),r},n.prototype.getLineScale=function(){var t=this.transform;return t&&Tv(t[0]-1)>1e-10&&Tv(t[3]-1)>1e-10?Math.sqrt(Tv(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){b_(this,t)},n.getLocalTransform=function(t,e){e=e||[];var r=t.originX||0,i=t.originY||0,a=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,h=t.y,f=t.skewX?Math.tan(t.skewX):0,v=t.skewY?Math.tan(-t.skewY):0;if(r||i||s||l){var p=r+s,g=i+l;e[4]=-p*a-f*g*o,e[5]=-g*o-v*p*a}else e[4]=e[5]=0;return e[0]=a,e[3]=o,e[1]=v*a,e[2]=f*o,u&&Ei(e,e,u),e[4]+=r+c,e[5]+=i+h,e},n.initDefaultProps=function(){var t=n.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),n}(),tr=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function b_(n,t){for(var e=0;e<tr.length;e++){var r=tr[e];n[r]=t[r]}}const Dr=QL;var w_={};function nn(n,t){var e=w_[t=t||Ur];e||(e=w_[t]=new ws(500));var r=e.get(n);return null==r&&(r=In.measureText(n,t).width,e.put(n,r)),r}function C_(n,t,e,r){var i=nn(n,t),a=Zu(t),o=Ls(0,i,e),s=ho(0,a,r);return new me(o,s,i,a)}function Ps(n,t,e,r){var i=((n||"")+"").split("\n");if(1===i.length)return C_(i[0],t,e,r);for(var o=new me(0,0,0,0),s=0;s<i.length;s++){var l=C_(i[s],t,e,r);0===s?o.copy(l):o.union(l)}return o}function Ls(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function ho(n,t,e){return"middle"===e?n-=t/2:"bottom"===e&&(n-=t),n}function Zu(n){return nn("\u56fd",n)}function Rn(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function Uu(n,t,e){var r=t.position||"inside",i=null!=t.distance?t.distance:5,a=e.height,o=e.width,s=a/2,l=e.x,u=e.y,c="left",h="top";if(r instanceof Array)l+=Rn(r[0],e.width),u+=Rn(r[1],e.height),c=null,h=null;else switch(r){case"left":l-=i,u+=s,c="right",h="middle";break;case"right":l+=i+o,u+=s,h="middle";break;case"top":l+=o/2,u-=i,c="center",h="bottom";break;case"bottom":l+=o/2,u+=a+i,c="center";break;case"inside":l+=o/2,u+=s,c="center",h="middle";break;case"insideLeft":l+=i,u+=s,h="middle";break;case"insideRight":l+=o-i,u+=s,c="right",h="middle";break;case"insideTop":l+=o/2,u+=i,c="center";break;case"insideBottom":l+=o/2,u+=a-i,c="center",h="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=o-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,h="bottom";break;case"insideBottomRight":l+=o-i,u+=a-i,c="right",h="bottom"}return(n=n||{}).x=l,n.y=u,n.align=c,n.verticalAlign=h,n}var zv="__zr_normal__",Dv=tr.concat(["ignore"]),JL=Jn(tr,function(n,t){return n[t]=!0,n},{ignore:!1}),fo={},qL=new me(0,0,0,0),Mv=function(){function n(t){this.id=S0(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=e.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var u=!1;if(a.copyTransform(e),null!=r.position){var c=qL;c.copy(r.layoutRect?r.layoutRect:this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(fo,r,c):Uu(fo,r,c),a.x=fo.x,a.y=fo.y,o=fo.align,s=fo.verticalAlign;var h=r.origin;if(h&&null!=r.rotation){var f=void 0,v=void 0;"center"===h?(f=.5*c.width,v=.5*c.height):(f=Rn(h[0],c.width),v=Rn(h[1],c.height)),u=!0,a.originX=-a.x+f+(i?0:c.x),a.originY=-a.y+v+(i?0:c.y)}}null!=r.rotation&&(a.rotation=r.rotation);var p=r.offset;p&&(a.x+=p[0],a.y+=p[1],u||(a.originX=-p[0],a.originY=-p[1]));var g=null==r.inside?"string"==typeof r.position&&r.position.indexOf("inside")>=0:r.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,_=void 0,S=void 0;g&&this.canBeInsideText()?(_=r.insideStroke,(null==(y=r.insideFill)||"auto"===y)&&(y=this.getInsideTextFill()),(null==_||"auto"===_)&&(_=this.getInsideTextStroke(y),S=!0)):(_=r.outsideStroke,(null==(y=r.outsideFill)||"auto"===y)&&(y=this.getOutsideFill()),(null==_||"auto"===_)&&(_=this.getOutsideStroke(y),S=!0)),((y=y||"#000")!==m.fill||_!==m.stroke||S!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(l=!0,m.fill=y,m.stroke=_,m.autoStroke=S,m.align=o,m.verticalAlign=s,e.setDefaultTextStyle(m)),e.__dirty|=1,l&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?wv:bv},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),r="string"==typeof e&&Wt(e);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*i+(a?0:255)*(1-i);return r[3]=1,er(r,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},V(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(oe(t))for(var i=we(t),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,t[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==zv)){var o=i.targetName;i.saveTo(o?e[o]:e)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Dv)},n.prototype._savePrimaryToNormal=function(t,e,r){for(var i=0;i<r.length;i++){var a=r[i];null!=t[a]&&!(a in e)&&(e[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(zv,!1,t)},n.prototype.useState=function(t,e,r,i){var a=t===zv;if(this.hasState()||!a){var s=this.currentStates,l=this.stateTransition;if(!(_e(s,t)>=0)||!e&&1!==s.length){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!a)return void Af("State "+t+" not exists.");a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,e,!r&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,f=this._textGuide;return h&&h.useState(t,e,r,c),f&&f.useState(t,e,r,c),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}}},n.prototype.useStates=function(t,e,r){if(t.length){var i=[],a=this.currentStates,o=t.length,s=o===a.length;if(s)for(var l=0;l<o;l++)if(t[l]!==a[l]){s=!1;break}if(s)return;for(l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&i.push(c)}var h=i[o-1],f=!!(h&&h.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(t.join(","),v,this._normalState,!1,!e&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,m=this._textGuide;g&&g.useStates(t,e,f),m&&m.useStates(t,e,f),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype.isSilent=function(){for(var t=this.silent,e=this.parent;!t&&e;){if(e.silent){t=!0;break}e=e.parent}return t},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=_e(this.currentStates,t);if(e>=0){var r=this.currentStates.slice();r.splice(e,1),this.useStates(r)}},n.prototype.replaceState=function(t,e,r){var i=this.currentStates.slice(),a=_e(i,t),o=_e(i,e)>=0;a>=0?o?i.splice(a,1):i[a]=e:r&&!o&&i.push(e),this.useStates(i)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var r,e={},i=0;i<t.length;i++){var a=t[i];V(e,a),a.textConfig&&V(r=r||{},a.textConfig)}return r&&(e.textConfig=r),e},n.prototype._applyStateObj=function(t,e,r,i,a,o){var s=!(e&&i);e&&e.textConfig?(this.textConfig=V({},i?this.textConfig:r.textConfig),V(this.textConfig,e.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<Dv.length;c++){var h=Dv[c],f=a&&JL[h];e&&null!=e[h]?f?(u=!0,l[h]=e[h]):this[h]=e[h]:s&&null!=r[h]&&(f?(u=!0,l[h]=r[h]):this[h]=r[h])}if(!a)for(c=0;c<this.animators.length;c++){var v=this.animators[c],p=v.targetName;v.getLoop()||v.__changeFinalValue(p?(e||r)[p]:e||r)}u&&this._transitionState(t,l,o)},n.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new Dr,this._attachComponent(t),this._textContent=t,this.markRedraw())},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),V(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,r=this._textGuide;e&&(e.__inHover=t),r&&(r.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e,r){var a=new pv(t?this[t]:this,e,r);return t&&(a.targetName=t),this.addAnimator(a,t),a},n.prototype.addAnimator=function(t,e){var r=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var a=i.animators,o=_e(a,t);o>=0&&a.splice(o,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var r=this.animators,i=r.length,a=[],o=0;o<i;o++){var s=r[o];t&&t!==s.scope?a.push(s):s.stop(e)}return this.animators=a,this},n.prototype.animateTo=function(t,e,r){Av(this,t,e,r)},n.prototype.animateFrom=function(t,e,r){Av(this,t,e,r,!0)},n.prototype._transitionState=function(t,e,r,i){for(var a=Av(this,e,r,i),o=0;o<a.length;o++)a[o].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;function i(a,o,s,l){function u(c,h){Object.defineProperty(h,0,{get:function(){return c[s]},set:function(f){c[s]=f}}),Object.defineProperty(h,1,{get:function(){return c[l]},set:function(f){c[l]=f}})}Object.defineProperty(t,a,{get:function(){return this[o]||u(this,this[o]=[]),this[o]},set:function(c){this[s]=c[0],this[l]=c[1],this[o]=c,u(this,c)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1,Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),n}();function Av(n,t,e,r,i){var a=[];T_(n,"",n,t,e=e||{},r,a,i);var o=a.length,s=!1,l=e.done,u=e.aborted,c=function(){s=!0,--o<=0&&(s?l&&l():u&&u())},h=function(){--o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&e.during&&a[0].during(function(p,g){e.during(g)});for(var f=0;f<a.length;f++){var v=a[f];c&&v.done(c),h&&v.aborted(h),e.force&&v.duration(e.duration),v.start(e.easing)}return a}function Iv(n,t,e){for(var r=0;r<e;r++)n[r]=t[r]}function KL(n,t,e){if(zt(t[e]))if(zt(n[e])||(n[e]=[]),Ht(t[e])){var r=t[e].length;n[e].length!==r&&(n[e]=new t[e].constructor(r),Iv(n[e],t[e],r))}else{var i=t[e],a=n[e],o=i.length;if(function(n){return zt(n[0])}(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?Iv(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else Iv(a,i,o);a.length=i.length}else n[e]=t[e]}function T_(n,t,e,r,i,a,o,s){for(var l=we(r),u=i.duration,c=i.delay,h=i.additive,f=i.setToFinal,v=!oe(a),p=n.animators,g=[],m=0;m<l.length;m++){var _=r[y=l[m]];if(null!=_&&null!=e[y]&&(v||a[y]))if(!oe(_)||zt(_)||mu(_))g.push(y);else{if(t){s||(e[y]=_,n.updateDuringAnimation(t));continue}T_(n,y,e[y],_,i,a&&a[y],o,s)}else s||(e[y]=_,n.updateDuringAnimation(t),g.push(y))}var S=g.length;if(!h&&S)for(var x=0;x<p.length;x++)if((b=p[x]).targetName===t&&b.stopTracks(g)){var C=_e(p,b);p.splice(C,1)}if(i.force||(g=Pe(g,function(A){return!function(n,t){return n===t||zt(n)&&zt(t)&&function(n,t){var e=n.length;if(e!==t.length)return!1;for(var r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}(n,t)}(r[A],e[A])}),S=g.length),S>0||i.force&&!o.length){var b,T=void 0,z=void 0,M=void 0;if(s)for(z={},f&&(T={}),x=0;x<S;x++)z[y=g[x]]=e[y],f?T[y]=r[y]:e[y]=r[y];else if(f)for(M={},x=0;x<S;x++){var y;M[y=g[x]]=Ms(e[y]),KL(e,r,y)}(b=new pv(e,!1,!1,h?Pe(p,function(I){return I.targetName===t}):null)).targetName=t,i.scope&&(b.scope=i.scope),f&&T&&b.whenWithKeys(0,T,g),M&&b.whenWithKeys(0,M,g),b.whenWithKeys(null==u?500:u,s?z:r,g).delay(c||0),n.addAnimator(b,t),o.push(b)}}rt(Mv,cn),rt(Mv,Dr);const z_=Mv;var D_=function(n){function t(e){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(e),r}return Ze(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===e)return r[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,r){if(e&&e!==this&&e.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,r){var i=_e(this._children,e);return i>=0&&this.replaceAt(r,i),this},t.prototype.replaceAt=function(e,r){var i=this._children,a=i[r];if(e&&e!==this&&e.parent!==this&&e!==a){i[r]=e,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var r=this.__zr;r&&r!==e.__zr&&e.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(e){var r=this.__zr,i=this._children,a=_e(i,e);return a<0||(i.splice(a,1),e.parent=null,r&&e.removeSelfFromZr(r),r&&r.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,r=this.__zr,i=0;i<e.length;i++){var a=e[i];r&&a.removeSelfFromZr(r),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,r){for(var i=this._children,a=0;a<i.length;a++)e.call(r,i[a],a);return this},t.prototype.traverse=function(e,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=e.call(r,a);a.isGroup&&!o&&a.traverse(e,r)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var r=new me(0,0,0,0),i=e||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!l.ignore&&!l.invisible){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(me.applyTransform(r,u,c),(o=o||r.clone()).union(r)):(o=o||u.clone()).union(u)}}return o||r},t}(z_);D_.prototype.type="group";const ue=D_;var Pv,$u={},Zi={},iO=function(){function n(t,e,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=e,this.id=t;var a=new vL,o=r.renderer||"canvas";$u[o]||(o=we($u)[0]),r.useDirtyRect=null!=r.useDirtyRect&&r.useDirtyRect;var s=new $u[o](e,a,r,t),l=r.ssr||s.ssrOnly;this.storage=a,this.painter=s;var v,u=ze.node||ze.worker||l?null:new $L(s.getViewportRoot(),s.root),c=r.useCoarsePointer;(null==c||"auto"===c?ze.touchEventsSupported:!!c)&&(v=ve(r.pointerSize,44)),this.handler=new lL(a,s,u,s.root,v),this.animation=new VL({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},n.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(n){if(!n)return!1;if("string"==typeof n)return Nu(n,1)<.4;if(n.colorStops){for(var t=n.colorStops,e=0,r=t.length,i=0;i<r;i++)e+=Nu(t[i].color,1);return(e/=r)<.4}return!1}(t))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(t){var e,r=uo();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=uo();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},n.prototype.resize=function(t){this._disposed||(this.painter.resize((t=t||{}).width,t.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},n.prototype.on=function(t,e,r){return this._disposed||this.handler.on(t,e,r),this},n.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},n.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},n.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof ue&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,function(n){delete Zi[n]}(this.id))},n}();function M_(n,t){var e=new iO(S0(),n,t);return Zi[e.id]=e,e}function Oe(n,t,e,r){var i=t[0],a=t[1],o=e[0],s=e[1],l=a-i,u=s-o;if(0===l)return 0===u?o:(o+s)/2;if(r)if(l>0){if(n<=i)return o;if(n>=a)return s}else{if(n>=i)return o;if(n<=a)return s}else{if(n===i)return o;if(n===a)return s}return(n-i)/l*u+o}function Y(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return U(n)?function(n){return n.replace(/^\s+|\s+$/g,"")}(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n}function Ke(n,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),e?n:+n}function pn(n){return n.sort(function(t,e){return t-e}),n}function nr(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e;return function(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),r=e>0?+t.slice(e+1):0,i=e>0?e:t.length,a=t.indexOf(".");return Math.max(0,(a<0?0:i-1-a)-r)}(n)}function P_(n,t){var e=Math.log,r=Math.LN10,i=Math.floor(e(n[1]-n[0])/r),a=Math.round(e(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function cO(n,t){var e=Math.max(nr(n),nr(t)),r=n+t;return e>20?r:Ke(r,e)}var O_=9007199254740991;function R_(n){var t=2*Math.PI;return(n%t+t)%t}function Os(n){return n>-1e-4&&n<1e-4}var hO=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function rr(n){if(n instanceof Date)return n;if(U(n)){var t=hO.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function Lv(n){if(0===n)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function N_(n,t){var e=Lv(n),r=Math.pow(10,e),i=n/r;return n=(t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,e>=-20?+n.toFixed(e<0?-e:0):n}function Ov(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],a=e-r;return a?i+a*(n[r]-i):i}function k_(n){n.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,e=1,r=0;r<n.length;){for(var i=n[r].interval,a=n[r].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-e),t=i[o],e=a[o];i[0]===i[1]&&a[0]*a[1]!=1?n.splice(r,1):r++}return n;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]==(c?-1:1)||!c&&s(l,u,1))}}function Mr(n){var t=parseFloat(n);return t==n&&(0!==t||!U(n)||n.indexOf("x")<=0)?t:NaN}function E_(n){return!isNaN(Mr(n))}function B_(){return Math.round(9*Math.random())}function V_(n,t){return 0===t?n:V_(t,n%t)}function F_(n,t){return null==n?t:null==t?n:n*t/V_(n,t)}function G_(n,t,e){return(t-n)*e+n}var H_="series\0";function ke(n){return n instanceof Array?n:null==n?[]:[n]}function Ui(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var r=0,i=e.length;r<i;r++){var a=e[r];!n.emphasis[t].hasOwnProperty(a)&&n[t].hasOwnProperty(a)&&(n.emphasis[t][a]=n[t][a])}}}var Y_=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function vo(n){return!oe(n)||F(n)||n instanceof Date?n:n.value}function vO(n){return oe(n)&&!(n instanceof Array)}function Z_(n,t,e){var r="normalMerge"===e,i="replaceMerge"===e,a="replaceAll"===e;n=n||[],t=(t||[]).slice();var o=Q();D(t,function(l,u){oe(l)||(t[u]=null)});var s=function(n,t,e){var r=[];if("replaceAll"===e)return r;for(var i=0;i<n.length;i++){var a=n[i];a&&null!=a.id&&t.set(a.id,i),r.push({existing:"replaceMerge"===e||Ns(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}(n,o,e);return(r||i)&&function(n,t,e,r){D(r,function(i,a){if(i&&null!=i.id){var o=Rs(i.id),s=e.get(o);if(null!=s){var l=n[s];Rt(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=t[s],r[a]=null}}})}(s,n,o,t),r&&function(n,t){D(t,function(e,r){if(e&&null!=e.name)for(var i=0;i<n.length;i++){var a=n[i].existing;if(!n[i].newOption&&a&&(null==a.id||null==e.id)&&!Ns(e)&&!Ns(a)&&U_("name",a,e))return n[i].newOption=e,void(t[r]=null)}})}(s,t),r||i?function(n,t,e){D(t,function(r){if(r){for(var i,a=0;(i=n[a])&&(i.newOption||Ns(i.existing)||i.existing&&null!=r.id&&!U_("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=e):n.push({newOption:r,brandNew:e,existing:null,keyInfo:null}),a++}})}(s,t,i):a&&function(n,t){D(t,function(e){n.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}(s,t),function(n){var t=Q();D(n,function(e){var r=e.existing;r&&t.set(r.id,e)}),D(n,function(e){var r=e.newOption;Rt(!r||null==r.id||!t.get(r.id)||t.get(r.id)===e,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&t.set(r.id,e),!e.keyInfo&&(e.keyInfo={})}),D(n,function(e,r){var i=e.existing,a=e.newOption,o=e.keyInfo;if(oe(a)){if(o.name=null!=a.name?Rs(a.name):i?i.name:H_+r,i)o.id=Rs(i.id);else if(null!=a.id)o.id=Rs(a.id);else{var s=0;do{o.id="\0"+o.name+"\0"+s++}while(t.get(o.id))}t.set(o.id,e)}})}(s),s}function U_(n,t,e){var r=st(t[n],null),i=st(e[n],null);return null!=r&&null!=i&&r===i}function Rs(n){return st(n,"")}function st(n,t){return null==n?t:U(n)?n:De(n)||Pf(n)?n+"":t}function Rv(n){var t=n.name;return!(!t||!t.indexOf(H_))}function Ns(n){return n&&null!=n.id&&0===Rs(n.id).indexOf("\0_ec_\0")}function $i(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?F(t.dataIndex)?G(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?F(t.name)?G(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name):void 0}function Ce(){var n="__ec_inner_"+CO++;return function(t){return t[n]||(t[n]={})}}var CO=B_();function ks(n,t,e){var r=Nv(t,e),a=r.queryOptionMap,s=r.others,l=e?e.defaultMainType:null;return!r.mainTypeSpecified&&l&&a.set(l,{}),a.each(function(u,c){var h=Es(n,c,u,{useDefault:l===c,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});s[c+"Models"]=h.models,s[c+"Model"]=h.models[0]}),s}function Nv(n,t){var e;if(U(n)){var r={};r[n+"Index"]=0,e=r}else e=n;var i=Q(),a={},o=!1;return D(e,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],h=(u[2]||"").toLowerCase();!c||!h||t&&t.includeMainTypes&&_e(t.includeMainTypes,c)<0||(o=o||!!c,(i.get(c)||i.set(c,{}))[h]=s)}else a[l]=s}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var it={useDefault:!0,enableAll:!1,enableNone:!1},TO={useDefault:!1,enableAll:!0,enableNone:!0};function Es(n,t,e,r){r=r||it;var i=e.index,a=e.id,o=e.name,s={models:null,specified:null!=i||null!=a||null!=o};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=n.getComponent(t))?[l]:[],s}return"none"===i||!1===i?(Rt(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===i&&(Rt(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=n.queryComponents({mainType:t,index:i,id:a,name:o}),s)}function $_(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function kv(n,t){var e=Q(),r=[];return D(n,function(i){var a=t(i);(e.get(a)||(r.push(a),e.set(a,[]))).push(i)}),{keys:r,buckets:e}}function X_(n,t,e,r,i){var a=null==t||"auto"===t;if(null==r)return r;if(De(r))return Ke(o=G_(e||0,r,i),a?Math.max(nr(e||0),nr(r)):t);if(U(r))return i<1?e:r;for(var s=[],l=e,u=r,c=Math.max(l?l.length:0,u.length),h=0;h<c;++h){var f=n.getDimensionInfo(h);if(f&&"ordinal"===f.type)s[h]=(i<1&&l?l:u)[h];else{var v=l&&l[h]?l[h]:0,p=u[h],o=G_(v,p,i);s[h]=Ke(o,a?Math.max(nr(v),nr(p)):t)}}return s}var Xi="___EC__COMPONENT__CONTAINER___",Q_="___EC__EXTENDED_CLASS___";function ir(n){var t={main:"",sub:""};if(n){var e=n.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function Ev(n,t){n.$constructor=n,n.extend=function(e){var i,r=this;return function(n){return ee(n)&&/^class\s/.test(Function.prototype.toString.call(n))}(r)?i=function(a){function o(){return a.apply(this,arguments)||this}return E(o,a),o}(r):(i=function(){(e.$constructor||r).apply(this,arguments)},function(n,t){var e=n.prototype;function r(){}for(var i in r.prototype=t.prototype,n.prototype=new r,e)e.hasOwnProperty(i)&&(n.prototype[i]=e[i]);n.prototype.constructor=n,n.superClass=t}(i,this)),V(i.prototype,e),i[Q_]=!0,i.extend=this.extend,i.superCall=RO,i.superApply=NO,i.superClass=r,i}}function J_(n,t){n.extend=t.extend}var LO=Math.round(10*Math.random());function RO(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return this.superClass.prototype[t].apply(n,e)}function NO(n,t,e){return this.superClass.prototype[t].apply(n,e)}function Xu(n){var t={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){(function(n){Rt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')})(i),r.prototype.type=i;var a=ir(i);if(a.sub){if(a.sub!==Xi){var o=function(r){var i=t[r.main];return(!i||!i[Xi])&&((i=t[r.main]={})[Xi]=!0),i}(a);o[a.sub]=r}}else t[a.main]=r}return r},n.getClass=function(r,i,a){var o=t[r];if(o&&o[Xi]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return o},n.getClassesByMainType=function(r){var i=ir(r),a=[],o=t[i.main];return o&&o[Xi]?D(o,function(s,l){l!==Xi&&a.push(s)}):a.push(o),a},n.hasClass=function(r){var i=ir(r);return!!t[i.main]},n.getAllClassMainTypes=function(){var r=[];return D(t,function(i,a){r.push(a)}),r},n.hasSubTypes=function(r){var i=ir(r),a=t[i.main];return a&&a[Xi]}}function Qi(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(r,i,a){for(var o={},s=0;s<n.length;s++){var l=n[s][1];if(!(i&&_e(i,l)>=0||a&&_e(a,l)<0)){var u=r.getShallow(l,t);null!=u&&(o[n[s][0]]=u)}}return o}}var EO=Qi([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),BO=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return EO(this,t,e)},n}(),Bv=new ws(50);function VO(n){if("string"==typeof n){var t=Bv.get(n);return t&&t.image}return n}function Vv(n,t,e,r,i){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!e)return t;var a=Bv.get(n),o={hostEl:e,cb:r,cbPayload:i};return a?!Qu(t=a.image)&&a.pending.push(o):((t=In.loadImage(n,q_,q_)).__zrImageSrc=n,Bv.put(n,t.__cachedImgObj={image:t,pending:[o]})),t}return n}return t}function q_(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],r=e.cb;r&&r(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Qu(n){return n&&n.width&&n.height}var Fv=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function j_(n,t,e,r,i,a){if(!e)return n.text="",void(n.isTruncated=!1);var o=(t+"").split("\n");a=K_(e,r,i,a);for(var s=!1,l={},u=0,c=o.length;u<c;u++)eS(l,o[u],a),o[u]=l.textLine,s=s||l.isTruncated;n.text=o.join("\n"),n.isTruncated=s}function K_(n,t,e,r){var i=V({},r=r||{});i.font=t,e=ve(e,"..."),i.maxIterations=ve(r.maxIterations,2);var a=i.minChar=ve(r.minChar,0);i.cnCharWidth=nn("\u56fd",t);var o=i.ascCharWidth=nn("a",t);i.placeholder=ve(r.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<a&&s>=o;l++)s-=o;var u=nn(e,t);return u>s&&(e="",u=0),s=n-u,i.ellipsis=e,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=n,i}function eS(n,t,e){var r=e.containerWidth,i=e.font,a=e.contentWidth;if(!r)return n.textLine="",void(n.isTruncated=!1);var o=nn(t,i);if(o<=r)return n.textLine=t,void(n.isTruncated=!1);for(var s=0;;s++){if(o<=a||s>=e.maxIterations){t+=e.ellipsis;break}var l=0===s?FO(t,a,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*a/o):0;o=nn(t=t.substr(0,l),i)}""===t&&(t=e.placeholder),n.textLine=t,n.isTruncated=!0}function FO(n,t,e,r){for(var i=0,a=0,o=n.length;a<o&&i<t;a++){var s=n.charCodeAt(a);i+=0<=s&&s<=127?e:r}return a}var HO=function(){},tS=function(t){this.tokens=[],t&&(this.tokens=t)},WO=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1};function Gv(n,t,e,r,i){var c,h,a=""===t,o=i&&e.rich[i]||{},s=n.lines,l=o.font||e.font,u=!1;if(r){var f=o.padding,v=f?f[1]+f[3]:0;if(null!=o.width&&"auto"!==o.width){var p=Rn(o.width,r.width)+v;s.length>0&&p+r.accumWidth>r.width&&(c=t.split("\n"),u=!0),r.accumWidth=p}else{var g=nS(t,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+v,h=g.linesWidths,c=g.lines}}else c=t.split("\n");for(var m=0;m<c.length;m++){var y=c[m],_=new HO;if(_.styleName=i,_.text=y,_.isLineHolder=!y&&!a,_.width="number"==typeof o.width?o.width:h?h[m]:nn(y,l),m||u)s.push(new tS([_]));else{var S=(s[s.length-1]||(s[0]=new tS)).tokens,x=S.length;1===x&&S[0].isLineHolder?S[0]=_:(y||!x||a)&&S.push(_)}}}var UO=Jn(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function $O(n){return!function(n){var t=n.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}(n)||!!UO[n]}function nS(n,t,e,r,i){for(var a=[],o=[],s="",l="",u=0,c=0,h=0;h<n.length;h++){var f=n.charAt(h);if("\n"!==f){var v=nn(f,t),p=!r&&!$O(f);(a.length?c+v>e:i+c+v>e)?c?(s||l)&&(p?(s||(s=l,l="",c=u=0),a.push(s),o.push(c-u),l+=f,s="",c=u+=v):(l&&(s+=l,l="",u=0),a.push(s),o.push(c),s=f,c=v)):p?(a.push(l),o.push(u),l=f,u=v):(a.push(f),o.push(v)):(c+=v,p?(l+=f,u+=v):(l&&(s+=l,l="",u=0),s+=f))}else l&&(s+=l,c+=u),a.push(s),o.push(c),s="",l="",u=0,c=0}return!a.length&&!s&&(s=n,l="",u=0),l&&(s+=l),s&&(a.push(s),o.push(c)),1===a.length&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}var Hv="__zr_style_"+Math.round(10*Math.random()),Ji={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Ju={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Ji[Hv]=!0;var rS=["z","z2","invisible"],XO=["invisible"],QO=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype._init=function(e){for(var r=we(e),i=0;i<r.length;i++){var a=r[i];"style"===a?this.useStyle(e[a]):n.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,r,i,a){var o=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(n,t,e){return Wv.copy(n.getBoundingRect()),n.transform&&Wv.applyTransform(n.transform),Yv.width=t,Yv.height=e,!Wv.intersect(Yv)}(this,e,r)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths)for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1;if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(e,r){return this.rectContain(e,r)},t.prototype.traverse=function(e,r){e.call(r,this)},t.prototype.rectContain=function(e,r){var i=this.transformCoordToLocal(e,r);return this.getBoundingRect().contain(i[0],i[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new me(0,0,0,0)),r?me.applyTransform(e,i,r):e.copy(i),(o||s||l)&&(e.width+=2*o+Math.abs(s),e.height+=2*o+Math.abs(l),e.x=Math.min(e.x,e.x+s-o),e.y=Math.min(e.y,e.y+l-o));var u=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-u),e.y=Math.floor(e.y-u),e.width=Math.ceil(e.width+1+2*u),e.height=Math.ceil(e.height+1+2*u))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new me(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,r){"style"!==e?n.prototype.attrKV.call(this,e,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(e,r){return"string"==typeof e?this.style[e]=r:V(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(e){return _u(Ji,e)},t.prototype.useStyle=function(e){e[Hv]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[Hv]},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;e.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,r,rS)},t.prototype._applyStateObj=function(e,r,i,a,o,s){n.prototype._applyStateObj.call(this,e,r,i,a,o,s);var u,l=!(r&&a);if(r&&r.style?o?a?u=r.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,r.style)):l&&(u=i.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var h=we(c),f=0;f<h.length;f++)(v=h[f])in u&&(u[v]=u[v],this.style[v]=c[v]);var p=we(u);for(f=0;f<p.length;f++)this.style[v=p[f]]=this.style[v];this._transitionState(e,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);var g=this.__inHover?XO:rS;for(f=0;f<g.length;f++){var v=g[f];r&&null!=r[v]?this[v]=r[v]:l&&null!=i[v]&&(this[v]=i[v])}},t.prototype._mergeStates=function(e){for(var i,r=n.prototype._mergeStates.call(this,e),a=0;a<e.length;a++){var o=e[a];o.style&&this._mergeStyle(i=i||{},o.style)}return i&&(r.style=i),r},t.prototype._mergeStyle=function(e,r){return V(e,r),e},t.prototype.getAnimationStyleProps=function(){return Ju},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),t;var e}(z_),Wv=new me(0,0,0,0),Yv=new me(0,0,0,0);const dn=QO;var Yt=Math.min,Zt=Math.max,Zv=Math.sin,Uv=Math.cos,qi=2*Math.PI,qu=Ri(),ju=Ri(),Ku=Ri();function ec(n,t,e){if(0!==n.length){for(var r=n[0],i=r[0],a=r[0],o=r[1],s=r[1],l=1;l<n.length;l++)i=Yt(i,(r=n[l])[0]),a=Zt(a,r[0]),o=Yt(o,r[1]),s=Zt(s,r[1]);t[0]=i,t[1]=o,e[0]=a,e[1]=s}}function iS(n,t,e,r,i,a){i[0]=Yt(n,e),i[1]=Yt(t,r),a[0]=Zt(n,e),a[1]=Zt(t,r)}var aS=[],oS=[];function qO(n,t,e,r,i,a,o,s,l,u){var c=J0,h=ct,f=c(n,e,i,o,aS);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var v=0;v<f;v++){var p=h(n,e,i,o,aS[v]);l[0]=Yt(p,l[0]),u[0]=Zt(p,u[0])}for(f=c(t,r,a,s,oS),v=0;v<f;v++){var g=h(t,r,a,s,oS[v]);l[1]=Yt(g,l[1]),u[1]=Zt(g,u[1])}l[0]=Yt(n,l[0]),u[0]=Zt(n,u[0]),l[0]=Yt(o,l[0]),u[0]=Zt(o,u[0]),l[1]=Yt(t,l[1]),u[1]=Zt(t,u[1]),l[1]=Yt(s,l[1]),u[1]=Zt(s,u[1])}function jO(n,t,e,r,i,a,o,s){var l=j0,u=mt,c=Zt(Yt(l(n,e,i),1),0),h=Zt(Yt(l(t,r,a),1),0),f=u(n,e,i,c),v=u(t,r,a,h);o[0]=Yt(n,i,f),o[1]=Yt(t,a,v),s[0]=Zt(n,i,f),s[1]=Zt(t,a,v)}function KO(n,t,e,r,i,a,o,s,l){var u=Xr,c=Qr,h=Math.abs(i-a);if(h%qi<1e-4&&h>1e-4)return s[0]=n-e,s[1]=t-r,l[0]=n+e,void(l[1]=t+r);if(qu[0]=Uv(i)*e+n,qu[1]=Zv(i)*r+t,ju[0]=Uv(a)*e+n,ju[1]=Zv(a)*r+t,u(s,qu,ju),c(l,qu,ju),(i%=qi)<0&&(i+=qi),(a%=qi)<0&&(a+=qi),i>a&&!o?a+=qi:i<a&&o&&(i+=qi),o){var f=a;a=i,i=f}for(var v=0;v<a;v+=Math.PI/2)v>i&&(Ku[0]=Uv(v)*e+n,Ku[1]=Zv(v)*r+t,u(s,Ku,s),c(l,Ku,l))}var Be={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ji=[],Ki=[],ar=[],ti=[],or=[],sr=[],$v=Math.min,Xv=Math.max,ea=Math.cos,ta=Math.sin,Ar=Math.abs,Qv=Math.PI,ni=2*Qv,Jv="undefined"!=typeof Float32Array,Bs=[];function qv(n){return Math.round(n/Qv*1e8)/1e8%2*Qv}function jv(n,t){var e=qv(n[0]);e<0&&(e+=ni);var i=n[1];i+=e-n[0],!t&&i-e>=ni?i=e+ni:t&&e-i>=ni?i=e-ni:!t&&e>i?i=e+(ni-qv(e-i)):t&&e<i&&(i=e-(ni-qv(i-e))),n[0]=e,n[1]=i}var eR=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,r){(r=r||0)>0&&(this._ux=Ar(r/Yu/t)||0,this._uy=Ar(r/Yu/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Be.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var r=Ar(t-this._xi),i=Ar(e-this._yi),a=r>this._ux||i>this._uy;if(this.addData(Be.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=r*r+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},n.prototype.bezierCurveTo=function(t,e,r,i,a,o){return this._drawPendingPt(),this.addData(Be.C,t,e,r,i,a,o),this._ctx&&this._ctx.bezierCurveTo(t,e,r,i,a,o),this._xi=a,this._yi=o,this},n.prototype.quadraticCurveTo=function(t,e,r,i){return this._drawPendingPt(),this.addData(Be.Q,t,e,r,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(t,e,r,i,a,o){return this._drawPendingPt(),Bs[0]=i,Bs[1]=a,jv(Bs,o),this.addData(Be.A,t,e,r,r,i=Bs[0],(a=Bs[1])-i,0,o?0:1),this._ctx&&this._ctx.arc(t,e,r,i,a,o),this._xi=ea(a)*r+t,this._yi=ta(a)*r+e,this},n.prototype.arcTo=function(t,e,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,r,i,a),this},n.prototype.rect=function(t,e,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,r,i),this.addData(Be.R,t,e,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Be.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&t.closePath(),this._xi=e,this._yi=r,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;(!this.data||this.data.length!==e)&&Jv&&(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,i=this._len,a=0;a<e;a++)r+=t[a].len();for(Jv&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r)),a=0;a<e;a++)for(var o=t[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},n.prototype.addData=function(t,e,r,i,a,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var h=0;h<arguments.length;h++)c[this._len++]=arguments[h]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Jv&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){ar[0]=ar[1]=or[0]=or[1]=Number.MAX_VALUE,ti[0]=ti[1]=sr[0]=sr[1]=-Number.MAX_VALUE;var o,t=this.data,e=0,r=0,i=0,a=0;for(o=0;o<this._len;){var s=t[o++],l=1===o;switch(l&&(i=e=t[o],a=r=t[o+1]),s){case Be.M:e=i=t[o++],r=a=t[o++],or[0]=i,or[1]=a,sr[0]=i,sr[1]=a;break;case Be.L:iS(e,r,t[o],t[o+1],or,sr),e=t[o++],r=t[o++];break;case Be.C:qO(e,r,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],or,sr),e=t[o++],r=t[o++];break;case Be.Q:jO(e,r,t[o++],t[o++],t[o],t[o+1],or,sr),e=t[o++],r=t[o++];break;case Be.A:var u=t[o++],c=t[o++],h=t[o++],f=t[o++],v=t[o++],p=t[o++]+v;o+=1;var g=!t[o++];l&&(i=ea(v)*h+u,a=ta(v)*f+c),KO(u,c,h,f,v,p,g,or,sr),e=ea(p)*h+u,r=ta(p)*f+c;break;case Be.R:iS(i=e=t[o++],a=r=t[o++],i+t[o++],a+t[o++],or,sr);break;case Be.Z:e=i,r=a}Xr(ar,ar,or),Qr(ti,ti,sr)}return 0===o&&(ar[0]=ar[1]=ti[0]=ti[1]=0),new me(ar[0],ar[1],ti[0]-ar[0],ti[1]-ar[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,r=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,h=0,f=0;f<e;){var v=t[f++],p=1===f;p&&(s=a=t[f],l=o=t[f+1]);var g=-1;switch(v){case Be.M:a=s=t[f++],o=l=t[f++];break;case Be.L:var m=t[f++],S=(y=t[f++])-o;(Ar(_=m-a)>r||Ar(S)>i||f===e-1)&&(g=Math.sqrt(_*_+S*S),a=m,o=y);break;case Be.C:var x=t[f++],b=t[f++],y=(m=t[f++],t[f++]),w=t[f++],C=t[f++];g=pL(a,o,x,b,m,y,w,C,10),a=w,o=C;break;case Be.Q:g=gL(a,o,x=t[f++],b=t[f++],m=t[f++],y=t[f++],10),a=m,o=y;break;case Be.A:var T=t[f++],z=t[f++],M=t[f++],A=t[f++],I=t[f++],P=t[f++],L=P+I;f+=1,p&&(s=ea(I)*M+T,l=ta(I)*A+z),g=Xv(M,A)*$v(ni,Math.abs(P)),a=ea(L)*M+T,o=ta(L)*A+z;break;case Be.R:s=a=t[f++],l=o=t[f++],g=2*t[f++]+2*t[f++];break;case Be.Z:var _=s-a;S=l-o,g=Math.sqrt(_*_+S*S),a=s,o=l}g>=0&&(u[h++]=g,c+=g)}return this._pathLen=c,c},n.prototype.rebuildPath=function(t,e){var s,l,u,c,h,f,p,_,x,b,r=this.data,i=this._ux,a=this._uy,o=this._len,v=e<1,m=0,y=0,S=0;if(!v||(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,_=e*this._pathLen))e:for(var w=0;w<o;){var C=r[w++],T=1===w;switch(T&&(s=u=r[w],l=c=r[w+1]),C!==Be.L&&S>0&&(t.lineTo(x,b),S=0),C){case Be.M:s=u=r[w++],l=c=r[w++],t.moveTo(u,c);break;case Be.L:h=r[w++],f=r[w++];var z=Ar(h-u),M=Ar(f-c);if(z>i||M>a){if(v){if(m+(A=p[y++])>_){t.lineTo(u*(1-(I=(_-m)/A))+h*I,c*(1-I)+f*I);break e}m+=A}t.lineTo(h,f),u=h,c=f,S=0}else{var P=z*z+M*M;P>S&&(x=h,b=f,S=P)}break;case Be.C:var L=r[w++],O=r[w++],R=r[w++],k=r[w++],N=r[w++],B=r[w++];if(v){if(m+(A=p[y++])>_){jr(u,L,R,N,I=(_-m)/A,ji),jr(c,O,k,B,I,Ki),t.bezierCurveTo(ji[1],Ki[1],ji[2],Ki[2],ji[3],Ki[3]);break e}m+=A}t.bezierCurveTo(L,O,R,k,N,B),u=N,c=B;break;case Be.Q:if(L=r[w++],O=r[w++],R=r[w++],k=r[w++],v){if(m+(A=p[y++])>_){bs(u,L,R,I=(_-m)/A,ji),bs(c,O,k,I,Ki),t.quadraticCurveTo(ji[1],Ki[1],ji[2],Ki[2]);break e}m+=A}t.quadraticCurveTo(L,O,R,k),u=R,c=k;break;case Be.A:var H=r[w++],W=r[w++],Z=r[w++],K=r[w++],te=r[w++],he=r[w++],Ee=r[w++],et=!r[w++],ye=Z>K?Z:K,ae=Ar(Z-K)>.001,xe=te+he,J=!1;if(v&&(m+(A=p[y++])>_&&(xe=te+he*(_-m)/A,J=!0),m+=A),ae&&t.ellipse?t.ellipse(H,W,Z,K,Ee,te,xe,et):t.arc(H,W,ye,te,xe,et),J)break e;T&&(s=ea(te)*Z+H,l=ta(te)*K+W),u=ea(xe)*Z+H,c=ta(xe)*K+W;break;case Be.R:s=u=r[w],l=c=r[w+1],h=r[w++],f=r[w++];var fe=r[w++],Ye=r[w++];if(v){if(m+(A=p[y++])>_){var Ne=_-m;t.moveTo(h,f),t.lineTo(h+$v(Ne,fe),f),(Ne-=fe)>0&&t.lineTo(h+fe,f+$v(Ne,Ye)),(Ne-=Ye)>0&&t.lineTo(h+Xv(fe-Ne,0),f+Ye),(Ne-=fe)>0&&t.lineTo(h,f+Xv(Ye-Ne,0));break e}m+=A}t.rect(h,f,fe,Ye);break;case Be.Z:if(v){var A;if(m+(A=p[y++])>_){var I;t.lineTo(u*(1-(I=(_-m)/A))+s*I,c*(1-I)+l*I);break e}m+=A}t.closePath(),u=s,c=l}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=Be,n.initDefaultProps=function(){var t=n.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),n}();const lr=eR;function ri(n,t,e,r,i,a,o){if(0===i)return!1;var l,s=i;if(o>t+s&&o>r+s||o<t-s&&o<r-s||a>n+s&&a>e+s||a<n-s&&a<e-s)return!1;if(n===e)return Math.abs(a-n)<=s/2;var c=(l=(t-r)/(n-e))*a-o+(n*r-e*t)/(n-e);return c*c/(l*l+1)<=s/2*s/2}function tR(n,t,e,r,i,a,o,s,l,u,c){if(0===l)return!1;var h=l;return!(c>t+h&&c>r+h&&c>a+h&&c>s+h||c<t-h&&c<r-h&&c<a-h&&c<s-h||u>n+h&&u>e+h&&u>i+h&&u>o+h||u<n-h&&u<e-h&&u<i-h&&u<o-h)&&q0(n,t,e,r,i,a,o,s,u,c,null)<=h/2}function sS(n,t,e,r,i,a,o,s,l){if(0===o)return!1;var u=o;return!(l>t+u&&l>r+u&&l>a+u||l<t-u&&l<r-u&&l<a-u||s>n+u&&s>e+u&&s>i+u||s<n-u&&s<e-u&&s<i-u)&&K0(n,t,e,r,i,a,s,l,null)<=u/2}var lS=2*Math.PI;function rn(n){return(n%=lS)<0&&(n+=lS),n}var Vs=2*Math.PI;function nR(n,t,e,r,i,a,o,s,l){if(0===o)return!1;var u=o;s-=n,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>e||c+u<e)return!1;if(Math.abs(r-i)%Vs<1e-4)return!0;if(a){var h=r;r=rn(i),i=rn(h)}else r=rn(r),i=rn(i);r>i&&(i+=Vs);var f=Math.atan2(l,s);return f<0&&(f+=Vs),f>=r&&f<=i||f+Vs>=r&&f+Vs<=i}function Ir(n,t,e,r,i,a){if(a>t&&a>r||a<t&&a<r||r===t)return 0;var o=(a-t)/(r-t),s=r<t?1:-1;(1===o||0===o)&&(s=r<t?.5:-.5);var l=o*(e-n)+n;return l===i?1/0:l>i?s:0}var ii=lr.CMD,na=2*Math.PI,kt=[-1,-1,-1],gn=[-1,-1];function aR(){var n=gn[0];gn[0]=gn[1],gn[1]=n}function oR(n,t,e,r,i,a,o,s,l,u){if(u>t&&u>r&&u>a&&u>s||u<t&&u<r&&u<a&&u<s)return 0;var c=Lu(t,r,a,s,u,kt);if(0===c)return 0;for(var h=0,f=-1,v=void 0,p=void 0,g=0;g<c;g++){var m=kt[g],y=0===m||1===m?.5:1;ct(n,e,i,o,m)<l||(f<0&&(f=J0(t,r,a,s,gn),gn[1]<gn[0]&&f>1&&aR(),v=ct(t,r,a,s,gn[0]),f>1&&(p=ct(t,r,a,s,gn[1]))),h+=2===f?m<gn[0]?v<t?y:-y:m<gn[1]?p<v?y:-y:s<p?y:-y:m<gn[0]?v<t?y:-y:s<v?y:-y)}return h}function sR(n,t,e,r,i,a,o,s){if(s>t&&s>r&&s>a||s<t&&s<r&&s<a)return 0;var l=function(n,t,e,r,i){var a=n-2*t+e,o=2*(t-n),s=n-r,l=0;if(qr(a))X0(o)&&(u=-s/o)>=0&&u<=1&&(i[l++]=u);else{var c=o*o-4*a*s;if(qr(c))(u=-o/(2*a))>=0&&u<=1&&(i[l++]=u);else if(c>0){var u,h=Jr(c),f=(-o-h)/(2*a);(u=(-o+h)/(2*a))>=0&&u<=1&&(i[l++]=u),f>=0&&f<=1&&(i[l++]=f)}}return l}(t,r,a,s,kt);if(0===l)return 0;var u=j0(t,r,a);if(u>=0&&u<=1){for(var c=0,h=mt(t,r,a,u),f=0;f<l;f++){var v=0===kt[f]||1===kt[f]?.5:1;mt(n,e,i,kt[f])<o||(c+=kt[f]<u?h<t?v:-v:a<h?v:-v)}return c}return v=0===kt[0]||1===kt[0]?.5:1,mt(n,e,i,kt[0])<o?0:a<t?v:-v}function lR(n,t,e,r,i,a,o,s){if((s-=t)>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);kt[0]=-l,kt[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=na-1e-4){r=0,i=na;var c=a?1:-1;return o>=kt[0]+n&&o<=kt[1]+n?c:0}if(r>i){var h=r;r=i,i=h}r<0&&(r+=na,i+=na);for(var f=0,v=0;v<2;v++){var p=kt[v];if(p+n>o){var g=Math.atan2(s,p);c=a?1:-1,g<0&&(g=na+g),(g>=r&&g<=i||g+na>=r&&g+na<=i)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),f+=c)}}return f}function uS(n,t,e,r,i){for(var f,v,a=n.data,o=n.len(),s=0,l=0,u=0,c=0,h=0,p=0;p<o;){var g=a[p++],m=1===p;switch(g===ii.M&&p>1&&(e||(s+=Ir(l,u,c,h,r,i))),m&&(c=l=a[p],h=u=a[p+1]),g){case ii.M:l=c=a[p++],u=h=a[p++];break;case ii.L:if(e){if(ri(l,u,a[p],a[p+1],t,r,i))return!0}else s+=Ir(l,u,a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case ii.C:if(e){if(tR(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],t,r,i))return!0}else s+=oR(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case ii.Q:if(e){if(sS(l,u,a[p++],a[p++],a[p],a[p+1],t,r,i))return!0}else s+=sR(l,u,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case ii.A:var y=a[p++],_=a[p++],S=a[p++],x=a[p++],b=a[p++],w=a[p++];p+=1;var C=!!(1-a[p++]);f=Math.cos(b)*S+y,v=Math.sin(b)*x+_,m?(c=f,h=v):s+=Ir(l,u,f,v,r,i);var T=(r-y)*x/S+y;if(e){if(nR(y,_,x,b,b+w,C,t,T,i))return!0}else s+=lR(y,_,x,b,b+w,C,T,i);l=Math.cos(b+w)*S+y,u=Math.sin(b+w)*x+_;break;case ii.R:if(c=l=a[p++],h=u=a[p++],f=c+a[p++],v=h+a[p++],e){if(ri(c,h,f,h,t,r,i)||ri(f,h,f,v,t,r,i)||ri(f,v,c,v,t,r,i)||ri(c,v,c,h,t,r,i))return!0}else s+=Ir(f,h,f,v,r,i),s+=Ir(c,v,c,h,r,i);break;case ii.Z:if(e){if(ri(l,u,c,h,t,r,i))return!0}else s+=Ir(l,u,c,h,r,i);l=c,u=h}}return!e&&!function(n,t){return Math.abs(n-t)<1e-4}(u,h)&&(s+=Ir(l,u,c,h,r,i)||0),0!==s}var tc=re({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Ji),hR={style:re({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Ju.style)},Kv=tr.concat(["invisible","culling","z","z2","zlevel","parent"]),fR=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.update=function(){var e=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){e.buildPath(l,e.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<Kv.length;++s)i[Kv[s]]=this[Kv[s]];i.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var r=we(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var o=r[a],s=e[o];"style"===o?this.style?V(this.style,s):this.useStyle(s):"shape"===o?V(this.shape,s):n.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(U(e)){var r=Nu(e,0);return r>.5?bv:r>.2?"#eee":wv}if(e)return wv}return bv},t.prototype.getInsideTextStroke=function(e){var r=this.style.fill;if(U(r)){var i=this.__zr;if(!(!i||!i.isDarkMode())==Nu(e,0)<.4)return r}},t.prototype.buildPath=function(e,r,i){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new lr(!1)},t.prototype.hasStroke=function(){var e=this.style,r=e.stroke;return!(null==r||"none"===r||!(e.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},t.prototype.getBoundingRect=function(){var e=this._rect,r=this.style,i=!e;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||4&this.__dirty)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),e=o.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){s.copy(e);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,null==c?4:c)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return e},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r),a=this.getBoundingRect(),o=this.style;if(a.contain(e=i[0],r=i[1])){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),function(n,t,e,r){return uS(n,t,!0,e,r)}(s,l/u,e,r)))return!0}if(this.hasFill())return function(n,t,e){return uS(n,0,!1,t,e)}(s,e,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,r){"shape"===e?this.setShape(r):n.prototype.attrKV.call(this,e,r)},t.prototype.setShape=function(e,r){var i=this.shape;return i||(i=this.shape={}),"string"==typeof e?i[e]=r:V(i,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(e){return _u(tc,e)},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;e.shape&&!r.shape&&(r.shape=V({},this.shape))},t.prototype._applyStateObj=function(e,r,i,a,o,s){n.prototype._applyStateObj.call(this,e,r,i,a,o,s);var u,l=!(r&&a);if(r&&r.shape?o?a?u=r.shape:(u=V({},i.shape),V(u,r.shape)):(u=V({},a?this.shape:i.shape),V(u,r.shape)):l&&(u=i.shape),u)if(o){this.shape=V({},this.shape);for(var c={},h=we(u),f=0;f<h.length;f++){var v=h[f];"object"==typeof u[v]?this.shape[v]=u[v]:c[v]=u[v]}this._transitionState(e,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var i,r=n.prototype._mergeStates.call(this,e),a=0;a<e.length;a++){var o=e[a];o.shape&&this._mergeStyle(i=i||{},o.shape)}return i&&(r.shape=i),r},t.prototype.getAnimationStyleProps=function(){return hR},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var r=function(a){function o(s){var l=a.call(this,s)||this;return e.init&&e.init.call(l,s),l}return Ze(o,a),o.prototype.getDefaultStyle=function(){return se(e.style)},o.prototype.getDefaultShape=function(){return se(e.shape)},o}(t);for(var i in e)"function"==typeof e[i]&&(r.prototype[i]=e[i]);return r},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),t;var e}(dn);const be=fR;var vR=re({strokeFirst:!0,font:Ur,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},tc),cS=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ze(t,n),t.prototype.hasStroke=function(){var e=this.style,r=e.stroke;return null!=r&&"none"!==r&&e.lineWidth>0},t.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},t.prototype.createStyle=function(e){return _u(vR,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var r=e.text;null!=r?r+="":r="";var i=Ps(r,e.font,e.textAlign,e.textBaseline);if(i.x+=e.x||0,i.y+=e.y||0,this.hasStroke()){var a=e.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(dn);cS.prototype.type="tspan";const Fs=cS;var pR=re({x:0,y:0},Ji),dR={style:re({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Ju.style)},hS=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ze(t,n),t.prototype.createStyle=function(e){return _u(pR,e)},t.prototype._getSize=function(e){var r=this.style,i=r[e];if(null!=i)return i;var a=function(n){return!!(n&&"string"!=typeof n&&n.width&&n.height)}(r.image)?r.image:this.__image;if(!a)return 0;var o="width"===e?"height":"width",s=r[o];return null==s?a[e]:a[e]/a[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return dR},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new me(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(dn);hS.prototype.type="image";const St=hS;var po=Math.round;function fS(n,t,e){if(t){var r=t.x1,i=t.x2,a=t.y1,o=t.y2;n.x1=r,n.x2=i,n.y1=a,n.y2=o;var s=e&&e.lineWidth;return s&&(po(2*r)===po(2*i)&&(n.x1=n.x2=ra(r,s,!0)),po(2*a)===po(2*o)&&(n.y1=n.y2=ra(a,s,!0))),n}}function vS(n,t,e){if(t){var r=t.x,i=t.y,a=t.width,o=t.height;n.x=r,n.y=i,n.width=a,n.height=o;var s=e&&e.lineWidth;return s&&(n.x=ra(r,s,!0),n.y=ra(i,s,!0),n.width=Math.max(ra(r+a,s,!1)-n.x,0===a?0:1),n.height=Math.max(ra(i+o,s,!1)-n.y,0===o?0:1)),n}}function ra(n,t,e){if(!t)return n;var r=po(2*n);return(r+po(t))%2==0?r/2:(r+(e?1:-1))/2}var yR=function(){this.x=0,this.y=0,this.width=0,this.height=0},_R={},pS=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultShape=function(){return new yR},t.prototype.buildPath=function(e,r){var i,a,o,s;if(this.subPixelOptimize){var l=vS(_R,r,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,o=r.width,s=r.height;r.r?function(n,t){var s,l,u,c,h,e=t.x,r=t.y,i=t.width,a=t.height,o=t.r;i<0&&(e+=i,i=-i),a<0&&(r+=a,a=-a),"number"==typeof o?s=l=u=c=o:o instanceof Array?1===o.length?s=l=u=c=o[0]:2===o.length?(s=u=o[0],l=c=o[1]):3===o.length?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0,s+l>i&&(s*=i/(h=s+l),l*=i/h),u+c>i&&(u*=i/(h=u+c),c*=i/h),l+u>a&&(l*=a/(h=l+u),u*=a/h),s+c>a&&(s*=a/(h=s+c),c*=a/h),n.moveTo(e+s,r),n.lineTo(e+i-l,r),0!==l&&n.arc(e+i-l,r+l,l,-Math.PI/2,0),n.lineTo(e+i,r+a-u),0!==u&&n.arc(e+i-u,r+a-u,u,0,Math.PI/2),n.lineTo(e+c,r+a),0!==c&&n.arc(e+c,r+a-c,c,Math.PI/2,Math.PI),n.lineTo(e,r+s),0!==s&&n.arc(e+s,r+s,s,Math.PI,1.5*Math.PI)}(e,r):e.rect(i,a,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(be);pS.prototype.type="rect";const Te=pS;var dS={fill:"#000"},SR={style:re({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Ju.style)},mS=function(n){function t(e){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=dS,r.attr(e),r}return Ze(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,function(n){bS(n),D(n.rich,bS)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new me(0,0,0,0),r=this._children,i=[],a=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(e.copy(l),e.applyTransform(u),(a=a||e.clone()).union(e)):(a=a||l.clone()).union(l)}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||dS},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,r){if(!r)return e;var i=r.rich,a=e.rich||i&&{};return V(e,r),i&&a?(this._mergeRich(a,i),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,r){for(var i=we(r),a=0;a<i.length;a++){var o=i[a];e[o]=e[o]||{},V(e[o],r[o])}},t.prototype.getAnimationStyleProps=function(){return SR},t.prototype._getOrCreateChild=function(e){var r=this._children[this._childCursor];return(!r||!(r instanceof e))&&(r=new e),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var e=this.style,r=e.font||Ur,i=e.padding,o=function(n,t){null!=n&&(n+="");var f,e=t.overflow,r=t.padding,i=t.font,a="truncate"===e,o=Zu(i),s=ve(t.lineHeight,o),l=!!t.backgroundColor,u="truncate"===t.lineOverflow,c=!1,h=t.width,v=(f=null==h||"break"!==e&&"breakAll"!==e?n?n.split("\n"):[]:n?nS(n,t.font,h,"breakAll"===e,0).lines:[]).length*s,p=ve(t.height,v);if(v>p&&u){var g=Math.floor(p/s);c=c||f.length>g,f=f.slice(0,g)}if(n&&a&&null!=h)for(var m=K_(h,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),y={},_=0;_<f.length;_++)eS(y,f[_],m),f[_]=y.textLine,c=c||y.isTruncated;var S=p,x=0;for(_=0;_<f.length;_++)x=Math.max(nn(f[_],i),x);null==h&&(h=x);var b=x;return r&&(S+=r[0]+r[2],b+=r[1]+r[3],h+=r[1]+r[3]),l&&(b=h),{lines:f,height:p,outerWidth:b,outerHeight:S,lineHeight:s,calculatedLineHeight:o,contentWidth:x,contentHeight:v,width:h,isTruncated:c}}(zS(e),e),s=ep(e),l=!!e.backgroundColor,u=o.outerHeight,c=o.outerWidth,h=o.contentWidth,f=o.lines,v=o.lineHeight,p=this._defaultStyle;this.isTruncated=!!o.isTruncated;var g=e.x||0,m=e.y||0,y=e.align||p.align||"left",_=e.verticalAlign||p.verticalAlign||"top",S=g,x=ho(m,o.contentHeight,_);if(s||i){var b=Ls(g,c,y),w=ho(m,u,_);s&&this._renderBackground(e,e,b,w,c,u)}x+=v/2,i&&(S=TS(g,y,i),"top"===_?x+=i[0]:"bottom"===_&&(x-=i[2]));for(var C=0,T=!1,z=(CS("fill"in e?e.fill:(T=!0,p.fill))),M=(wS("stroke"in e?e.stroke:l||p.autoStroke&&!T?null:(C=2,p.stroke))),A=e.textShadowBlur>0,I=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),P=o.calculatedLineHeight,L=0;L<f.length;L++){var O=this._getOrCreateChild(Fs),R=O.createStyle();O.useStyle(R),R.text=f[L],R.x=S,R.y=x,y&&(R.textAlign=y),R.textBaseline="middle",R.opacity=e.opacity,R.strokeFirst=!0,A&&(R.shadowBlur=e.textShadowBlur||0,R.shadowColor=e.textShadowColor||"transparent",R.shadowOffsetX=e.textShadowOffsetX||0,R.shadowOffsetY=e.textShadowOffsetY||0),R.stroke=M,R.fill=z,M&&(R.lineWidth=e.lineWidth||C,R.lineDash=e.lineDash,R.lineDashOffset=e.lineDashOffset||0),R.font=r,SS(R,e),x+=v,I&&O.setBoundingRect(new me(Ls(R.x,h,R.textAlign),ho(R.y,P,R.textBaseline),h,P))}},t.prototype._updateRichTexts=function(){var e=this.style,i=function(n,t){var e=new WO;if(null!=n&&(n+=""),!n)return e;for(var l,r=t.width,i=t.height,a=t.overflow,o="break"!==a&&"breakAll"!==a||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===a},s=Fv.lastIndex=0;null!=(l=Fv.exec(n));){var u=l.index;u>s&&Gv(e,n.substring(s,u),t,o),Gv(e,l[2],t,o,l[1]),s=Fv.lastIndex}s<n.length&&Gv(e,n.substring(s,n.length),t,o);var c=[],h=0,f=0,v=t.padding,p="truncate"===a,g="truncate"===t.lineOverflow,m={};function y(H,W,Z){H.width=W,H.lineHeight=Z,h+=Z,f=Math.max(f,W)}e:for(var _=0;_<e.lines.length;_++){for(var S=e.lines[_],x=0,b=0,w=0;w<S.tokens.length;w++){var T=(C=S.tokens[w]).styleName&&t.rich[C.styleName]||{},z=C.textPadding=T.padding,M=z?z[1]+z[3]:0,A=C.font=T.font||t.font;C.contentHeight=Zu(A);var I=ve(T.height,C.contentHeight);if(C.innerHeight=I,z&&(I+=z[0]+z[2]),C.height=I,C.lineHeight=qn(T.lineHeight,t.lineHeight,I),C.align=T&&T.align||t.align,C.verticalAlign=T&&T.verticalAlign||"middle",g&&null!=i&&h+C.lineHeight>i){var P=e.lines.length;w>0?(S.tokens=S.tokens.slice(0,w),y(S,b,x),e.lines=e.lines.slice(0,_+1)):e.lines=e.lines.slice(0,_),e.isTruncated=e.isTruncated||e.lines.length<P;break e}var L=T.width,O=null==L||"auto"===L;if("string"==typeof L&&"%"===L.charAt(L.length-1))C.percentWidth=L,c.push(C),C.contentWidth=nn(C.text,A);else{if(O){var R=T.backgroundColor,k=R&&R.image;k&&Qu(k=VO(k))&&(C.width=Math.max(C.width,k.width*I/k.height))}var N=p&&null!=r?r-b:null;null!=N&&N<C.width?!O||N<M?(C.text="",C.width=C.contentWidth=0):(j_(m,C.text,N-M,A,t.ellipsis,{minChar:t.truncateMinChar}),C.text=m.text,e.isTruncated=e.isTruncated||m.isTruncated,C.width=C.contentWidth=nn(C.text,A)):C.contentWidth=nn(C.text,A)}C.width+=M,b+=C.width,T&&(x=Math.max(x,C.lineHeight))}y(S,b,x)}for(e.outerWidth=e.width=ve(r,f),e.outerHeight=e.height=ve(i,h),e.contentHeight=h,e.contentWidth=f,v&&(e.outerWidth+=v[1]+v[3],e.outerHeight+=v[0]+v[2]),_=0;_<c.length;_++){var C;(C=c[_]).width=parseInt(C.percentWidth,10)/100*e.width}return e}(zS(e),e),a=i.width,o=i.outerWidth,s=i.outerHeight,l=e.padding,u=e.x||0,c=e.y||0,h=this._defaultStyle,f=e.align||h.align,v=e.verticalAlign||h.verticalAlign;this.isTruncated=!!i.isTruncated;var p=Ls(u,o,f),g=ho(c,s,v),m=p,y=g;l&&(m+=l[3],y+=l[0]);var _=m+a;ep(e)&&this._renderBackground(e,e,p,g,o,s);for(var S=!!e.backgroundColor,x=0;x<i.lines.length;x++){for(var b=i.lines[x],w=b.tokens,C=w.length,T=b.lineHeight,z=b.width,M=0,A=m,I=_,P=C-1,L=void 0;M<C&&(!(L=w[M]).align||"left"===L.align);)this._placeToken(L,e,T,y,A,"left",S),z-=L.width,A+=L.width,M++;for(;P>=0&&"right"===(L=w[P]).align;)this._placeToken(L,e,T,y,I,"right",S),z-=L.width,I-=L.width,P--;for(A+=(a-(A-m)-(_-I)-z)/2;M<=P;)this._placeToken(L=w[M],e,T,y,A+L.width/2,"center",S),A+=L.width,M++;y+=T}},t.prototype._placeToken=function(e,r,i,a,o,s,l){var u=r.rich[e.styleName]||{};u.text=e.text;var c=e.verticalAlign,h=a+i/2;"top"===c?h=a+e.height/2:"bottom"===c&&(h=a+i-e.height/2),!e.isLineHolder&&ep(u)&&this._renderBackground(u,r,"right"===s?o-e.width:"center"===s?o-e.width/2:o,h-e.height/2,e.width,e.height);var v=!!u.backgroundColor,p=e.textPadding;p&&(o=TS(o,s,p),h-=e.height/2-p[0]-e.innerHeight/2);var g=this._getOrCreateChild(Fs),m=g.createStyle();g.useStyle(m);var y=this._defaultStyle,_=!1,S=0,x=CS("fill"in u?u.fill:"fill"in r?r.fill:(_=!0,y.fill)),b=wS("stroke"in u?u.stroke:"stroke"in r?r.stroke:v||l||y.autoStroke&&!_?null:(S=2,y.stroke)),w=u.textShadowBlur>0||r.textShadowBlur>0;m.text=e.text,m.x=o,m.y=h,w&&(m.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,m.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",m.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,m.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=e.font||Ur,m.opacity=qn(u.opacity,r.opacity,1),SS(m,u),b&&(m.lineWidth=qn(u.lineWidth,r.lineWidth,S),m.lineDash=ve(u.lineDash,r.lineDash),m.lineDashOffset=r.lineDashOffset||0,m.stroke=b),x&&(m.fill=x);var C=e.contentWidth,T=e.contentHeight;g.setBoundingRect(new me(Ls(m.x,C,m.textAlign),ho(m.y,T,m.textBaseline),C,T))},t.prototype._renderBackground=function(e,r,i,a,o,s){var g,m,_,l=e.backgroundColor,u=e.borderWidth,c=e.borderColor,h=l&&l.image,f=l&&!h,v=e.borderRadius,p=this;if(f||e.lineHeight||u&&c){(g=this._getOrCreateChild(Te)).useStyle(g.createStyle()),g.style.fill=null;var y=g.shape;y.x=i,y.y=a,y.width=o,y.height=s,y.r=v,g.dirtyShape()}if(f)(_=g.style).fill=l||null,_.fillOpacity=ve(e.fillOpacity,1);else if(h){(m=this._getOrCreateChild(St)).onload=function(){p.dirtyStyle()};var S=m.style;S.image=l.image,S.x=i,S.y=a,S.width=o,S.height=s}u&&c&&((_=g.style).lineWidth=u,_.stroke=c,_.strokeOpacity=ve(e.strokeOpacity,1),_.lineDash=e.borderDash,_.lineDashOffset=e.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2));var x=(g||m).style;x.shadowBlur=e.shadowBlur||0,x.shadowColor=e.shadowColor||"transparent",x.shadowOffsetX=e.shadowOffsetX||0,x.shadowOffsetY=e.shadowOffsetY||0,x.opacity=qn(e.opacity,r.opacity,1)},t.makeFont=function(e){var r="";return xS(e)&&(r=[e.fontStyle,e.fontWeight,_S(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),r&&Pn(r)||e.textFont||e.font},t}(dn),xR={left:!0,right:1,center:1},bR={top:1,bottom:1,middle:1},yS=["fontStyle","fontWeight","fontSize","fontFamily"];function _S(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?"12px":n+"px":n}function SS(n,t){for(var e=0;e<yS.length;e++){var r=yS[e],i=t[r];null!=i&&(n[r]=i)}}function xS(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function bS(n){if(n){n.font=mS.makeFont(n);var t=n.align;"middle"===t&&(t="center"),n.align=null==t||xR[t]?t:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||bR[e]?e:"top",n.padding&&(n.padding=Of(n.padding))}}function wS(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function CS(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function TS(n,t,e){return"right"===t?n-e[1]:"center"===t?n+e[3]/2-e[1]/2:n+e[3]}function zS(n){var t=n.text;return null!=t&&(t+=""),t}function ep(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const Me=mS;var ce=Ce(),tp=function(n,t,e,r){if(r){var i=ce(r);i.dataIndex=e,i.dataType=t,i.seriesIndex=n,i.ssrType="chart","group"===r.type&&r.traverse(function(a){var o=ce(a);o.seriesIndex=n,o.dataIndex=e,o.dataType=t,o.ssrType="chart"})}},DS=1,MS={},AS=Ce(),np=Ce(),Et=["emphasis","blur","select"],Hs=["normal","emphasis","blur","select"],ia="highlight",rc="downplay",Ws="select",ic="unselect",Ys="toggleSelect";function mo(n){return null!=n&&"none"!==n}function ac(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function IS(n){ac(n,"emphasis",2)}function PS(n){2===n.hoverState&&ac(n,"normal",0)}function ip(n){ac(n,"blur",1)}function LS(n){1===n.hoverState&&ac(n,"normal",0)}function TR(n){n.selected=!0}function zR(n){n.selected=!1}function OS(n,t,e){t(n,e)}function Pr(n,t,e){OS(n,t,e),n.isGroup&&n.traverse(function(r){OS(r,t,e)})}function oc(n,t){switch(t){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function ap(n,t){var e=this.states[n];if(this.style){if("emphasis"===n)return function(n,t,e,r){var i=e&&_e(e,"select")>=0,a=!1;if(n instanceof be){var o=AS(n),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(mo(s)||mo(l)){var u=(r=r||{}).style||{};"inherit"===u.fill?(a=!0,r=V({},r),(u=V({},u)).fill=s):!mo(u.fill)&&mo(s)?(a=!0,r=V({},r),(u=V({},u)).fill=sv(s)):!mo(u.stroke)&&mo(l)&&(a||(r=V({},r),u=V({},u)),u.stroke=sv(l)),r.style=u}}if(r&&null==r.z2){a||(r=V({},r));var c=n.z2EmphasisLift;r.z2=n.z2+(null!=c?c:10)}return r}(this,0,t,e);if("blur"===n)return function(n,t,e){var r=_e(n.currentStates,t)>=0,i=n.style.opacity,a=r?null:function(n,t,e,r){for(var i=n.style,a={},o=0;o<t.length;o++){var s=t[o],l=i[s];a[s]=null==l?r&&r[s]:l}for(o=0;o<n.animators.length;o++){var u=n.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(e)<0&&"style"===u.targetName&&u.saveTo(a,t)}return a}(n,["opacity"],t,{opacity:1}),o=(e=e||{}).style||{};return null==o.opacity&&(e=V({},e),o=V({opacity:r?i:.1*a.opacity},o),e.style=o),e}(this,n,e);if("select"===n)return function(n,t,e){if(e&&null==e.z2){e=V({},e);var r=n.z2SelectLift;e.z2=n.z2+(null!=r?r:9)}return e}(this,0,e)}return e}function aa(n){n.stateProxy=ap;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=ap),e&&(e.stateProxy=ap)}function RS(n,t){!VS(n,t)&&!n.__highByOuter&&Pr(n,IS)}function NS(n,t){!VS(n,t)&&!n.__highByOuter&&Pr(n,PS)}function Lr(n,t){n.__highByOuter|=1<<(t||0),Pr(n,IS)}function Or(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&Pr(n,PS)}function kS(n){Pr(n,ip)}function op(n){Pr(n,LS)}function ES(n){Pr(n,TR)}function BS(n){Pr(n,zR)}function VS(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function FS(n){var t=n.getModel(),e=[],r=[];t.eachComponent(function(i,a){var o=np(a),s="series"===i,l=s?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(u){LS(u)}),s&&e.push(a)),o.isBlured=!1}),D(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(e,!1,t)})}function sp(n,t,e,r){var i=r.getModel();function a(u,c){for(var h=0;h<c.length;h++){var f=u.getItemGraphicEl(c[h]);f&&op(f)}}if(e=e||"coordinateSystem",null!=n&&t&&"none"!==t){var o=i.getSeriesByIndex(n),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var c=o===u,h=u.coordinateSystem;if(h&&h.master&&(h=h.master),!("series"===e&&!c||"coordinateSystem"===e&&!(h&&s?h===s:c)||"series"===t&&c)){if(r.getViewOfSeriesModel(u).group.traverse(function(m){m.__highByOuter&&c&&"self"===t||ip(m)}),zt(t))a(u.getData(),t);else if(oe(t))for(var p=we(t),g=0;g<p.length;g++)a(u.getData(p[g]),t[p[g]]);l.push(u),np(u).isBlured=!0}}),i.eachComponent(function(u,c){if("series"!==u){var h=r.getViewOfComponentModel(c);h&&h.toggleBlurSeries&&h.toggleBlurSeries(l,!0,i)}})}}function lp(n,t,e){if(null!=n&&null!=t){var r=e.getModel().getComponent(n,t);if(r){np(r).isBlured=!0;var i=e.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){ip(a)})}}}function up(n,t,e,r){var i={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==t||null==e)return i;var a=r.getModel().getComponent(n,t);if(!a)return i;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var l,s=o.findHighDownDispatchers(e),u=0;u<s.length;u++)if("self"===ce(s[u]).focus){l=!0;break}return{focusSelf:l,dispatchers:s}}function GS(n){D(n.getAllData(),function(e){var i=e.type;e.data.eachItemGraphicEl(function(a,o){n.isSelected(o,i)?ES(a):BS(a)})})}function NR(n){var t=[];return n.eachSeries(function(e){D(e.getAllData(),function(i){var o=i.type,s=e.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:e.seriesIndex};null!=o&&(l.dataType=o),t.push(l)}})}),t}function oa(n,t,e){sa(n,!0),Pr(n,aa),cp(n,t,e)}function Je(n,t,e,r){r?function(n){sa(n,!1)}(n):oa(n,t,e)}function cp(n,t,e){var r=ce(n);null!=t?(r.focus=t,r.blurScope=e):r.focus&&(r.focus=null)}var HS=["emphasis","blur","select"],ER={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function xt(n,t,e,r){e=e||"itemStyle";for(var i=0;i<HS.length;i++){var a=HS[i],o=t.getModel([a,e]);n.ensureState(a).style=r?r(o):o[ER[e]]()}}function sa(n,t){var e=!1===t,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!e||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!e)}function Zs(n){return!(!n||!n.__highDownDispatcher)}function hp(n){var t=n.type;return t===Ws||t===ic||t===Ys}function WS(n){var t=n.type;return t===ia||t===rc}var YS=Ce();function yo(n,t,e,r,i){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var l="update"===n;if(t&&t.isAnimationEnabled()){var u=void 0,c=void 0,h=void 0;return r?(u=ve(r.duration,200),c=ve(r.easing,"cubicOut"),h=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),h=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(u=a.duration),null!=a.easing&&(c=a.easing),null!=a.delay&&(h=a.delay)),ee(h)&&(h=h(e,i)),ee(u)&&(u=u(e)),{duration:u||0,delay:h,easing:c}}return null}function fp(n,t,e,r,i,a,o){var l,s=!1;ee(i)?(o=a,a=i,i=null):oe(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u="leave"===n;u||t.stopAnimation("leave");var c=yo(n,r,i,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null);if(c&&c.duration>0){var p={duration:c.duration,delay:c.delay||0,easing:c.easing,done:a,force:!!a||!!o,setToFinal:!u,scope:n,during:o};s?t.animateFrom(e,p):t.animateTo(e,p)}else t.stopAnimation(),!s&&t.attr(e),o&&o(1),a&&a()}function Ie(n,t,e,r,i,a){fp("update",n,t,e,r,i,a)}function Ue(n,t,e,r,i,a){fp("enter",n,t,e,r,i,a)}function _o(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++)if("leave"===n.animators[t].scope)return!0;return!1}function ai(n,t,e,r,i,a){_o(n)||fp("leave",n,t,e,r,i,a)}function ZS(n,t,e,r){n.removeTextContent(),n.removeTextGuideLine(),ai(n,{style:{opacity:0}},t,e,r)}function Us(n,t,e){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||ZS(i,t,e,r)}):ZS(n,t,e,r)}function Nn(n){YS(n).oldStyle=n.style}var sc={};function US(n,t){for(var e=0;e<Et.length;e++){var r=Et[e],i=t[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=i}var o=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(o,!0)}function vp(n,t,e){var s,r=n.labelFetcher,i=n.labelDataIndex,a=n.labelDimIndex,o=t.normal;r&&(s=r.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==s&&(s=ee(n.defaultText)?n.defaultText(i,n,e):n.defaultText);for(var l={normal:s},u=0;u<Et.length;u++){var c=Et[u],h=t[c];l[c]=ve(r?r.getFormattedLabel(i,c,null,a,h&&h.get("formatter")):null,s)}return l}function bt(n,t,e,r){e=e||sc;for(var i=n instanceof Me,a=!1,o=0;o<Hs.length;o++)if((s=t[Hs[o]])&&s.getShallow("show")){a=!0;break}var l=i?n:n.getTextContent();if(a){i||(l||(l=new Me,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=vp(e,t),c=t.normal,h=!!c.getShallow("show"),f=Fe(c,r&&r.normal,e,!1,!i);for(f.text=u.normal,i||n.setTextConfig(lc(c,e,!1)),o=0;o<Et.length;o++){var s,v=Et[o];if(s=t[v]){var p=l.ensureState(v),g=!!ve(s.getShallow("show"),h);g!==h&&(p.ignore=!g),p.style=Fe(s,r&&r[v],e,!0,!i),p.style.text=u[v],i||(n.ensureState(v).textConfig=lc(s,e,!0))}}l.silent=!!c.getShallow("silent"),null!=l.style.x&&(f.x=l.style.x),null!=l.style.y&&(f.y=l.style.y),l.ignore=!h,l.useStyle(f),l.dirty(),e.enableTextSetter&&(So(l).setLabelText=function(y){var _=vp(e,t,y);US(l,_)})}else l&&(l.ignore=!0);n.dirty()}function ht(n,t){for(var e={normal:n.getModel(t=t||"label")},r=0;r<Et.length;r++){var i=Et[r];e[i]=n.getModel([i,t])}return e}function Fe(n,t,e,r,i){var a={};return function(n,t,e,r,i){e=e||sc;var l,a=t.ecModel,o=a&&a.option.textStyle,s=function(n){for(var t;n&&n!==n.ecModel;){var e=(n.option||sc).rich;if(e){t=t||{};for(var r=we(e),i=0;i<r.length;i++)t[r[i]]=1}n=n.parentModel}return t}(t);if(s)for(var u in l={},s)if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);JS(l[u]={},c,o,e,r,i,!1,!0)}l&&(n.rich=l);var h=t.get("overflow");h&&(n.overflow=h);var f=t.get("minMargin");null!=f&&(n.margin=f),JS(n,t,o,e,r,i,!0,!1)}(a,n,e,r,i),t&&V(a,t),a}function lc(n,t,e){t=t||{};var i,r={},a=n.getShallow("rotate"),o=ve(n.getShallow("distance"),e?null:5),s=n.getShallow("offset");return"outside"===(i=n.getShallow("position")||(e?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=a&&(a*=Math.PI/180,r.rotation=a),null!=o&&(r.distance=o),r.outsideFill="inherit"===n.get("color")?t.inheritColor||null:"auto",r}var $S=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],XS=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],QS=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function JS(n,t,e,r,i,a,o,s){e=!i&&e||sc;var l=r&&r.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),h=ve(t.getShallow("opacity"),e.opacity);("inherit"===u||"auto"===u)&&(u=l||null),("inherit"===c||"auto"===c)&&(c=l||null),a||(u=u||e.color,c=c||e.textBorderColor),null!=u&&(n.fill=u),null!=c&&(n.stroke=c);var f=ve(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=f&&(n.lineWidth=f);var v=ve(t.getShallow("textBorderType"),e.textBorderType);null!=v&&(n.lineDash=v);var p=ve(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=p&&(n.lineDashOffset=p),!i&&null==h&&!s&&(h=r&&r.defaultOpacity),null!=h&&(n.opacity=h),!i&&!a&&null==n.fill&&r.inheritColor&&(n.fill=r.inheritColor);for(var g=0;g<$S.length;g++)null!=(y=ve(t.getShallow(m=$S[g]),e[m]))&&(n[m]=y);for(g=0;g<XS.length;g++)null!=(y=t.getShallow(m=XS[g]))&&(n[m]=y);if(null==n.verticalAlign){var _=t.getShallow("baseline");null!=_&&(n.verticalAlign=_)}if(!o||!r.disableBox){for(g=0;g<QS.length;g++){var m,y;null!=(y=t.getShallow(m=QS[g]))&&(n[m]=y)}var S=t.getShallow("borderType");null!=S&&(n.borderDash=S),("auto"===n.backgroundColor||"inherit"===n.backgroundColor)&&l&&(n.backgroundColor=l),("auto"===n.borderColor||"inherit"===n.borderColor)&&l&&(n.borderColor=l)}}function pp(n,t){var e=t&&t.getModel("textStyle");return Pn([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var So=Ce();function qS(n,t,e,r){if(n){var i=So(n);i.prevValue=i.value,i.value=e;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=t)}}function jS(n,t,e,r,i){var a=So(n);if(a.valueAnimation&&a.prevValue!==a.value){var o=a.defaultInterpolatedText,s=ve(a.interpolatedValue,a.prevValue),l=a.value;n.percent=0,(null==a.prevValue?Ue:Ie)(n,{percent:1},r,t,null,function(c){var h=X_(e,a.precision,s,l,c);a.interpolatedValue=1===c?null:h;var f=vp({labelDataIndex:t,labelFetcher:i,defaultText:o?o(h):h+""},a.statesModels,h);US(n,f)})}}var YR=["textStyle","color"],dp=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],gp=new Me,ZR=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(YR):null)},n.prototype.getFont=function(){return pp({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<dp.length;r++)e[dp[r]]=this.getShallow(dp[r]);return gp.useStyle(e),gp.update(),gp.getBoundingRect()},n}();const UR=ZR;var KS=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],$R=Qi(KS),XR=function(){function n(){}return n.prototype.getLineStyle=function(t){return $R(this,t)},n}(),e1=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],QR=Qi(e1),JR=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return QR(this,t,e)},n}(),la=function(){function n(t,e,r){this.parentModel=e,this.ecModel=r,this.option=t}return n.prototype.init=function(t,e,r){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a]},n.prototype.mergeOption=function(t,e){de(this.option,t,!0)},n.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var r=this.option,i=null==r?r:r[t];if(null==i&&!e){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},n.prototype.getModel=function(t,e){var r=null!=t,i=r?this.parsePath(t):null;return new n(r?this._doGet(i):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new(0,this.constructor)(se(this.option))},n.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!ze.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var r=this.option;if(!t)return r;for(var i=0;i<t.length&&(!t[i]||null!=(r=r&&"object"==typeof r?r[t[i]]:null));i++);return null==r&&e&&(r=e._doGet(this.resolveParentPath(t),e.parentModel)),r},n}();Ev(la),function(n){var t=["__\0is_clz",LO++].join("_");n.prototype[t]=!0,n.isInstance=function(e){return!(!e||!e[t])}}(la),rt(la,XR),rt(la,JR),rt(la,BO),rt(la,UR);const Ge=la;var qR=Math.round(10*Math.random());function xo(n){return[n||"",qR++].join("_")}function oi(n,t){return de(de({},n,!0),t,!0)}var cc={},yp={},t1=ze.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||"EN").toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function n1(n,t){n=n.toUpperCase(),yp[n]=new Ge(t),cc[n]=t}function _p(n){return yp[n]}n1("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),n1("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe",custom:"\u81ea\u5b9a\u4e49\u56fe\u8868",chart:"\u56fe\u8868"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var $s=36e5,mn=24*$s,r1=365*mn,Xs={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},hc="{yyyy}-{MM}-{dd}",a1={year:"{yyyy}",month:"{yyyy}-{MM}",day:hc,hour:hc+" "+Xs.hour,minute:hc+" "+Xs.minute,second:hc+" "+Xs.second,millisecond:Xs.none},bp=["year","month","day","hour","minute","second","millisecond"],o1=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function si(n,t){return"0000".substr(0,t-(n+="").length)+n}function wo(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function iN(n){return n===wo(n)}function fc(n,t,e,r){var i=rr(n),a=i[wp(e)](),o=i[Co(e)]()+1,s=Math.floor((o-1)/3)+1,l=i[vc(e)](),u=i["get"+(e?"UTC":"")+"Day"](),c=i[Qs(e)](),h=(c-1)%12+1,f=i[pc(e)](),v=i[dc(e)](),p=i[gc(e)](),g=c>=12?"pm":"am",m=g.toUpperCase(),_=(r instanceof Ge?r:_p(r||t1)||yp.EN).getModel("time"),S=_.get("month"),x=_.get("monthAbbr"),b=_.get("dayOfWeek"),w=_.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,g+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,si(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,S[o-1]).replace(/{MMM}/g,x[o-1]).replace(/{MM}/g,si(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,si(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,b[u]).replace(/{ee}/g,w[u]).replace(/{e}/g,u+"").replace(/{HH}/g,si(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,si(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,si(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,si(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,si(p,3)).replace(/{S}/g,p+"")}function s1(n,t){var e=rr(n),r=e[Co(t)]()+1,i=e[vc(t)](),a=e[Qs(t)](),o=e[pc(t)](),s=e[dc(t)](),u=0===e[gc(t)](),c=u&&0===s,h=c&&0===o,f=h&&0===a,v=f&&1===i;return v&&1===r?"year":v?"month":f?"day":h?"hour":c?"minute":u?"second":"millisecond"}function l1(n,t,e){var r=De(n)?rr(n):n;switch(t=t||s1(n,e)){case"year":return r[wp(e)]();case"half-year":return r[Co(e)]()>=6?1:0;case"quarter":return Math.floor((r[Co(e)]()+1)/4);case"month":return r[Co(e)]();case"day":return r[vc(e)]();case"half-day":return r[Qs(e)]()/24;case"hour":return r[Qs(e)]();case"minute":return r[pc(e)]();case"second":return r[dc(e)]();case"millisecond":return r[gc(e)]()}}function wp(n){return n?"getUTCFullYear":"getFullYear"}function Co(n){return n?"getUTCMonth":"getMonth"}function vc(n){return n?"getUTCDate":"getDate"}function Qs(n){return n?"getUTCHours":"getHours"}function pc(n){return n?"getUTCMinutes":"getMinutes"}function dc(n){return n?"getUTCSeconds":"getSeconds"}function gc(n){return n?"getUTCMilliseconds":"getMilliseconds"}function sN(n){return n?"setUTCFullYear":"setFullYear"}function u1(n){return n?"setUTCMonth":"setMonth"}function c1(n){return n?"setUTCDate":"setDate"}function h1(n){return n?"setUTCHours":"setHours"}function f1(n){return n?"setUTCMinutes":"setMinutes"}function v1(n){return n?"setUTCSeconds":"setSeconds"}function p1(n){return n?"setUTCMilliseconds":"setMilliseconds"}function d1(n){if(!E_(n))return U(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function g1(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,r){return r.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var To=Of;function Cp(n,t,e){function i(c){return c&&Pn(c)?c:"-"}function a(c){return!(null==c||isNaN(c)||!isFinite(c))}var o="time"===t,s=n instanceof Date;if(o||s){var l=o?rr(n):n;if(!isNaN(+l))return fc(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(s)return"-"}if("ordinal"===t)return Pf(n)?i(n):De(n)&&a(n)?n+"":"-";var u=Mr(n);return a(u)?d1(u):Pf(n)?i(n):"boolean"==typeof n?n+"":"-"}var m1=["a","b","c","d","e","f","g"],Tp=function(n,t){return"{"+n+(null==t?"":t)+"}"};function y1(n,t,e){F(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=m1[a];n=n.replace(Tp(o),Tp(o,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var u=t[s][i[l]];n=n.replace(Tp(m1[l],s),e?Dt(u):u)}return n}function ua(n,t){return t=t||"transparent",U(n)?n:oe(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function mc(n,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var yc=D,_1=["left","right","top","bottom","width","height"],ca=[["width","left","right"],["height","top","bottom"]];function zp(n,t,e,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;t.eachChild(function(l,u){var v,p,c=l.getBoundingRect(),h=t.childAt(u+1),f=h&&h.getBoundingRect();if("horizontal"===n){var g=c.width+(f?-f.x+c.x:0);(v=a+g)>r||l.newline?(a=0,v=g,o+=s+e,s=c.height):s=Math.max(s,c.height)}else{var m=c.height+(f?-f.y+c.y:0);(p=o+m)>i||l.newline?(a+=s+e,o=0,p=m,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),"horizontal"===n?a=v+e:o=p+e)})}var ha=zp;function lt(n,t,e){e=To(e||0);var r=t.width,i=t.height,a=Y(n.left,r),o=Y(n.top,i),s=Y(n.right,r),l=Y(n.bottom,i),u=Y(n.width,r),c=Y(n.height,i),h=e[2]+e[0],f=e[1]+e[3],v=n.aspect;switch(isNaN(u)&&(u=r-s-f-a),isNaN(c)&&(c=i-l-h-o),null!=v&&(isNaN(u)&&isNaN(c)&&(v>r/i?u=.8*r:c=.8*i),isNaN(u)&&(u=v*c),isNaN(c)&&(c=u/v)),isNaN(a)&&(a=r-s-u-f),isNaN(o)&&(o=i-l-c-h),n.left||n.right){case"center":a=r/2-u/2-e[3];break;case"right":a=r-u-f}switch(n.top||n.bottom){case"middle":case"center":o=i/2-c/2-e[0];break;case"bottom":o=i-c-h}a=a||0,o=o||0,isNaN(u)&&(u=r-f-a-(s||0)),isNaN(c)&&(c=i-h-o-(l||0));var p=new me(a+e[3],o+e[0],u,c);return p.margin=e,p}function _c(n,t,e,r,i,a){var u,o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if((a=a||n).x=n.x,a.y=n.y,!o&&!s)return!1;if("raw"===l)u="group"===n.type?new me(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var c=n.getLocalTransform();(u=u.clone()).applyTransform(c)}var h=lt(re({width:u.width,height:u.height},t),e,r),f=o?h.x-u.x:0,v=s?h.y-u.y:0;return"raw"===l?(a.x=f,a.y=v):(a.x+=f,a.y+=v),a===n&&n.markRedraw(),!0}function Js(n){var t=n.layoutMode||n.constructor.layoutMode;return oe(t)?t:t?{type:t}:null}function li(n,t,e){var r=e&&e.ignoreSize;!F(r)&&(r=[r,r]);var i=o(ca[0],0),a=o(ca[1],1);function o(c,h){var f={},v=0,p={},g=0;if(yc(c,function(S){p[S]=n[S]}),yc(c,function(S){s(t,S)&&(f[S]=p[S]=t[S]),l(f,S)&&v++,l(p,S)&&g++}),r[h])return l(t,c[1])?p[c[2]]=null:l(t,c[2])&&(p[c[1]]=null),p;if(2===g||!v)return p;if(v>=2)return f;for(var y=0;y<c.length;y++){var _=c[y];if(!s(f,_)&&s(n,_)){f[_]=n[_];break}}return f}function s(c,h){return c.hasOwnProperty(h)}function l(c,h){return null!=c[h]&&"auto"!==c[h]}function u(c,h,f){yc(c,function(v){h[v]=f[v]})}u(ca[0],n,i),u(ca[1],n,a)}function zo(n){return S1({},n)}function S1(n,t){return t&&n&&yc(_1,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}pe(zp,"vertical"),pe(zp,"horizontal");var fN=Ce(),Do=function(n){function t(e,r,i){var a=n.call(this,e,r,i)||this;return a.uid=xo("ec_cpt_model"),a}return E(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,r){var i=Js(this),a=i?zo(e):{};de(e,r.getTheme().get(this.mainType)),de(e,this.getDefaultOption()),i&&li(e,a,i)},t.prototype.mergeOption=function(e,r){de(this.option,e,!0);var i=Js(this);i&&li(this.option,e,i)},t.prototype.optionUpdated=function(e,r){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!function(n){return!(!n||!n[Q_])}(e))return e.defaultOption;var r=fN(this);if(!r.defaultOption){for(var i=[],a=e;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=de(s,i[l],!0);r.defaultOption=s}return r.defaultOption},t.prototype.getReferringComponents=function(e,r){var a=e+"Id";return Es(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(a,!0)},r)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Ge);J_(Do,Ge),Xu(Do),function(n){var t={};n.registerSubTypeDefaulter=function(e,r){var i=ir(e);t[i.main]=r},n.determineSubType=function(e,r){var i=r.type;if(!i){var a=ir(e).main;n.hasSubTypes(e)&&t[a]&&(i=t[a](r))}return i}}(Do),function(n,t){function r(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}n.topologicalTravel=function(a,o,s,l){if(a.length){var u=function(a){var o={},s=[];return D(a,function(l){var u=r(o,l),h=function(a,o){var s=[];return D(a,function(l){_e(o,l)>=0&&s.push(l)}),s}(u.originalDeps=function(n){var t=[];return D(Do.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=G(t,function(e){return ir(e).main}),"dataset"!==n&&_e(t,"dataset")<=0&&t.unshift("dataset"),t}(l),a);u.entryCount=h.length,0===u.entryCount&&s.push(l),D(h,function(f){_e(u.predecessor,f)<0&&u.predecessor.push(f);var v=r(o,f);_e(v.successor,f)<0&&v.successor.push(l)})}),{graph:o,noEntryList:s}}(o),c=u.graph,h=u.noEntryList,f={};for(D(a,function(_){f[_]=!0});h.length;){var v=h.pop(),p=c[v],g=!!f[v];g&&(s.call(l,v,p.originalDeps.slice()),delete f[v]),D(p.successor,g?y:m)}D(f,function(){throw new Error("")})}function m(_){c[_].entryCount--,0===c[_].entryCount&&h.push(_)}function y(_){f[_]=!0,m(_)}}}(Do);const Ae=Do;var x1="";"undefined"!=typeof navigator&&(x1=navigator.platform||"");var Mo="rgba(0, 0, 0, 0.2)";const pN={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Mo,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Mo,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Mo,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Mo,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Mo,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Mo,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:x1.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var b1=Q(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),yn="original",Mt="arrayRows",_n="objectRows",ur="keyedColumns",Rr="typedArray",w1="unknown",cr="column",Ao="row",C1=Ce();function T1(n,t,e){var r={},i=Mp(t);if(!i||!n)return r;var c,h,a=[],o=[],l=C1(t.ecModel).datasetMap,u=i.uid+"_"+e.seriesLayoutBy;D(n=n.slice(),function(g,m){var y=oe(g)?g:n[m]={name:g};"ordinal"===y.type&&null==c&&(c=m,h=p(y)),r[y.name]=[]});var f=l.get(u)||l.set(u,{categoryWayDim:h,valueWayDim:0});function v(g,m,y){for(var _=0;_<y;_++)g.push(m+_)}function p(g){var m=g.dimsDef;return m?m.length:1}return D(n,function(g,m){var y=g.name,_=p(g);if(null==c)v(r[y],S=f.valueWayDim,_),v(o,S,_),f.valueWayDim+=_;else if(c===m)v(r[y],0,_),v(a,0,_);else{var S;v(r[y],S=f.categoryWayDim,_),v(o,S,_),f.categoryWayDim+=_}}),a.length&&(r.itemName=a),o.length&&(r.seriesName=o),r}function Dp(n,t,e){var r={};if(!Mp(n))return r;var s,a=t.sourceFormat,o=t.dimensionsDefine;(a===_n||a===ur)&&D(o,function(c,h){"name"===(oe(c)?c.name:c)&&(s=h)});var l=function(){for(var c={},h={},f=[],v=0,p=Math.min(5,e);v<p;v++){var g=D1(t.data,a,t.seriesLayoutBy,o,t.startIndex,v);f.push(g);var m=3===g;if(m&&null==c.v&&v!==s&&(c.v=v),(null==c.n||c.n===c.v||!m&&3===f[c.n])&&(c.n=v),y(c)&&3!==f[c.n])return c;m||(2===g&&null==h.v&&v!==s&&(h.v=v),(null==h.n||h.n===h.v)&&(h.n=v))}function y(_){return null!=_.v&&null!=_.n}return y(c)?c:y(h)?h:null}();if(l){r.value=[l.v];var u=null!=s?s:l.n;r.itemName=[u],r.seriesName=[u]}return r}function Mp(n){if(!n.get("data",!0))return Es(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},it).models[0]}function z1(n,t){return D1(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function D1(n,t,e,r,i,a){var o,l,u;if(Ht(n))return 3;if(r){var c=r[a];oe(c)?(l=c.name,u=c.type):U(c)&&(l=c)}if(null!=u)return"ordinal"===u?1:3;if(t===Mt){var h=n;if(e===Ao){for(var f=h[a],v=0;v<(f||[]).length&&v<5;v++)if(null!=(o=x(f[i+v])))return o}else for(v=0;v<h.length&&v<5;v++){var p=h[i+v];if(p&&null!=(o=x(p[a])))return o}}else if(t===_n){var g=n;if(!l)return 3;for(v=0;v<g.length&&v<5;v++)if((m=g[v])&&null!=(o=x(m[l])))return o}else if(t===ur){if(!l)return 3;if(!(f=n[l])||Ht(f))return 3;for(v=0;v<f.length&&v<5;v++)if(null!=(o=x(f[v])))return o}else if(t===yn){var _=n;for(v=0;v<_.length&&v<5;v++){var m,S=vo(m=_[v]);if(!F(S))return 3;if(null!=(o=x(S[a])))return o}}function x(b){var w=U(b);return null!=b&&Number.isFinite(Number(b))&&""!==b?w?2:3:w&&"-"!==b?1:void 0}return 3}var Ap=Q(),M1=Ce(),_N=Ce(),Ip=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,r){var i=ke(this.get("color",!0)),a=this.get("colorLayer",!0);return A1(this,M1,i,a,t,e,r)},n.prototype.clearColorPalette=function(){!function(n,t){t(n).paletteIdx=0,t(n).paletteNameMap={}}(this,M1)},n}();function Pp(n,t,e,r){var i=ke(n.get(["aria","decal","decals"]));return A1(n,_N,i,null,t,e,r)}function A1(n,t,e,r,i,a,o){var s=t(a=a||n),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=null!=o&&r?function(n,t){for(var e=n.length,r=0;r<e;r++)if(n[r].length>t)return n[r];return n[e-1]}(r,o):e;if((c=c||e)&&c.length){var h=c[l];return i&&(u[i]=h),s.paletteIdx=(l+1)%c.length,h}}var Sc,qs,I1,P1="\0_ec_inner",O1=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.init=function(e,r,i,a,o,s){a=a||{},this.option=null,this._theme=new Ge(a),this._locale=new Ge(o),this._optionManager=s},t.prototype.setOption=function(e,r,i){var a=k1(r);this._optionManager.setOption(e,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,r){return this._resetOption(e,k1(r))},t.prototype._resetOption=function(e,r){var i=!1,a=this._optionManager;if(!e||"recreate"===e){var o=a.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(o,r)):I1(this,o),i=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!e||"recreate"===e||"media"===e){var l=a.getMediaOption(this);l.length&&D(l,function(u){i=!0,this._mergeOption(u,r)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,r){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=Q(),u=r&&r.replaceMergeMainTypeMap;(function(n){C1(n).datasetMap=Q()})(this),D(e,function(h,f){null!=h&&(Ae.hasClass(f)?f&&(s.push(f),l.set(f,!0)):i[f]=null==i[f]?se(h):de(i[f],h,!0))}),u&&u.each(function(h,f){Ae.hasClass(f)&&!l.get(f)&&(s.push(f),l.set(f,!0))}),Ae.topologicalTravel(s,Ae.getAllClassMainTypes(),function(h){var f=function(n,t,e){var r=Ap.get(t);if(!r)return e;var i=r(n);return i?e.concat(i):e}(this,h,ke(e[h])),v=a.get(h),g=Z_(v,f,v?u&&u.get(h)?"replaceMerge":"normalMerge":"replaceAll");(function(n,t,e){D(n,function(r){var i=r.newOption;oe(i)&&(r.keyInfo.mainType=t,r.keyInfo.subType=function(n,t,e,r){return t.type?t.type:e?e.subType:r.determineSubType(n,t)}(t,i,r.existing,e))})})(g,h,Ae),i[h]=null,a.set(h,null),o.set(h,0);var S,m=[],y=[],_=0;D(g,function(b,w){var C=b.existing,T=b.newOption;if(T){var M=Ae.getClass(h,b.keyInfo.subType,!("series"===h));if(!M)return;if("tooltip"===h){if(S)return;S=!0}if(C&&C.constructor===M)C.name=b.keyInfo.name,C.mergeOption(T,this),C.optionUpdated(T,!1);else{var P=V({componentIndex:w},b.keyInfo);V(C=new M(T,this,this,P),P),b.brandNew&&(C.__requireNewView=!0),C.init(T,this,this),C.optionUpdated(null,!0)}}else C&&(C.mergeOption({},this),C.optionUpdated({},!1));C?(m.push(C.option),y.push(C),_++):(m.push(void 0),y.push(void 0))},this),i[h]=m,a.set(h,y),o.set(h,_),"series"===h&&Sc(this)},this),this._seriesIndices||Sc(this)},t.prototype.getOption=function(){var e=se(this.option);return D(e,function(r,i){if(Ae.hasClass(i)){for(var a=ke(r),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!Ns(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,e[i]=a}}),delete e[P1],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,r){var i=this._componentsMap.get(e);if(i){var a=i[r||0];if(a)return a;if(null==r)for(var o=0;o<i.length;o++)if(i[o])return i[o]}},t.prototype.queryComponents=function(e){var r=e.mainType;if(!r)return[];var l,i=e.index,a=e.id,o=e.name,s=this._componentsMap.get(r);return s&&s.length?(null!=i?(l=[],D(ke(i),function(u){s[u]&&l.push(s[u])})):l=null!=a?R1("id",a,s):null!=o?R1("name",o,s):Pe(s,function(u){return!!u}),N1(l,e)):[]},t.prototype.findComponents=function(e){var u,c,h,f,i=e.mainType,a=(c=i+"Index",h=i+"Id",f=i+"Name",!(u=e.query)||null==u[c]&&null==u[h]&&null==u[f]?null:{mainType:i,index:u[c],id:u[h],name:u[f]}),o=a?this.queryComponents(a):Pe(this._componentsMap.get(i),function(u){return!!u});return function(u){return e.filter?Pe(u,e.filter):u}(N1(o,e))},t.prototype.eachComponent=function(e,r,i){var a=this._componentsMap;if(ee(e)){var o=r,s=e;a.each(function(h,f){for(var v=0;h&&v<h.length;v++){var p=h[v];p&&s.call(o,f,p,p.componentIndex)}})}else for(var l=U(e)?a.get(e):oe(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(i,c,c.componentIndex)}},t.prototype.getSeriesByName=function(e){var r=st(e,null);return Pe(this._componentsMap.get("series"),function(i){return!!i&&null!=r&&i.name===r})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Pe(this._componentsMap.get("series"),function(r){return!!r&&r.subType===e})},t.prototype.getSeries=function(){return Pe(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,r){qs(this),D(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];e.call(r,a,i)},this)},t.prototype.eachRawSeries=function(e,r){D(this._componentsMap.get("series"),function(i){i&&e.call(r,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,r,i){qs(this),D(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===e&&r.call(i,o,a)},this)},t.prototype.eachRawSeriesByType=function(e,r,i){return D(this.getSeriesByType(e),r,i)},t.prototype.isSeriesFiltered=function(e){return qs(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,r){qs(this);var i=[];D(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];e.call(r,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Q(i)},t.prototype.restoreData=function(e){Sc(this);var r=this._componentsMap,i=[];r.each(function(a,o){Ae.hasClass(o)&&i.push(o)}),Ae.topologicalTravel(i,Ae.getAllClassMainTypes(),function(a){D(r.get(a),function(o){o&&("series"!==a||!function(n,t){if(t){var e=t.seriesIndex,r=t.seriesId,i=t.seriesName;return null!=e&&n.componentIndex!==e||null!=r&&n.id!==r||null!=i&&n.name!==i}}(o,e))&&o.restoreData()})})},t.internalField=(Sc=function(e){var r=e._seriesIndices=[];D(e._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),e._seriesIndicesMap=Q(r)},qs=function(e){},void(I1=function(e,r){e.option={},e.option[P1]=1,e._componentsMap=Q({series:[]}),e._componentsCount=Q();var i=r.aria;oe(i)&&null==i.enabled&&(i.enabled=!0),function(n,t){var e=n.color&&!n.colorLayer;D(t,function(r,i){"colorLayer"===i&&e||Ae.hasClass(i)||("object"==typeof r?n[i]=n[i]?de(n[i],r,!1):se(r):null==n[i]&&(n[i]=r))})}(r,e._theme.option),de(r,pN,!1),e._mergeOption(r,null)})),t}(Ge);function R1(n,t,e){if(F(t)){var r=Q();return D(t,function(a){null!=a&&null!=st(a,null)&&r.set(a,!0)}),Pe(e,function(a){return a&&r.get(a[n])})}var i=st(t,null);return Pe(e,function(a){return a&&null!=i&&a[n]===i})}function N1(n,t){return t.hasOwnProperty("subType")?Pe(n,function(e){return e&&e.subType===t.subType}):n}function k1(n){var t=Q();return n&&D(ke(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}rt(O1,Ip);const E1=O1;var zN=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const B1=function(t){D(zN,function(e){this[e]=$(t[e],t)},this)};var Lp={},MN=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var r=[];D(Lp,function(i,a){var o=i.create(t,e);r=r.concat(o||[])}),this._coordinateSystems=r},n.prototype.update=function(t,e){D(this._coordinateSystems,function(r){r.update&&r.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){Lp[t]=e},n.get=function(t){return Lp[t]},n}();const js=MN;var AN=/^(min|max)?(.+)$/,IN=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,r){t&&(D(ke(t.series),function(o){o&&o.data&&Ht(o.data)&&yu(o.data)}),D(ke(t.dataset),function(o){o&&o.source&&Ht(o.source)&&yu(o.source)})),t=se(t);var i=this._optionBackup,a=function(n,t,e){var i,a,r=[],o=n.baseOption,s=n.timeline,l=n.options,u=n.media,c=!!n.media,h=!!(l||s||o&&o.timeline);function f(v){D(t,function(p){p(v,e)})}return o?(a=o).timeline||(a.timeline=s):((h||c)&&(n.options=n.media=null),a=n),c&&F(u)&&D(u,function(v){v&&v.option&&(v.query?r.push(v):i||(i=v))}),f(a),D(l,function(v){return f(v)}),D(r,function(v){return f(v.option)}),{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}(t,e,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],se(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");i&&(e=se(r[i.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var e=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,u=i.length;l<u;l++)LN(i[l].query,e,r)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!function(n,t){return n.join(",")===t.join(",")}(o,this._currentMediaIndices)&&(s=G(o,function(c){return se(-1===c?a.option:i[c].option)})),this._currentMediaIndices=o,s},n}();function LN(n,t,e){var r={width:t,height:e,aspectratio:t/e},i=!0;return D(n,function(a,o){var s=o.match(AN);if(s&&s[1]&&s[2]){var l=s[1],u=s[2].toLowerCase();(function(n,t,e){return"min"===e?n>=t:"max"===e?n<=t:n===t})(r[u],a,l)||(i=!1)}}),i}const NN=IN;var kn=D,Ks=oe,V1=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Op(n){var t=n&&n.itemStyle;if(t)for(var e=0,r=V1.length;e<r;e++){var i=V1[e],a=t.normal,o=t.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?de(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),o&&o[i]&&(n[i]=n[i]||{},n[i].emphasis?de(n[i].emphasis,o[i]):n[i].emphasis=o[i],o[i]=null)}}function At(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var r=n[t].normal,i=n[t].emphasis;r&&(e?(n[t].normal=n[t].emphasis=null,re(n[t],r)):n[t]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[t]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function el(n){At(n,"itemStyle"),At(n,"lineStyle"),At(n,"areaStyle"),At(n,"label"),At(n,"labelLine"),At(n,"upperLabel"),At(n,"edgeLabel")}function at(n,t){var e=Ks(n)&&n[t],r=Ks(e)&&e.textStyle;if(r)for(var i=0,a=Y_.length;i<a;i++){var o=Y_[i];r.hasOwnProperty(o)&&(e[o]=r[o])}}function Sn(n){n&&(el(n),at(n,"label"),n.emphasis&&at(n.emphasis,"label"))}function Nr(n){return F(n)?n:n?[n]:[]}function F1(n){return(F(n)?n[0]:n)||{}}function G1(n){n&&D(FN,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var FN=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],GN=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Rp=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function tl(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<Rp.length;e++){var r=Rp[e][1];null!=t[r]&&(t[Rp[e][0]]=t[r])}}function H1(n){!n||"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function W1(n){!n||n.downplay&&!n.blur&&(n.blur=n.downplay)}function Y1(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&Y1(n[e].children,t)}function Z1(n,t){(function(n,t){kn(Nr(n.series),function(r){Ks(r)&&function(n){if(Ks(n)){Op(n),el(n),at(n,"label"),at(n,"upperLabel"),at(n,"edgeLabel"),n.emphasis&&(at(n.emphasis,"label"),at(n.emphasis,"upperLabel"),at(n.emphasis,"edgeLabel"));var t=n.markPoint;t&&(Op(t),Sn(t));var e=n.markLine;e&&(Op(e),Sn(e));var r=n.markArea;r&&Sn(r);var i=n.data;if("graph"===n.type){i=i||n.nodes;var a=n.links||n.edges;if(a&&!Ht(a))for(var o=0;o<a.length;o++)Sn(a[o]);D(n.categories,function(u){el(u)})}if(i&&!Ht(i))for(o=0;o<i.length;o++)Sn(i[o]);if((t=n.markPoint)&&t.data){var s=t.data;for(o=0;o<s.length;o++)Sn(s[o])}if((e=n.markLine)&&e.data){var l=e.data;for(o=0;o<l.length;o++)F(l[o])?(Sn(l[o][0]),Sn(l[o][1])):Sn(l[o])}"gauge"===n.type?(at(n,"axisLabel"),at(n,"title"),at(n,"detail")):"treemap"===n.type?(At(n.breadcrumb,"itemStyle"),D(n.levels,function(u){el(u)})):"tree"===n.type&&el(n.leaves)}}(r)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),kn(e,function(r){kn(Nr(n[r]),function(i){i&&(at(i,"axisLabel"),at(i.axisPointer,"label"))})}),kn(Nr(n.parallel),function(r){var i=r&&r.parallelAxisDefault;at(i,"axisLabel"),at(i&&i.axisPointer,"label")}),kn(Nr(n.calendar),function(r){At(r,"itemStyle"),at(r,"dayLabel"),at(r,"monthLabel"),at(r,"yearLabel")}),kn(Nr(n.radar),function(r){at(r,"name"),r.name&&null==r.axisName&&(r.axisName=r.name,delete r.name),null!=r.nameGap&&null==r.axisNameGap&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),kn(Nr(n.geo),function(r){Ks(r)&&(Sn(r),kn(Nr(r.regions),function(i){Sn(i)}))}),kn(Nr(n.timeline),function(r){Sn(r),At(r,"label"),At(r,"itemStyle"),At(r,"controlStyle",!0);var i=r.data;F(i)&&D(i,function(a){oe(a)&&(At(a,"label"),At(a,"itemStyle"))})}),kn(Nr(n.toolbox),function(r){At(r,"iconStyle"),kn(r.feature,function(i){At(i,"iconStyle")})}),at(F1(n.axisPointer),"label"),at(F1(n.tooltip).axisPointer,"label")})(n,t),n.series=ke(n.series),D(n.series,function(e){if(oe(e)){var r=e.type;if("line"===r)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===r||"gauge"===r){if(null!=e.clockWise&&(e.clockwise=e.clockWise),H1(e.label),(i=e.data)&&!Ht(i))for(var a=0;a<i.length;a++)H1(i[a]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===r){var o=function(n,t){for(var e="pointer.color".split(","),r=n,i=0;i<e.length&&null!=(r=r&&r[e[i]]);i++);return r}(e);null!=o&&function(n,t,e,r){for(var o,i="itemStyle.color".split(","),a=n,s=0;s<i.length-1;s++)null==a[o=i[s]]&&(a[o]={}),a=a[o];null==a[i[s]]&&(a[i[s]]=e)}(e,0,o)}else if("bar"===r){var i;if(tl(e),tl(e.backgroundStyle),tl(e.emphasis),(i=e.data)&&!Ht(i))for(a=0;a<i.length;a++)"object"==typeof i[a]&&(tl(i[a]),tl(i[a]&&i[a].emphasis))}else if("sunburst"===r){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),W1(e),Y1(e.data,W1)}else"graph"===r||"sankey"===r?function(n){!n||null!=n.focusNodeAdjacency&&(n.emphasis=n.emphasis||{},null==n.emphasis.focus&&(n.emphasis.focus="adjacency"))}(e):"map"===r&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&re(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),G1(e)}}),n.dataRange&&(n.visualMap=n.dataRange),D(GN,function(e){var r=n[e];r&&(F(r)||(r=[r]),D(r,function(i){G1(i)}))})}function YN(n){D(n,function(t,e){var r=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,c,h){var v,p,f=o.get(t.stackedDimension,h);if(isNaN(f))return i;s?p=o.getRawIndex(h):v=o.get(t.stackedByDimension,h);for(var g=NaN,m=e-1;m>=0;m--){var y=n[m];if(s||(p=y.data.rawIndexOf(y.stackedByDimension,v)),p>=0){var _=y.data.getByRawIndex(y.stackResultDimension,p);if("all"===l||"positive"===l&&_>0||"negative"===l&&_<0||"samesign"===l&&f>=0&&_>0||"samesign"===l&&f<=0&&_<0){f=cO(f,_),g=_;break}}}return r[0]=f,r[1]=g,r})})}var xc=function(t){this.data=t.data||(t.sourceFormat===ur?{}:[]),this.sourceFormat=t.sourceFormat||w1,this.seriesLayoutBy=t.seriesLayoutBy||cr,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var r=0;r<e.length;r++){var i=e[r];null==i.type&&1===z1(this,r)&&(i.type="ordinal")}};function Np(n){return n instanceof xc}function kp(n,t,e){e=e||U1(n);var r=t.seriesLayoutBy,i=function(n,t,e,r,i){var a,o;if(!n)return{dimensionsDefine:$1(i),startIndex:o,dimensionsDetectedCount:a};if(t===Mt){var s=n;"auto"===r||null==r?X1(function(u){null!=u&&"-"!==u&&(U(u)?null==o&&(o=1):o=0)},e,s,10):o=De(r)?r:r?1:0,!i&&1===o&&(i=[],X1(function(u,c){i[c]=null!=u?u+"":""},e,s,1/0)),a=i?i.length:e===Ao?s.length:s[0]?s[0].length:null}else if(t===_n)i||(i=function(n){for(var e,t=0;t<n.length&&!(e=n[t++]););if(e)return we(e)}(n));else if(t===ur)i||(i=[],D(n,function(u,c){i.push(c)}));else if(t===yn){var l=vo(n[0]);a=F(l)&&l.length||1}return{startIndex:o,dimensionsDefine:$1(i),dimensionsDetectedCount:a}}(n,e,r,t.sourceHeader,t.dimensions);return new xc({data:n,sourceFormat:e,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:se(t)})}function Ep(n){return new xc({data:n,sourceFormat:Ht(n)?Rr:yn})}function ZN(n){return new xc({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:se(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function U1(n){var t=w1;if(Ht(n))t=Rr;else if(F(n)){0===n.length&&(t=Mt);for(var e=0,r=n.length;e<r;e++){var i=n[e];if(null!=i){if(F(i)||Ht(i)){t=Mt;break}if(oe(i)){t=_n;break}}}}else if(oe(n))for(var a in n)if(X(n,a)&&zt(n[a])){t=ur;break}return t}function $1(n){if(n){var t=Q();return G(n,function(e,r){var i={name:(e=oe(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function X1(n,t,e,r){if(t===Ao)for(var i=0;i<e.length&&i<r;i++)n(e[i]?e[i][0]:null,i);else{var a=e[0]||[];for(i=0;i<a.length&&i<r;i++)n(a[i],i)}}function Q1(n){var t=n.sourceFormat;return t===_n||t===ur}var fa,va,pa,J1,q1,j1=function(){function n(t,e){var r=Np(t)?t:Ep(t);this._source=r;var i=this._data=r.data;r.sourceFormat===Rr&&(this._offset=0,this._dimSize=e,this._data=i),q1(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;q1=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,h=l.startIndex,f=l.dimensionsDefine;if(V(o,J1[Vp(u,c)]),u===Rr)o.getItem=e,o.count=i,o.fillStorage=r;else{var p=ex(u,c);o.getItem=$(p,null,s,h,f);var g=nx(u,c);o.count=$(g,null,s,h,f)}};var e=function(o,s){s=s||[];for(var l=this._data,u=this._dimSize,c=u*(o-=this._offset),h=0;h<u;h++)s[h]=l[c+h];return s},r=function(o,s,l,u){for(var c=this._data,h=this._dimSize,f=0;f<h;f++){for(var v=u[f],p=null==v[0]?1/0:v[0],g=null==v[1]?-1/0:v[1],m=s-o,y=l[f],_=0;_<m;_++){var S=c[_*h+f];y[o+_]=S,S<p&&(p=S),S>g&&(g=S)}v[0]=p,v[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}(t={})[Mt+"_"+cr]={pure:!0,appendData:a},t[Mt+"_"+Ao]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[_n]={pure:!0,appendData:a},t[ur]={pure:!0,appendData:function(o){var s=this._data;D(o,function(l,u){for(var c=s[u]||(s[u]=[]),h=0;h<(l||[]).length;h++)c.push(l[h])})}},t[yn]={appendData:a},t[Rr]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},J1=t}(),n}(),K1=function(n,t,e,r){return n[r]},XN=((fa={})[Mt+"_"+cr]=function(n,t,e,r){return n[r+t]},fa[Mt+"_"+Ao]=function(n,t,e,r,i){r+=t;for(var a=i||[],o=n,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[r]:null}return a},fa[_n]=K1,fa[ur]=function(n,t,e,r,i){for(var a=i||[],o=0;o<e.length;o++){var l=n[e[o].name];a[o]=l?l[r]:null}return a},fa[yn]=K1,fa);function ex(n,t){return XN[Vp(n,t)]}var tx=function(n,t,e){return n.length},QN=((va={})[Mt+"_"+cr]=function(n,t,e){return Math.max(0,n.length-t)},va[Mt+"_"+Ao]=function(n,t,e){var r=n[0];return r?Math.max(0,r.length-t):0},va[_n]=tx,va[ur]=function(n,t,e){var i=n[e[0].name];return i?i.length:0},va[yn]=tx,va);function nx(n,t){return QN[Vp(n,t)]}var Bp=function(n,t,e){return n[t]},JN=((pa={})[Mt]=Bp,pa[_n]=function(n,t,e){return n[e]},pa[ur]=Bp,pa[yn]=function(n,t,e){var r=vo(n);return r instanceof Array?r[t]:r},pa[Rr]=Bp,pa);function rx(n){return JN[n]}function Vp(n,t){return n===Mt?n+"_"+t:n}function Io(n,t,e){if(n){var r=n.getRawDataItem(t);if(null!=r){var i=n.getStore(),a=i.getSource().sourceFormat;if(null!=e){var o=n.getDimensionIndex(e),s=i.getDimensionProperty(o);return rx(a)(r,o,s)}var l=r;return a===yn&&(l=vo(r)),l}}}var qN=/\{@(.+?)\}/g,bc=function(){function n(){}return n.prototype.getDataParams=function(t,e){var r=this.getData(e),i=this.getRawValue(t,e),a=r.getRawIndex(t),o=r.getName(t),s=r.getRawDataItem(t),l=r.getItemVisual(t,"style"),u=l&&l[r.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,h=this.mainType,f="series"===h,v=r.userOutput&&r.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:a,data:s,dataType:e,value:i,color:u,borderColor:c,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,r,i,a,o){e=e||"normal";var s=this.getData(r),l=this.getDataParams(t,r);return o&&(l.value=o.interpolatedValue),null!=i&&F(l.value)&&(l.value=l.value[i]),a||(a=s.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),ee(a)?(l.status=e,l.dimensionIndex=i,a(l)):U(a)?y1(a,l).replace(qN,function(h,f){var v=f.length,p=f;"["===p.charAt(0)&&"]"===p.charAt(v-1)&&(p=+p.slice(1,v-1));var g=Io(s,t,p);if(o&&F(o.interpolatedValue)){var m=s.getDimensionIndex(p);m>=0&&(g=o.interpolatedValue[m])}return null!=g?g+"":""}):void 0},n.prototype.getRawValue=function(t,e){return Io(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,r){},n}();function ix(n){var t,e;return oe(n)?n.type&&(e=n):t=n,{text:t,frag:e}}function nl(n){return new jN(n)}var jN=function(){function n(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var a,e=this._upstream,r=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(a=this._plan(this.context));var h,o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;function c(_){return!(_>=1)&&(_=1),_}(o!==l||s!==u)&&(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,h=this._doReset(r)),this._modBy=l,this._modDataCount=u;var f=t&&t.step;if(this._dueEnd=e?e._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,p=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(h||v<p)){var g=this._progress;if(F(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],v,p,l,u);else this._doProgress(g,v,p,l,u)}this._dueIndex=p,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,r,i,a){ax.reset(e,r,i,a),this._callingProgress=t,this._callingProgress({start:e,end:r,count:r-e,next:ax.next},this.context)},n.prototype._doReset=function(t){var e,r;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(r=e.forceFirstProgress,e=e.progress),F(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),ax=function(){var n,t,e,r,i,a={reset:function(l,u,c,h){t=l,n=u,e=c,r=h,i=Math.ceil(r/e),a.next=e>1&&r>0?s:o}};return a;function o(){return t<n?t++:null}function s(){var l=t%i*e+Math.ceil(t/i),u=t>=n?null:l<r?l:t;return t++,u}}();function Le(n){throw new Error(n)}function ui(n,t){var e=t&&t.type;return"ordinal"===e?n:("time"===e&&!De(n)&&null!=n&&"-"!==n&&(n=+rr(n)),null==n||""===n?NaN:Number(n))}"undefined"!=typeof console&&console.warn&&console;var nk=Q({number:function(n){return parseFloat(n)},time:function(n){return+rr(n)},trim:function(n){return U(n)?Pn(n):n}});function lx(n){return nk.get(n)}var ux={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},rk=function(){function n(t,e){De(e)||Le(""),this._opFn=ux[t],this._rvalFloat=Mr(e)}return n.prototype.evaluate=function(t){return De(t)?this._opFn(t,this._rvalFloat):this._opFn(Mr(t),this._rvalFloat)},n}(),cx=function(){function n(t,e){var r="desc"===t;this._resultLT=r?1:-1,null==e&&(e=r?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(t,e){var r=De(t)?t:Mr(t),i=De(e)?e:Mr(e),a=isNaN(r),o=isNaN(i);if(a&&(r=this._incomparable),o&&(i=this._incomparable),a&&o){var s=U(t),l=U(e);s&&(r=l?t:0),l&&(i=s?e:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),ik=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Mr(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var r=typeof t;r!==this._rvalTypeof&&("number"===r||"number"===this._rvalTypeof)&&(e=Mr(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function ak(n,t){return"eq"===n||"ne"===n?new ik("eq"===n,t):X(ux,n)?new rk(n,t):null}var ok=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return ui(t,e)},n}();function lk(n){return Gp(n.sourceFormat)||Le(""),n.data}function uk(n){var t=n.sourceFormat,e=n.data;if(Gp(t)||Le(""),t===Mt){for(var i=[],a=0,o=e.length;a<o;a++)i.push(e[a].slice());return i}if(t===_n){for(i=[],a=0,o=e.length;a<o;a++)i.push(V({},e[a]));return i}}function ck(n,t,e){if(null!=e){if(De(e)||!isNaN(e)&&!X(t,e))return n[e];if(X(t,e))return t[e]}}function hk(n){return se(n)}var hx=Q();function pk(n,t,e,r){t.length||Le(""),oe(n)||Le("");var o=hx.get(n.type);o||Le("");var s=G(t,function(c){return function(n,t){var e=new ok,r=n.data,i=e.sourceFormat=n.sourceFormat,a=n.startIndex;n.seriesLayoutBy!==cr&&Le("");var s=[],l={},u=n.dimensionsDefine;if(u)D(u,function(g,m){var y=g.name,_={index:m,name:y,displayName:g.displayName};s.push(_),null!=y&&(X(l,y)&&Le(""),l[y]=_)});else for(var c=0;c<n.dimensionsDetectedCount;c++)s.push({index:c});var h=ex(i,cr);t.__isBuiltIn&&(e.getRawDataItem=function(g){return h(r,a,s,g)},e.getRawData=$(lk,null,n)),e.cloneRawData=$(uk,null,n);var f=nx(i,cr);e.count=$(f,null,r,a,s);var v=rx(i);e.retrieveValue=function(g,m){var y=h(r,a,s,g);return p(y,m)};var p=e.retrieveValueFromItem=function(g,m){if(null!=g){var y=s[m];if(y)return v(g,m,y.name)}};return e.getDimensionInfo=$(ck,null,s,l),e.cloneAllDimensionInfo=$(hk,null,s),e}(c,o)});return G(ke(o.transform({upstream:s[0],upstreamList:s,config:se(n.config)})),function(c,h){oe(c)||Le(""),c.data||Le(""),Gp(U1(c.data))||Le("");var p,g=t[0];if(g&&0===h&&!c.dimensions){var m=g.startIndex;m&&(c.data=g.data.slice(0,m).concat(c.data)),p={seriesLayoutBy:cr,sourceHeader:m,dimensions:g.metaRawOption.dimensions}}else p={seriesLayoutBy:cr,sourceHeader:0,dimensions:c.dimensions};return kp(c.data,p,null)})}function Gp(n){return n===Mt||n===_n}var Hp,wc="undefined",dk=typeof Uint32Array===wc?Array:Uint32Array,gk=typeof Uint16Array===wc?Array:Uint16Array,fx=typeof Int32Array===wc?Array:Int32Array,vx=typeof Float64Array===wc?Array:Float64Array,px={float:vx,int:fx,ordinal:Array,number:Array,time:vx};function Po(n){return n>65535?dk:gk}function mk(n){var t=n.constructor;return t===Array?n.slice():new t(n)}function dx(n,t,e,r,i){var a=px[e||"float"];if(i){var o=n[t],s=o&&o.length;if(s!==r){for(var l=new a(r),u=0;u<s;u++)l[u]=o[u];n[t]=l}}else n[t]=new a(r)}var yk=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Q()}return n.prototype.initData=function(t,e,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=Hp[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],Q1(i),this._dimensions=G(e,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(t);if(null!=a){if(i[a].type===e)return a}else a=i.length;return i[a]={type:e},r.set(t,a),this._chunks[a]=new px[e||"float"](this._rawCount),this._rawExtent[a]=[1/0,-1/0],a},n.prototype.collectOrdinalMeta=function(t,e){var r=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,o=i.ordinalOffset||0,s=r.length;0===o&&(a[t]=[1/0,-1/0]);for(var l=a[t],u=o;u<s;u++){var c=r[u]=e.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=e,i.ordinalOffset=s,i.type="ordinal"},n.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,r=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(t,e){for(var r=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),u=0;u<a;u++)dx(r,u,i[u].type,l,!0);for(var h=[],f=s;f<l;f++)for(var v=f-s,p=0;p<a;p++){var g=Hp.arrayRows.call(this,t[v]||h,i[p].property,v,p);r[p][f]=g;var m=o[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(t,e,r){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=G(o,function(_){return _.property}),c=0;c<s;c++){var h=o[c];l[c]||(l[c]=[1/0,-1/0]),dx(a,c,h.type,e,r)}if(i.fillStorage)i.fillStorage(t,e,a,l);else for(var f=[],v=t;v<e;v++){f=i.getItem(v,f);for(var p=0;p<s;p++){var g=a[p],m=this._dimValueGetter(f,u[p],v,p);g[v]=m;var y=l[p];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var r=[],i=[];if(null==e){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;a=0;for(var o=i.length;a<o;a++)r.push(this.get(i[a],e));return r},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var r=this._chunks[t];return r?r[e]:NaN},n.prototype.getSum=function(t){var r=0;if(this._chunks[t])for(var i=0,a=this.count();i<a;i++){var o=this.get(t,i);isNaN(o)||(r+=o)}return r},n.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var r=e.sort(function(a,o){return a-o}),i=this.count();return 0===i?0:i%2==1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,r=e[t];if(null!=r&&r<this._count&&r===t)return t;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(e[o]<t)i=o+1;else{if(!(e[o]>t))return o;a=o-1}}return-1},n.prototype.indicesOfNearest=function(t,e,r){var a=this._chunks[t],o=[];if(!a)return o;null==r&&(r=1/0);for(var s=1/0,l=-1,u=0,c=0,h=this.count();c<h;c++){var v=e-a[this.getRawIndex(c)],p=Math.abs(v);p<=r&&((p<s||p===s&&v>=0&&l<0)&&(s=p,l=v,u=0),v===l&&(o[u++]=c))}return o.length=u,o},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=this._count;if((r=e.constructor)===Array){t=new r(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new r(e.buffer,0,i)}else{var r;for(t=new(r=Po(this._rawCount))(this.count()),a=0;a<t.length;a++)t[a]=a}return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var r=this.clone(),i=r.count(),o=new(Po(r._rawCount))(i),s=[],l=t.length,u=0,c=t[0],h=r._chunks,f=0;f<i;f++){var v=void 0,p=r.getRawIndex(f);if(0===l)v=e(f);else if(1===l)v=e(h[c][p],f);else{for(var m=0;m<l;m++)s[m]=h[t[m]][p];s[m]=f,v=e.apply(null,s)}v&&(o[u++]=p)}return u<i&&(r._indices=o),r._count=u,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(t){var e=this.clone(),r=e._count;if(!r)return this;var i=we(t),a=i.length;if(!a)return this;var o=e.count(),l=new(Po(e._rawCount))(o),u=0,c=i[0],h=t[c][0],f=t[c][1],v=e._chunks,p=!1;if(!e._indices){var g=0;if(1===a){for(var m=v[i[0]],y=0;y<r;y++)((_=m[y])>=h&&_<=f||isNaN(_))&&(l[u++]=g),g++;p=!0}else if(2===a){m=v[i[0]];var S=v[i[1]],x=t[i[1]][0],b=t[i[1]][1];for(y=0;y<r;y++){var w=S[y];((_=m[y])>=h&&_<=f||isNaN(_))&&(w>=x&&w<=b||isNaN(w))&&(l[u++]=g),g++}p=!0}}if(!p)if(1===a)for(y=0;y<o;y++){var C=e.getRawIndex(y);((_=v[i[0]][C])>=h&&_<=f||isNaN(_))&&(l[u++]=C)}else for(y=0;y<o;y++){for(var T=!0,z=(C=e.getRawIndex(y),0);z<a;z++){var _,M=i[z];((_=v[M][C])<t[M][0]||_>t[M][1])&&(T=!1)}T&&(l[u++]=e.getRawIndex(y))}return u<o&&(e._indices=l),e._count=u,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var r=this.clone(t);return this._updateDims(r,t,e),r},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,r){for(var i=t._chunks,a=[],o=e.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<e.length;c++)u[e[c]]=[1/0,-1/0];for(var h=0;h<s;h++){for(var f=t.getRawIndex(h),v=0;v<o;v++)l[v]=i[e[v]][f];l[o]=h;var p=r&&r.apply(null,l);if(null!=p)for("object"!=typeof p&&(a[0]=p,p=a),c=0;c<p.length;c++){var g=e[c],m=p[c],y=u[g],_=i[g];_&&(_[f]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}},n.prototype.lttbDownSample=function(t,e){var c,h,f,r=this.clone([t],!0),a=r._chunks[t],o=this.count(),s=0,l=Math.floor(1/e),u=this.getRawIndex(0),v=new(Po(this._rawCount))(Math.min(2*(Math.ceil(o/l)+2),o));v[s++]=u;for(var p=1;p<o-1;p+=l){for(var g=Math.min(p+l,o-1),m=Math.min(p+2*l,o),y=(m+g)/2,_=0,S=g;S<m;S++){var b=a[x=this.getRawIndex(S)];isNaN(b)||(_+=b)}_/=m-g;var w=p,C=Math.min(p+l,o),T=p-1,z=a[u];c=-1,f=w;var M=-1,A=0;for(S=w;S<C;S++){var x;b=a[x=this.getRawIndex(S)],isNaN(b)?(A++,M<0&&(M=x)):(h=Math.abs((T-y)*(b-z)-(T-S)*(_-z)))>c&&(c=h,f=x)}A>0&&A<C-w&&(v[s++]=Math.min(M,f),f=Math.max(M,f)),v[s++]=f,u=f}return v[s++]=this.getRawIndex(o-1),r._count=s,r._indices=v,r.getRawIndex=this._getRawIdx,r},n.prototype.minmaxDownSample=function(t,e){for(var r=this.clone([t],!0),i=r._chunks,a=Math.floor(1/e),o=i[t],s=this.count(),l=new(Po(this._rawCount))(2*Math.ceil(s/a)),u=0,c=0;c<s;c+=a){var h=c,f=o[this.getRawIndex(h)],v=c,p=o[this.getRawIndex(v)],g=a;c+a>s&&(g=s-c);for(var m=0;m<g;m++){var _=o[this.getRawIndex(c+m)];_<f&&(f=_,h=c+m),_>p&&(p=_,v=c+m)}var S=this.getRawIndex(h),x=this.getRawIndex(v);h<v?(l[u++]=S,l[u++]=x):(l[u++]=x,l[u++]=S)}return r._count=u,r._indices=l,r._updateGetRawIdx(),r},n.prototype.downSample=function(t,e,r,i){for(var a=this.clone([t],!0),o=a._chunks,s=[],l=Math.floor(1/e),u=o[t],c=this.count(),h=a._rawExtent[t]=[1/0,-1/0],f=new(Po(this._rawCount))(Math.ceil(c/l)),v=0,p=0;p<c;p+=l){l>c-p&&(s.length=l=c-p);for(var g=0;g<l;g++){var m=this.getRawIndex(p+g);s[g]=u[m]}var y=r(s),_=this.getRawIndex(Math.min(p+i(s,y)||0,c-1));u[_]=y,y<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),f[v++]=_}return a._count=v,a._indices=f,a._updateGetRawIdx(),a},n.prototype.each=function(t,e){if(this._count)for(var r=t.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(r){case 0:e(a);break;case 1:e(i[t[0]][s],a);break;case 2:e(i[t[0]][s],i[t[1]][s],a);break;default:for(var l=0,u=[];l<r;l++)u[l]=i[t[l]][s];u[l]=a,e.apply(null,u)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],r=[1/0,-1/0];if(!e)return r;var o,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(o=this._extent[t])return o.slice();for(var s=(o=r)[0],l=o[1],u=0;u<i;u++){var h=e[this.getRawIndex(u)];h<s&&(s=h),h>l&&(l=h)}return this._extent[t]=o=[s,l],o},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][e]);return r},n.prototype.clone=function(t,e){var r=new n,i=this._chunks,a=t&&Jn(t,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)r._chunks[o]=a[o]?mk(i[o]):i[o];else r._chunks=i;return this._copyCommonProps(r),e||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=se(this._extent),t._rawExtent=se(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var r=this._indices.length;e=new t(r);for(var i=0;i<r;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,r,i,a){return ui(e[a],this._dimensions[a])}Hp={arrayRows:t,objectRows:function(e,r,i,a){return ui(e[r],this._dimensions[a])},keyedColumns:t,original:function(e,r,i,a){var o=e&&(null==e.value?e:e.value);return ui(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(e,r,i,a){return e[a]}}}(),n}();const Wp=yk;var gx=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var i,a,t=this._sourceHost,e=this._getUpstreamSourceManagers(),r=!!e.length;if(Cc(t)){var o=t,s=void 0,l=void 0,u=void 0;if(r){var c=e[0];c.prepareSource(),s=(u=c.getSource()).data,l=u.sourceFormat,a=[c._getVersionSign()]}else l=Ht(s=o.get("data",!0))?Rr:yn,a=[];var h=this._getSourceMetaRawOption()||{},f=u&&u.metaRawOption||{},v=ve(h.seriesLayoutBy,f.seriesLayoutBy)||null,p=ve(h.sourceHeader,f.sourceHeader),g=ve(h.dimensions,f.dimensions);i=v!==f.seriesLayoutBy||!!p!=!!f.sourceHeader||g?[kp(s,{seriesLayoutBy:v,sourceHeader:p,dimensions:g},l)]:[]}else{var y=t;if(r){var _=this._applyTransform(e);i=_.sourceList,a=_.upstreamSignList}else i=[kp(y.get("source",!0),this._getSourceMetaRawOption(),null)],a=[]}this._setLocalSource(i,a)},n.prototype._applyTransform=function(t){var e=this._sourceHost,r=e.get("transform",!0),i=e.get("fromTransformResult",!0);null!=i&&1!==t.length&&yx("");var o,s=[],l=[];return D(t,function(u){u.prepareSource();var c=u.getSource(i||0);null!=i&&!c&&yx(""),s.push(c),l.push(u._getVersionSign())}),r?o=function(n,t,e){var r=ke(n),i=r.length;i||Le("");for(var o=0,s=i;o<s;o++)t=pk(r[o],t),o!==s-1&&(t.length=Math.max(t.length,1));return t}(r,s):null!=i&&(o=[ZN(s[0])]),{sourceList:o,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var r=t[e];if(r._isDirty()||this._upstreamSignList[e]!==r._getVersionSign())return!0}},n.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,r){var a=this._storeList,o=a[0];o||(o=a[0]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];Cc(this._sourceHost)&&l?s=l._innerGetDataStore(t,e,r):(s=new Wp).initData(new j1(e,t.length),t),o[r]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Cc(t)){var e=Mp(t);return e?[e.getSourceManager()]:[]}return G(function(n){return n.get("transform",!0)||n.get("fromTransformResult",!0)?Es(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},it).models:[]}(t),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e,r,i,t=this._sourceHost;if(Cc(t))e=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:r,dimensions:i}},n}();function mx(n){n.option.transform&&yu(n.option.transform)}function Cc(n){return"series"===n.mainType}function yx(n){throw new Error(n)}function _x(n){var t=n.lineHeight;return null==t?"line-height:1":"line-height:"+Dt(t+"")+"px"}function Sx(n,t){var e=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",a=n.color||"#464646",o=n.fontSize||14,s=n.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+Dt(r+"")+"px;color:"+Dt(e)+";font-weight:"+Dt(i+""),valueStyle:"font-size:"+Dt(o+"")+"px;color:"+Dt(a)+";font-weight:"+Dt(s+"")}:{nameStyle:{fontSize:r,fill:e,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var Sk=[0,10,20,30],xk=["","\n","\n\n","\n\n\n"];function ft(n,t){return t.type=n,t}function Yp(n){return"section"===n.type}function xx(n){return Yp(n)?bk:wk}function bx(n){if(Yp(n)){var t=0,e=n.blocks.length,r=e>1||e>0&&!n.noHeader;return D(n.blocks,function(i){var a=bx(i);a>=t&&(t=a+ +(r&&(!a||Yp(i)&&!i.noHeader)))}),t}return 0}function bk(n,t,e,r){var i=t.noHeader,a=function(n){return{html:Sk[n],richText:xk[n]}}(bx(t)),o=[],s=t.blocks||[];Rt(!s||F(s)),s=s||[];var l=n.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(X(u,l)){var c=new cx(u[l],null);s.sort(function(g,m){return c.evaluate(g.sortParam,m.sortParam)})}else"seriesDesc"===l&&s.reverse()}D(s,function(g,m){var y=t.valueFormatter,_=xx(g)(y?V(V({},n),{valueFormatter:y}):n,g,m>0?a.html:0,r);null!=_&&o.push(_)});var h="richText"===n.renderMode?o.join(a.richText):Zp(r,o.join(""),i?e:a.html);if(i)return h;var f=Cp(t.header,"ordinal",n.useUTC),v=Sx(r,n.renderMode).nameStyle,p=_x(r);return"richText"===n.renderMode?Tx(n,f,v)+a.richText+h:Zp(r,'<div style="'+v+";"+p+';">'+Dt(f)+"</div>"+h,e)}function wk(n,t,e,r){var i=n.renderMode,a=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=n.useUTC,c=t.valueFormatter||n.valueFormatter||function(x){return G(x=F(x)?x:[x],function(b,w){return Cp(b,F(v)?v[w]:v,u)})};if(!a||!o){var h=s?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),f=a?"":Cp(l,"ordinal",u),v=t.valueType,p=o?[]:c(t.value,t.dataIndex),g=!s||!a,m=!s&&a,y=Sx(r,i),_=y.nameStyle,S=y.valueStyle;return"richText"===i?(s?"":h)+(a?"":Tx(n,f,_))+(o?"":function(n,t,e,r,i){var a=[i];return e&&a.push({padding:[0,0,0,r?10:20],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(F(t)?t.join("  "):t,a)}(n,p,g,m,S)):Zp(r,(s?"":h)+(a?"":function(n,t,e){return'<span style="'+e+";"+(t?"margin-left:2px":"")+'">'+Dt(n)+"</span>"}(f,!s,_))+(o?"":function(n,t,e,r){return'<span style="'+(t?"float:right;margin-left:"+(e?"10px":"20px"):"")+";"+r+'">'+G(n=F(n)?n:[n],function(o){return Dt(o)}).join("&nbsp;&nbsp;")+"</span>"}(p,g,m,S)),e)}}function Cx(n,t,e,r,i,a){if(n)return xx(n)({useUTC:i,renderMode:e,orderMode:r,markupStyleCreator:t,valueFormatter:n.valueFormatter},n,0,a)}function Zp(n,t,e){return'<div style="margin: '+e+"px 0 0;"+_x(n)+';">'+t+'<div style="clear:both"></div></div>'}function Tx(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function zx(n,t){return ua(n.getData().getItemVisual(t,"style")[n.visualDrawType])}function Dx(n,t){var e=n.get("padding");return null!=e?e:"richText"===t?[8,10]:10}var Up=function(){function n(){this.richTextStyles={},this._nextStyleNameId=B_()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,r){var i="richText"===r?this._generateStyleName():null,a=function(n,t){var e=U(n)?{color:n,extraCssText:t}:n||{},r=e.color,i=e.type;t=e.extraCssText;var a=e.renderMode||"html";return r?"html"===a?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Dt(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Dt(r)+";"+(t||"")+'"></span>':{renderMode:a,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}({color:e,type:t,renderMode:r,markerId:i});return U(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(t,e){var r={};F(e)?D(e,function(a){return V(r,a)}):V(r,e);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+t+"}"},n}();function Mx(n){var c,h,f,v,t=n.series,e=n.dataIndex,r=n.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=t.getRawValue(e),l=F(s),u=zx(t,e);if(o>1||l&&!o){var p=function(n,t,e,r,i){var a=t.getData(),o=Jn(n,function(h,f,v){var p=a.getDimensionInfo(v);return h||p&&!1!==p.tooltip&&null!=p.displayName},!1),s=[],l=[],u=[];function c(h,f){var v=a.getDimensionInfo(f);!v||!1===v.otherDims.tooltip||(o?u.push(ft("nameValue",{markerType:"subItem",markerColor:i,name:v.displayName,value:h,valueType:v.type})):(s.push(h),l.push(v.type)))}return r.length?D(r,function(h){c(Io(a,e,h),h)}):D(n,c),{inlineValues:s,inlineValueTypes:l,blocks:u}}(s,t,e,a,u);c=p.inlineValues,h=p.inlineValueTypes,f=p.blocks,v=p.inlineValues[0]}else if(o){var g=i.getDimensionInfo(a[0]);v=c=Io(i,e,a[0]),h=g.type}else v=c=l?s[0]:s;var m=Rv(t),y=m&&t.name||"",_=i.getName(e),S=r?y:_;return ft("section",{header:y,noHeader:r||!m,sortParam:v,blocks:[ft("nameValue",{markerType:"item",markerColor:u,name:S,noName:!Pn(S),value:c,valueType:h,dataIndex:e})].concat(f||[])})}var ci=Ce();function Tc(n,t){return n.getName(t)||n.getId(t)}var zc="__universalTransitionEnabled",Dc=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return E(t,n),t.prototype.init=function(e,r,i){this.seriesIndex=this.componentIndex,this.dataTask=nl({count:Ik,reset:Pk}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i),(ci(this).sourceManager=new gx(this)).prepareSource();var o=this.getInitialData(e,i);Ix(o,this),this.dataTask.context.data=o,ci(this).dataBeforeProcessed=o,Ax(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,r){var i=Js(this),a=i?zo(e):{},o=this.subType;Ae.hasClass(o)&&(o+="Series"),de(e,r.getTheme().get(this.subType)),de(e,this.getDefaultOption()),Ui(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&li(e,a,i)},t.prototype.mergeOption=function(e,r){e=de(this.option,e,!0),this.fillDataTextStyle(e.data);var i=Js(this);i&&li(this.option,e,i);var a=ci(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(e,r);Ix(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,ci(this).dataBeforeProcessed=o,Ax(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(e){if(e&&!Ht(e))for(var r=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&Ui(e[i],"label",r)},t.prototype.getInitialData=function(e,r){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var r=$p(this);if(r){var i=r.context.data;return null!=e&&i.getLinkedData?i.getLinkedData(e):i}return ci(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var r=$p(this);if(r){var i=r.context;i.outputData=e,r!==this.dataTask&&(i.data=e)}ci(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Q(e)},t.prototype.getSourceManager=function(){return ci(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return ci(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,r,i){return Mx({series:this,dataIndex:e,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(ze.node&&(!e||!e.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,r,i){var a=this.ecModel,o=Ip.prototype.getColorFromPalette.call(this,e,r,i);return o||(o=a.getColorFromPalette(e,r,i)),o},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,r){this._innerSelect(this.getData(r),e)},t.prototype.unselect=function(e,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(r);if("series"===a||"all"===i)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<e.length;s++){var u=Tc(o,e[s]);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(e,r){for(var i=[],a=0;a<e.length;a++)i[0]=e[a],this.isSelected(e[a],r)?this.unselect(i,r):this.select(i,r)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,r=we(e),i=[],a=0;a<r.length;a++){var o=e[r[a]];o>=0&&i.push(o)}return i},t.prototype.isSelected=function(e,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return("all"===i||i[Tc(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[zc])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,r){var i,a,o=this.option,s=o.selectedMode,l=r.length;if(s&&l)if("series"===s)o.selectedMap="all";else if("multiple"===s){oe(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var h=r[c];u[f=Tc(e,h)]=!0,this._selectedDataIndicesMap[f]=e.getRawIndex(h)}}else if("single"===s||!0===s){var v=r[l-1],f=Tc(e,v);o.selectedMap=((i={})[f]=!0,i),this._selectedDataIndicesMap=((a={})[f]=e.getRawIndex(v),a)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var r=[];e.hasItemOption&&e.each(function(i){var a=e.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(e,r)}},t.registerClass=function(e){return Ae.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(Ae);function Ax(n){var t=n.name;Rv(n)||(n.name=function(n){var t=n.getRawData(),e=t.mapDimensionsAll("seriesName"),r=[];return D(e,function(i){var a=t.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}(n)||t)}function Ik(n){return n.model.getRawData().count()}function Pk(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),Lk}function Lk(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Ix(n,t){D(gs(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,pe(Ok,t))})}function Ok(n,t){var e=$p(n);return e&&e.setOutputEnd((t||this).count()),t}function $p(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var r=e.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}rt(Dc,bc),rt(Dc,Ip),J_(Dc,Ae);const $e=Dc;var Xp=function(){function n(){this.group=new ue,this.uid=xo("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,r,i){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,r,i){},n.prototype.updateLayout=function(t,e,r,i){},n.prototype.updateVisual=function(t,e,r,i){},n.prototype.toggleBlurSeries=function(t,e,r){},n.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},n}();Ev(Xp),Xu(Xp);const je=Xp;function Oo(){var n=Ce();return function(t){var e=n(t),r=t.pipelineContext,i=!!e.large,a=!!e.progressiveRender,o=e.large=!(!r||!r.large),s=e.progressiveRender=!(!r||!r.progressiveRender);return(i!==o||a!==s)&&"reset"}}var Ro=lr.CMD,Rk=[[],[],[]],Px=Math.sqrt,Nk=Math.atan2;function Lx(n,t){if(t){var i,a,o,s,l,u,e=n.data,r=n.len(),c=Ro.M,h=Ro.C,f=Ro.L,v=Ro.R,p=Ro.A,g=Ro.Q;for(o=0,s=0;o<r;){switch(i=e[o++],s=o,a=0,i){case c:case f:a=1;break;case h:a=3;break;case g:a=2;break;case p:var m=t[4],y=t[5],_=Px(t[0]*t[0]+t[1]*t[1]),S=Px(t[2]*t[2]+t[3]*t[3]),x=Nk(-t[1]/S,t[0]/_);e[o]*=_,e[o++]+=m,e[o]*=S,e[o++]+=y,e[o++]*=_,e[o++]*=S,e[o++]+=x,e[o++]+=x,s=o+=2;break;case v:u[0]=e[o++],u[1]=e[o++],_t(u,u,t),e[s++]=u[0],e[s++]=u[1],u[0]+=e[o++],u[1]+=e[o++],_t(u,u,t),e[s++]=u[0],e[s++]=u[1]}for(l=0;l<a;l++){var b=Rk[l];b[0]=e[o++],b[1]=e[o++],_t(b,b,t),e[s++]=b[0],e[s++]=b[1]}}n.increaseVersion()}}var Qp=Math.sqrt,Mc=Math.sin,Ac=Math.cos,rl=Math.PI;function Ox(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Jp(n,t){return(n[0]*t[0]+n[1]*t[1])/(Ox(n)*Ox(t))}function Rx(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(Jp(n,t))}function Nx(n,t,e,r,i,a,o,s,l,u,c){var h=l*(rl/180),f=Ac(h)*(n-e)/2+Mc(h)*(t-r)/2,v=-1*Mc(h)*(n-e)/2+Ac(h)*(t-r)/2,p=f*f/(o*o)+v*v/(s*s);p>1&&(o*=Qp(p),s*=Qp(p));var g=(i===a?-1:1)*Qp((o*o*(s*s)-o*o*(v*v)-s*s*(f*f))/(o*o*(v*v)+s*s*(f*f)))||0,m=g*o*v/s,y=g*-s*f/o,_=(n+e)/2+Ac(h)*m-Mc(h)*y,S=(t+r)/2+Mc(h)*m+Ac(h)*y,x=Rx([1,0],[(f-m)/o,(v-y)/s]),b=[(f-m)/o,(v-y)/s],w=[(-1*f-m)/o,(-1*v-y)/s],C=Rx(b,w);if(Jp(b,w)<=-1&&(C=rl),Jp(b,w)>=1&&(C=0),C<0){var T=Math.round(C/rl*1e6)/1e6;C=2*rl+T%2*rl}c.addData(u,_,S,o,s,x,C,h,a)}var kk=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Ek=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,kx=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ze(t,n),t.prototype.applyTransform=function(e){},t}(be);function Ex(n){return null!=n.setData}function Bx(n,t){var e=function(n){var t=new lr;if(!n)return t;var o,e=0,r=0,i=e,a=r,s=lr.CMD,l=n.match(kk);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],h=c.charAt(0),f=void 0,v=c.match(Ek)||[],p=v.length,g=0;g<p;g++)v[g]=parseFloat(v[g]);for(var m=0;m<p;){var y=void 0,_=void 0,S=void 0,x=void 0,b=void 0,w=void 0,C=void 0,T=e,z=r,M=void 0,A=void 0;switch(h){case"l":e+=v[m++],r+=v[m++],t.addData(f=s.L,e,r);break;case"L":e=v[m++],r=v[m++],t.addData(f=s.L,e,r);break;case"m":e+=v[m++],r+=v[m++],t.addData(f=s.M,e,r),i=e,a=r,h="l";break;case"M":e=v[m++],r=v[m++],t.addData(f=s.M,e,r),i=e,a=r,h="L";break;case"h":e+=v[m++],t.addData(f=s.L,e,r);break;case"H":e=v[m++],t.addData(f=s.L,e,r);break;case"v":r+=v[m++],t.addData(f=s.L,e,r);break;case"V":r=v[m++],t.addData(f=s.L,e,r);break;case"C":t.addData(f=s.C,v[m++],v[m++],v[m++],v[m++],v[m++],v[m++]),e=v[m-2],r=v[m-1];break;case"c":t.addData(f=s.C,v[m++]+e,v[m++]+r,v[m++]+e,v[m++]+r,v[m++]+e,v[m++]+r),e+=v[m-2],r+=v[m-1];break;case"S":y=e,_=r,M=t.len(),A=t.data,o===s.C&&(y+=e-A[M-4],_+=r-A[M-3]),T=v[m++],z=v[m++],e=v[m++],r=v[m++],t.addData(f=s.C,y,_,T,z,e,r);break;case"s":y=e,_=r,M=t.len(),A=t.data,o===s.C&&(y+=e-A[M-4],_+=r-A[M-3]),T=e+v[m++],z=r+v[m++],e+=v[m++],r+=v[m++],t.addData(f=s.C,y,_,T,z,e,r);break;case"Q":T=v[m++],z=v[m++],e=v[m++],r=v[m++],t.addData(f=s.Q,T,z,e,r);break;case"q":T=v[m++]+e,z=v[m++]+r,e+=v[m++],r+=v[m++],t.addData(f=s.Q,T,z,e,r);break;case"T":y=e,_=r,M=t.len(),A=t.data,o===s.Q&&(y+=e-A[M-4],_+=r-A[M-3]),e=v[m++],r=v[m++],t.addData(f=s.Q,y,_,e,r);break;case"t":y=e,_=r,M=t.len(),A=t.data,o===s.Q&&(y+=e-A[M-4],_+=r-A[M-3]),e+=v[m++],r+=v[m++],t.addData(f=s.Q,y,_,e,r);break;case"A":S=v[m++],x=v[m++],b=v[m++],w=v[m++],C=v[m++],Nx(T=e,z=r,e=v[m++],r=v[m++],w,C,S,x,b,f=s.A,t);break;case"a":S=v[m++],x=v[m++],b=v[m++],w=v[m++],C=v[m++],Nx(T=e,z=r,e+=v[m++],r+=v[m++],w,C,S,x,b,f=s.A,t)}}("z"===h||"Z"===h)&&(t.addData(f=s.Z),e=i,r=a),o=f}return t.toStatic(),t}(n),r=V({},t);return r.buildPath=function(i){var a;Ex(i)?(i.setData(e.data),(a=i.getContext())&&i.rebuildPath(a,1)):e.rebuildPath(a=i,1)},r.applyTransform=function(i){Lx(e,i),this.dirtyShape()},r}function Vx(n,t){return new kx(Bx(n,t))}function qp(n,t){t=t||{};var e=new be;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?Lx(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var Gk=function(){this.cx=0,this.cy=0,this.r=0},Fx=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultShape=function(){return new Gk},t.prototype.buildPath=function(e,r){e.moveTo(r.cx+r.r,r.cy),e.arc(r.cx,r.cy,r.r,0,2*Math.PI)},t}(be);Fx.prototype.type="circle";const hi=Fx;var Hk=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Gx=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultShape=function(){return new Hk},t.prototype.buildPath=function(e,r){var i=.5522848,a=r.cx,o=r.cy,s=r.rx,l=r.ry,u=s*i,c=l*i;e.moveTo(a-s,o),e.bezierCurveTo(a-s,o-c,a-u,o-l,a,o-l),e.bezierCurveTo(a+u,o-l,a+s,o-c,a+s,o),e.bezierCurveTo(a+s,o+c,a+u,o+l,a,o+l),e.bezierCurveTo(a-u,o+l,a-s,o+c,a-s,o),e.closePath()},t}(be);Gx.prototype.type="ellipse";const jp=Gx;var Hx=Math.PI,Kp=2*Hx,da=Math.sin,No=Math.cos,Wk=Math.acos,It=Math.atan2,Wx=Math.abs,il=Math.sqrt,al=Math.max,hr=Math.min,En=1e-4;function Ic(n,t,e,r,i,a,o){var s=n-e,l=t-r,u=(o?a:-a)/il(s*s+l*l),c=u*l,h=-u*s,f=n+c,v=t+h,p=e+c,g=r+h,m=(f+p)/2,y=(v+g)/2,_=p-f,S=g-v,x=_*_+S*S,b=i-a,w=f*g-p*v,C=(S<0?-1:1)*il(al(0,b*b*x-w*w)),T=(w*S-_*C)/x,z=(-w*_-S*C)/x,M=(w*S+_*C)/x,A=(-w*_+S*C)/x,I=T-m,P=z-y,L=M-m,O=A-y;return I*I+P*P>L*L+O*O&&(T=M,z=A),{cx:T,cy:z,x0:-c,y0:-h,x1:T*(i/b-1),y1:z*(i/b-1)}}var $k=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Yx=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultShape=function(){return new $k},t.prototype.buildPath=function(e,r){!function(n,t){var e,r=al(t.r,0),i=al(t.r0||0,0),a=r>0;if(a||i>0){if(a||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=t.startAngle,u=t.endAngle;if(!isNaN(l)&&!isNaN(u)){var c=t.cx,h=t.cy,f=!!t.clockwise,v=Wx(u-l),p=v>Kp&&v%Kp;if(p>En&&(v=p),r>En)if(v>Kp-En)n.moveTo(c+r*No(l),h+r*da(l)),n.arc(c,h,r,l,u,!f),i>En&&(n.moveTo(c+i*No(u),h+i*da(u)),n.arc(c,h,i,u,l,f));else{var g=void 0,m=void 0,y=void 0,_=void 0,S=void 0,x=void 0,b=void 0,w=void 0,C=void 0,T=void 0,z=void 0,M=void 0,A=void 0,I=void 0,P=void 0,L=void 0,O=r*No(l),R=r*da(l),k=i*No(u),N=i*da(u),B=v>En;if(B){var H=t.cornerRadius;H&&(e=function(n){var t;if(F(n)){var e=n.length;if(!e)return n;t=1===e?[n[0],n[0],0,0]:2===e?[n[0],n[0],n[1],n[1]]:3===e?n.concat(n[2]):n}else t=[n,n,n,n];return t}(H),g=e[0],m=e[1],y=e[2],_=e[3]);var W=Wx(r-i)/2;if(S=hr(W,y),x=hr(W,_),b=hr(W,g),w=hr(W,m),z=C=al(S,x),M=T=al(b,w),(C>En||T>En)&&(A=r*No(u),I=r*da(u),P=i*No(l),L=i*da(l),v<Hx)){var Z=function(n,t,e,r,i,a,o,s){var l=e-n,u=r-t,c=o-i,h=s-a,f=h*l-c*u;if(!(f*f<En))return[n+(f=(c*(t-a)-h*(n-i))/f)*l,t+f*u]}(O,R,P,L,A,I,k,N);if(Z){var K=O-Z[0],te=R-Z[1],he=A-Z[0],Ee=I-Z[1],et=1/da(Wk((K*he+te*Ee)/(il(K*K+te*te)*il(he*he+Ee*Ee)))/2),ye=il(Z[0]*Z[0]+Z[1]*Z[1]);z=hr(C,(r-ye)/(et+1)),M=hr(T,(i-ye)/(et-1))}}}if(B)if(z>En){var ae=hr(y,z),xe=hr(_,z),J=Ic(P,L,O,R,r,ae,f),fe=Ic(A,I,k,N,r,xe,f);n.moveTo(c+J.cx+J.x0,h+J.cy+J.y0),z<C&&ae===xe?n.arc(c+J.cx,h+J.cy,z,It(J.y0,J.x0),It(fe.y0,fe.x0),!f):(ae>0&&n.arc(c+J.cx,h+J.cy,ae,It(J.y0,J.x0),It(J.y1,J.x1),!f),n.arc(c,h,r,It(J.cy+J.y1,J.cx+J.x1),It(fe.cy+fe.y1,fe.cx+fe.x1),!f),xe>0&&n.arc(c+fe.cx,h+fe.cy,xe,It(fe.y1,fe.x1),It(fe.y0,fe.x0),!f))}else n.moveTo(c+O,h+R),n.arc(c,h,r,l,u,!f);else n.moveTo(c+O,h+R);i>En&&B?M>En?(ae=hr(g,M),J=Ic(k,N,A,I,i,-(xe=hr(m,M)),f),fe=Ic(O,R,P,L,i,-ae,f),n.lineTo(c+J.cx+J.x0,h+J.cy+J.y0),M<T&&ae===xe?n.arc(c+J.cx,h+J.cy,M,It(J.y0,J.x0),It(fe.y0,fe.x0),!f):(xe>0&&n.arc(c+J.cx,h+J.cy,xe,It(J.y0,J.x0),It(J.y1,J.x1),!f),n.arc(c,h,i,It(J.cy+J.y1,J.cx+J.x1),It(fe.cy+fe.y1,fe.cx+fe.x1),f),ae>0&&n.arc(c+fe.cx,h+fe.cy,ae,It(fe.y1,fe.x1),It(fe.y0,fe.x0),!f))):(n.lineTo(c+k,h+N),n.arc(c,h,i,u,l,f)):n.lineTo(c+k,h+N)}else n.moveTo(c,h);n.closePath()}}}(e,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(be);Yx.prototype.type="sector";const Ut=Yx;var Xk=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Zx=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultShape=function(){return new Xk},t.prototype.buildPath=function(e,r){var i=r.cx,a=r.cy,o=2*Math.PI;e.moveTo(i+r.r,a),e.arc(i,a,r.r,0,o,!1),e.moveTo(i+r.r0,a),e.arc(i,a,r.r0,0,o,!0)},t}(be);Zx.prototype.type="ring";const Pc=Zx;function Ux(n,t,e){var r=t.smooth,i=t.points;if(i&&i.length>=2){if(r){var a=function(n,t,e,r){var l,u,c,h,i=[],a=[],o=[],s=[];if(r){c=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,v=n.length;f<v;f++)Xr(c,c,n[f]),Qr(h,h,n[f]);Xr(c,c,r[0]),Qr(h,h,r[1])}for(f=0,v=n.length;f<v;f++){var p=n[f];if(e)l=n[f?f-1:v-1],u=n[(f+1)%v];else{if(0===f||f===v-1){i.push(wr(n[f]));continue}l=n[f-1],u=n[f+1]}Ni(a,u,l),bu(a,a,t);var g=Ef(p,l),m=Ef(p,u),y=g+m;0!==y&&(g/=y,m/=y),bu(o,a,-g),bu(s,a,m);var _=M0([],p,o),S=M0([],p,s);r&&(Qr(_,_,c),Xr(_,_,h),Qr(S,S,c),Xr(S,S,h)),i.push(_),i.push(S)}return e&&i.push(i.shift()),i}(i,r,e,t.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(e?o:o-1);s++){var l=a[2*s],u=a[2*s+1],c=i[(s+1)%o];n.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{n.moveTo(i[0][0],i[0][1]),s=1;for(var h=i.length;s<h;s++)n.lineTo(i[s][0],i[s][1])}e&&n.closePath()}}var Jk=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},$x=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultShape=function(){return new Jk},t.prototype.buildPath=function(e,r){Ux(e,r,!0)},t}(be);$x.prototype.type="polygon";const $t=$x;var qk=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Xx=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new qk},t.prototype.buildPath=function(e,r){Ux(e,r,!1)},t}(be);Xx.prototype.type="polyline";const Xt=Xx;var jk={},Kk=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Qx=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Kk},t.prototype.buildPath=function(e,r){var i,a,o,s;if(this.subPixelOptimize){var l=fS(jk,r,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=r.x1,a=r.y1,o=r.x2,s=r.y2;var u=r.percent;0!==u&&(e.moveTo(i,a),u<1&&(o=i*(1-u)+o*u,s=a*(1-u)+s*u),e.lineTo(o,s))},t.prototype.pointAt=function(e){var r=this.shape;return[r.x1*(1-e)+r.x2*e,r.y1*(1-e)+r.y2*e]},t}(be);Qx.prototype.type="line";const yt=Qx;var Qt=[],eE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function Jx(n,t,e){return null!=n.cpx2||null!=n.cpy2?[(e?Q0:ct)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?Q0:ct)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?Kf:mt)(n.x1,n.cpx1,n.x2,t),(e?Kf:mt)(n.y1,n.cpy1,n.y2,t)]}var qx=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new eE},t.prototype.buildPath=function(e,r){var i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,h=r.cpy2,f=r.percent;0!==f&&(e.moveTo(i,a),null==c||null==h?(f<1&&(bs(i,l,o,f,Qt),l=Qt[1],o=Qt[2],bs(a,u,s,f,Qt),u=Qt[1],s=Qt[2]),e.quadraticCurveTo(l,u,o,s)):(f<1&&(jr(i,l,c,o,f,Qt),l=Qt[1],c=Qt[2],o=Qt[3],jr(a,u,h,s,f,Qt),u=Qt[1],h=Qt[2],s=Qt[3]),e.bezierCurveTo(l,u,c,h,o,s)))},t.prototype.pointAt=function(e){return Jx(this.shape,e,!1)},t.prototype.tangentAt=function(e){var r=Jx(this.shape,e,!0);return ro(r,r)},t}(be);qx.prototype.type="bezier-curve";const Lc=qx;var tE=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},jx=function(n){function t(e){return n.call(this,e)||this}return Ze(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new tE},t.prototype.buildPath=function(e,r){var i=r.cx,a=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),h=Math.sin(s);e.moveTo(c*o+i,h*o+a),e.arc(i,a,o,s,l,!u)},t}(be);jx.prototype.type="arc";const ed=jx;var nE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return Ze(t,n),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,r=this.shapeChanged(),i=0;i<e.length;i++)r=r||e[i].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(r[0],r[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(e,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],r=0;r<e.length;r++)e[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),be.prototype.getBoundingRect.call(this)},t}(be);const td=nE;var rE=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}();const Kx=rE;var iE=function(n){function t(e,r,i,a,o,s){var l=n.call(this,o)||this;return l.x=null==e?0:e,l.y=null==r?0:r,l.x2=null==i?1:i,l.y2=null==a?0:a,l.type="linear",l.global=s||!1,l}return Ze(t,n),t}(Kx);const ol=iE;var aE=function(n){function t(e,r,i,a,o){var s=n.call(this,a)||this;return s.x=null==e?.5:e,s.y=null==r?.5:r,s.r=null==i?.5:i,s.type="radial",s.global=o||!1,s}return Ze(t,n),t}(Kx);const eb=aE;var ga=[0,0],ma=[0,0],Oc=new ge,Rc=new ge,oE=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new ge;for(r=0;r<2;r++)this._axes[r]=new ge;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var r=this._corners,i=this._axes,a=t.x,o=t.y,s=a+t.width,l=o+t.height;if(r[0].set(a,o),r[1].set(s,o),r[2].set(s,l),r[3].set(a,l),e)for(var u=0;u<4;u++)r[u].transform(e);for(ge.sub(i[0],r[1],r[0]),ge.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize(),u=0;u<2;u++)this._origin[u]=i[u].dot(r[0])},n.prototype.intersect=function(t,e){var r=!0,i=!e;return Oc.set(1/0,1/0),Rc.set(0,0),!this._intersectCheckOneSide(this,t,Oc,Rc,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(t,this,Oc,Rc,i,-1)&&(r=!1,i)||i||ge.copy(e,r?Oc:Rc),r},n.prototype._intersectCheckOneSide=function(t,e,r,i,a,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,ga),this._getProjMinMaxOnAxis(l,e._corners,ma),ga[1]<ma[0]||ga[0]>ma[1]){if(s=!1,a)return s;var c=Math.abs(ma[0]-ga[1]),h=Math.abs(ga[0]-ma[1]);Math.min(c,h)>i.len()&&ge.scale(i,u,c<h?-c*o:h*o)}else r&&(c=Math.abs(ma[0]-ga[1]),h=Math.abs(ga[0]-ma[1]),Math.min(c,h)<r.len()&&ge.scale(r,u,c<h?c*o:-h*o))}return s},n.prototype._getProjMinMaxOnAxis=function(t,e,r){for(var i=this._axes[t],a=this._origin,o=e[0].dot(i)+a[t],s=o,l=o,u=1;u<e.length;u++){var c=e[u].dot(i)+a[t];s=Math.min(c,s),l=Math.max(c,l)}r[0]=s,r[1]=l},n}();const Nc=oE;var sE=[],lE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Ze(t,n),t.prototype.traverse=function(e,r){e.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,r){r?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,r){r=r||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var r=this._cursor;r<this._displayables.length;r++)e&&e(this._displayables[r]);for(r=0;r<this._temporaryDisplayables.length;r++)e&&e(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(r=this._displayables[e]).parent=this,r.update(),r.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var r;(r=this._temporaryDisplayables[e]).parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new me(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(sE)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r);if(this.getBoundingRect().contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(e,r))return!0;return!1},t}(dn);const uE=lE;var kc=Math.max,Ec=Math.min,nd={};function cE(n){return be.extend(n)}function fE(n,t){return function(n,t){var e=Bx(n,t);return function(i){function a(o){var s=i.call(this,o)||this;return s.applyTransform=e.applyTransform,s.buildPath=e.buildPath,s}return Ze(a,i),a}(kx)}(n,t)}function Bn(n,t){nd[n]=t}function rd(n){if(nd.hasOwnProperty(n))return nd[n]}function Bc(n,t,e,r){var i=Vx(n,t);return e&&("center"===r&&(e=nb(e,i.getBoundingRect())),rb(i,e)),i}function tb(n,t,e){var r=new St({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){"center"===e&&r.setStyle(nb(t,{width:i.width,height:i.height}))}});return r}function nb(n,t){var i,e=t.width/t.height,r=n.height*e;return i=r<=n.width?n.height:(r=n.width)/e,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-i/2,width:r,height:i}}var xn=function(n,t){for(var e=[],r=n.length,i=0;i<r;i++)e.push(n[i].getUpdatedPathProxy(!0));var o=new be(t);return o.createPathProxy(),o.buildPath=function(s){if(Ex(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},o};function rb(n,t){if(n.applyTransform){var r=n.getBoundingRect().calculateTransform(t);n.applyTransform(r)}}function ko(n,t){return fS(n,n,{lineWidth:t}),n}function vE(n){return vS(n.shape,n.shape,n.style),n}var Vc=ra;function ya(n,t){for(var e=Cu([]);n&&n!==t;)Tr(e,n.getLocalTransform(),e),n=n.parent;return e}function Vn(n,t,e){return t&&!zt(t)&&(t=Dr.getLocalTransform(t)),e&&(t=ao([],t)),_t([],n,t)}function Fc(n,t,e){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===n?-r:"right"===n?r:0,"top"===n?-i:"bottom"===n?i:0];return a=Vn(a,t,e),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function ib(n){return!n.isGroup}function sl(n,t,e){if(n&&t){var s,a=(s={},n.traverse(function(l){ib(l)&&l.anid&&(s[l.anid]=l)}),s);t.traverse(function(o){if(ib(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),Ie(o,l,e,ce(o).dataIndex)}}})}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return function(n){return null!=n.shape}(o)&&(s.shape=V({},o.shape)),s}}function ab(n,t){return G(n,function(e){var r=e[0];r=kc(r,t.x),r=Ec(r,t.x+t.width);var i=e[1];return i=kc(i,t.y),[r,i=Ec(i,t.y+t.height)]})}function dE(n,t){var e=kc(n.x,t.x),r=Ec(n.x+n.width,t.x+t.width),i=kc(n.y,t.y),a=Ec(n.y+n.height,t.y+t.height);if(r>=e&&a>=i)return{x:e,y:i,width:r-e,height:a-i}}function ll(n,t,e){var r=V({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(i.image=n.slice(8),re(i,e),new St(r)):Bc(n.replace("path://",""),r,e,"center")}function ul(n,t,e,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(ob(n,t,e,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function ob(n,t,e,r,i,a,o,s){var l=e-n,u=r-t,c=o-i,h=s-a,f=id(c,h,l,u);if(function(n){return n<=1e-6&&n>=-1e-6}(f))return!1;var v=n-i,p=t-a,g=id(v,p,l,u)/f;if(g<0||g>1)return!1;var m=id(v,p,c,h)/f;return!(m<0||m>1)}function id(n,t,e,r){return n*r-e*t}function _a(n){var t=n.itemTooltipOption,e=n.componentModel,r=n.itemName,i=U(t)?{formatter:t}:t,a=e.mainType,o=e.componentIndex,s={componentType:a,name:r,$vars:["name"]};s[a+"Index"]=o;var l=n.formatterParamsExtra;l&&D(we(l),function(c){X(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=ce(n.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:r,option:re({content:r,encodeHTMLContent:!0,formatterParams:s},i)}}function sb(n,t){var e;n.isGroup&&(e=t(n)),e||n.traverse(t)}function fi(n,t){if(n)if(F(n))for(var e=0;e<n.length;e++)sb(n[e],t);else sb(n,t)}Bn("circle",hi),Bn("ellipse",jp),Bn("sector",Ut),Bn("ring",Pc),Bn("polygon",$t),Bn("polyline",Xt),Bn("rect",Te),Bn("line",yt),Bn("bezierCurve",Lc),Bn("arc",ed);var lb=Ce(),mE=Oo(),ad=function(){function n(){this.group=new ue,this.uid=xo("viewChart"),this.renderTask=nl({plan:yE,reset:_E}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,r,i){},n.prototype.highlight=function(t,e,r,i){var a=t.getData(i&&i.dataType);!a||cb(a,i,"emphasis")},n.prototype.downplay=function(t,e,r,i){var a=t.getData(i&&i.dataType);!a||cb(a,i,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.updateLayout=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.updateVisual=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.eachRendered=function(t){fi(this.group,t)},n.markUpdateMethod=function(t,e){lb(t).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function ub(n,t,e){n&&Zs(n)&&("emphasis"===t?Lr:Or)(n,e)}function cb(n,t,e){var r=$i(n,t),i=t&&null!=t.highlightKey?function(n){var t=MS[n];return null==t&&DS<=32&&(t=MS[n]=DS++),t}(t.highlightKey):null;null!=r?D(ke(r),function(a){ub(n.getItemGraphicEl(a),e,i)}):n.eachItemGraphicEl(function(a){ub(a,e,i)})}function yE(n){return mE(n.model)}function _E(n){var t=n.model,e=n.ecModel,r=n.api,i=n.payload,a=t.pipelineContext.progressiveRender,o=n.view,s=i&&lb(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](t,e,r,i),SE[l]}Ev(ad),Xu(ad);var SE={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const He=ad;var Gc="\0__throttleOriginMethod",hb="\0__throttleRate",fb="\0__throttleType";function od(n,t,e){var r,s,l,u,c,i=0,a=0,o=null;function h(){a=(new Date).getTime(),o=null,n.apply(l,u||[])}t=t||0;var f=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];r=(new Date).getTime(),l=this,u=v;var g=c||t,m=c||e;c=null,s=r-(m?i:a)-g,clearTimeout(o),m?o=setTimeout(h,g):s>=0?h():o=setTimeout(h,-s),i=r};return f.clear=function(){o&&(clearTimeout(o),o=null)},f.debounceNextCall=function(v){c=v},f}function Eo(n,t,e,r){var i=n[t];if(i){var a=i[Gc]||i;if(i[hb]!==e||i[fb]!==r){if(null==e||!r)return n[t]=a;(i=n[t]=od(a,e,"debounce"===r))[Gc]=a,i[fb]=r,i[hb]=e}return i}}function cl(n,t){var e=n[t];e&&e[Gc]&&(e.clear&&e.clear(),n[t]=e[Gc])}var vb=Ce(),pb={itemStyle:Qi(e1,!0),lineStyle:Qi(KS,!0)},xE={lineStyle:"stroke",itemStyle:"fill"};function db(n,t){return n.visualStyleMapper||pb[t]||(console.warn("Unknown style type '"+t+"'."),pb.itemStyle)}function gb(n,t){return n.visualDrawType||xE[t]||(console.warn("Unknown style type '"+t+"'."),"fill")}var bE={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),o=db(n,r)(i),s=i.getShallow("decal");s&&(e.setVisual("decal",s),s.dirty=!0);var l=gb(n,r),u=o[l],c=ee(u)?u:null;if(!o[l]||c||"auto"===o.fill||"auto"===o.stroke){var f=n.getColorFromPalette(n.name,null,t.getSeriesCount());o[l]||(o[l]=f,e.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||ee(o.fill)?f:o.fill,o.stroke="auto"===o.stroke||ee(o.stroke)?f:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",l),!t.isSeriesFiltered(n)&&c)return e.setVisual("colorFromPalette",!1),{dataEach:function(v,p){var g=n.getDataParams(p),m=V({},o);m[l]=c(g),v.setItemVisual(p,"style",m)}}}},hl=new Ge,wE={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.ignoreStyleOnData&&!t.isSeriesFiltered(n)){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=db(n,r),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){hl.option=l[r];var u=i(hl);V(o.ensureUniqueItemVisual(s,"style"),u),hl.option.decal&&(o.setItemVisual(s,"decal",hl.option.decal),hl.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},CE={performRawSeries:!0,overallReset:function(n){var t=Q();n.eachSeries(function(e){var r=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+r,a=t.get(i);a||t.set(i,a={}),vb(e).scope=a}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var r=e.getRawData(),i={},a=e.getData(),o=vb(e).scope,l=gb(e,e.visualStyleAccessPath||"itemStyle");a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),r.each(function(u){var c=i[u];if(a.getItemVisual(c,"colorFromPalette")){var f=a.ensureUniqueItemVisual(c,"style"),v=r.getName(u)||u+"",p=r.count();f[l]=e.getColorFromPalette(v,o,p)}})}})}},Hc=Math.PI,zE=function(){function n(t,e,r,i){this._stageTaskMap=Q(),this.ecInstance=t,this.api=e,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),i=r.context,o=!e&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex?r.step:null,s=i&&i.modDataCount;return{step:o,modBy:null!=s?Math.ceil(s/o):null,modDataCount:s}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var r=this._pipelineMap.get(t.uid),a=t.getData().count(),o=r.progressiveEnabled&&e.incrementalPrepareRender&&a>=r.threshold,s=t.get("large")&&a>=t.get("largeThreshold"),l="mod"===t.get("progressiveChunkMode")?a:null;t.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},n.prototype.restorePipelines=function(t){var e=this,r=e._pipelineMap=Q();t.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;r.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),r=this.api;D(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{});Rt(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,a,e,r),i.overallReset&&this._createOverallStageTask(i,a,e,r)},this)},n.prototype.prepareView=function(t,e,r,i){var a=t.renderTask,o=a.context;o.model=e,o.ecModel=r,o.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,r){this._performStageTasks(this._visualHandlers,t,e,r)},n.prototype._performStageTasks=function(t,e,r,i){i=i||{};var a=!1,o=this;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}D(t,function(l,u){if(!i.visualType||i.visualType===l.visualType){var c=o._stageTaskMap.get(l.uid),h=c.seriesTaskMap,f=c.overallTask;if(f){var v,p=f.agentStubMap;p.each(function(m){s(i,m)&&(m.dirty(),v=!0)}),v&&f.dirty(),o.updatePayload(f,r);var g=o.getPerformArgs(f,i.block);p.each(function(m){m.perform(g)}),f.perform(g)&&(a=!0)}else h&&h.each(function(m,y){s(i,m)&&m.dirty();var _=o.getPerformArgs(m,i.block);_.skip=!l.performRawSeries&&e.isSeriesFiltered(m.context.model),o.updatePayload(m,r),m.perform(_)&&(a=!0)})}}),this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(r){e=r.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,r,i){var a=this,o=e.seriesTaskMap,s=e.seriesTaskMap=Q(),l=t.seriesType,u=t.getTargetSeries;function c(h){var f=h.uid,v=s.set(f,o&&o.get(f)||nl({plan:PE,reset:LE,count:RE}));v.context={model:h,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(h,v)}t.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,i).each(c)},n.prototype._createOverallStageTask=function(t,e,r,i){var a=this,o=e.overallTask=e.overallTask||nl({reset:DE});o.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=Q(),u=t.seriesType,c=t.getTargetSeries,h=!0,f=!1;function p(g){var m=g.uid,y=l.set(m,s&&s.get(m)||(f=!0,nl({reset:ME,onDirty:IE})));y.context={model:g,overallProgress:h},y.agent=o,y.__block=h,a._pipe(g,y)}Rt(!t.createOnAllSeries,""),u?r.eachRawSeriesByType(u,p):c?c(r,i).each(p):(h=!1,D(r.getSeries(),p)),f&&o.dirty()},n.prototype._pipe=function(t,e){var i=this._pipelineMap.get(t.uid);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},n.wrapStageHandler=function(t,e){return ee(t)&&(t={overallReset:t,seriesType:NE(t)}),t.uid=xo("stageHandler"),e&&(t.visualType=e),t},n}();function DE(n){n.overallReset(n.ecModel,n.api,n.payload)}function ME(n){return n.overallProgress&&AE}function AE(){this.agent.dirty(),this.getDownstream().dirty()}function IE(){this.agent&&this.agent.dirty()}function PE(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function LE(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=ke(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?G(t,function(e,r){return mb(r)}):OE}var OE=mb(0);function mb(n){return function(t,e){var r=e.data,i=e.resetDefines[n];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(t,r)}}function RE(n){return n.data.count()}function NE(n){Wc=null;try{n(fl,yb)}catch(t){}return Wc}var Wc,fl={},yb={};function _b(n,t){for(var e in t.prototype)n[e]=tt}_b(fl,E1),_b(yb,B1),fl.eachSeriesByType=fl.eachRawSeriesByType=function(n){Wc=n},fl.eachComponent=function(n){"series"===n.mainType&&n.subType&&(Wc=n.subType)};const Sb=zE;var xb=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const kE={color:xb,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],xb]};var Pt="#B9B8CE",bb="#100C2A",Yc=function(){return{axisLine:{lineStyle:{color:Pt}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},wb=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Cb={darkMode:!0,color:wb,backgroundColor:bb,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Pt},pageTextStyle:{color:Pt}},textStyle:{color:Pt},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Pt}},dataZoom:{borderColor:"#71708A",textStyle:{color:Pt},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Pt}},timeline:{lineStyle:{color:Pt},label:{color:Pt},controlStyle:{color:Pt,borderColor:Pt}},calendar:{itemStyle:{color:bb},dayLabel:{color:Pt},monthLabel:{color:Pt},yearLabel:{color:Pt}},timeAxis:Yc(),logAxis:Yc(),valueAxis:Yc(),categoryAxis:Yc(),line:{symbol:"circle"},graph:{color:wb},gauge:{title:{color:Pt},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Pt},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Cb.categoryAxis.splitLine.show=!1;const EE=Cb;var BE=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},r={},i={};if(U(t)){var a=ir(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};D(t,function(l,u){for(var c=!1,h=0;h<o.length;h++){var f=o[h],v=u.lastIndexOf(f);if(v>0&&v===u.length-f.length){var p=u.slice(0,v);"data"!==p&&(e.mainType=p,e[f.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:e,dataQuery:r,otherQuery:i}},n.prototype.filter=function(t,e){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,i,a));function c(h,f,v,p){return null==h[v]||f[p||v]===h[v]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),sd=["symbol","symbolSize","symbolRotate","symbolOffset"],Tb=sd.concat(["symbolKeepAspect"]),VE={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var r={},i={},a=!1,o=0;o<sd.length;o++){var s=sd[o],l=n.get(s);ee(l)?(a=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||n.defaultSymbol,e.setVisual(V({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),!t.isSeriesFiltered(n)){var u=we(i);return{dataEach:a?function(h,f){for(var v=n.getRawValue(f),p=n.getDataParams(f),g=0;g<u.length;g++){var m=u[g];h.setItemVisual(f,m,i[m](v,p))}}:null}}}}},FE={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(n.hasSymbolVisual&&!t.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(i,a){for(var o=i.getItemModel(a),s=0;s<Tb.length;s++){var l=Tb[s],u=o.getShallow(l,!0);null!=u&&i.setItemVisual(a,l,u)}}:null}}};function ld(n,t,e){switch(e){case"color":return n.getItemVisual(t,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e)}}function vl(n,t){switch(t){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function zb(n,t,e,r){switch(e){case"color":n.ensureUniqueItemVisual(t,"style")[n.getVisual("drawType")]=r,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,r)}}function Db(n,t){function e(r,i){var a=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(o){a.push(o.seriesIndex)}),a}D([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){t(r[0],function(i,a,o){i=V({},i),o.dispatchAction(V(i,{type:r[1],seriesIndex:e(a,i)}))})})}function Bo(n,t,e,r,i){var a=n+t;e.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var h=o.getData(),f=$i(h,i.fromActionPayload);e.trigger(a,{type:a,seriesId:o.id,name:F(f)?h.getName(f[0]):h.getName(f),selected:U(l)?l:V({},l)})}})}function Sa(n,t,e){for(var r;n&&(!t(n)||(r=n,!e));)n=n.__hostTarget||n.parent;return r}var HE=Math.round(9*Math.random()),WE="function"==typeof Object.defineProperty,YE=function(){function n(){this._id="__ec_inner_"+HE++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var r=this._guard(t);return WE?Object.defineProperty(r,this._id,{value:e,enumerable:!1,configurable:!0}):r[this._id]=e,this},n.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}();const ZE=YE;var UE=be.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,r=t.cy,i=t.width/2,a=t.height/2;n.moveTo(e,r-a),n.lineTo(e+i,r+a),n.lineTo(e-i,r+a),n.closePath()}}),$E=be.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,r=t.cy,i=t.width/2,a=t.height/2;n.moveTo(e,r-a),n.lineTo(e+i,r),n.lineTo(e,r+a),n.lineTo(e-i,r),n.closePath()}}),XE=be.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,r=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,s=o*o/(a-o),l=r-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,h=Math.sin(u),f=Math.cos(u),v=.6*o,p=.7*o;n.moveTo(e-c,l+s),n.arc(e,l,o,Math.PI-u,2*Math.PI+u),n.bezierCurveTo(e+c-h*v,l+s+f*v,e,r-p,e,r),n.bezierCurveTo(e,r-p,e-c+h*v,l+s+f*v,e-c,l+s),n.closePath()}}),QE=be.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,i=t.x,a=t.y,o=t.width/3*2;n.moveTo(i,a),n.lineTo(i+o,a+e),n.lineTo(i,a+e/4*3),n.lineTo(i-o,a+e),n.lineTo(i,a),n.closePath()}}),qE={line:function(n,t,e,r,i){i.x1=n,i.y1=t+r/2,i.x2=n+e,i.y2=t+r/2},rect:function(n,t,e,r,i){i.x=n,i.y=t,i.width=e,i.height=r},roundRect:function(n,t,e,r,i){i.x=n,i.y=t,i.width=e,i.height=r,i.r=Math.min(e,r)/4},square:function(n,t,e,r,i){var a=Math.min(e,r);i.x=n,i.y=t,i.width=a,i.height=a},circle:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.r=Math.min(e,r)/2},diamond:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.width=e,i.height=r},pin:function(n,t,e,r,i){i.x=n+e/2,i.y=t+r/2,i.width=e,i.height=r},arrow:function(n,t,e,r,i){i.x=n+e/2,i.y=t+r/2,i.width=e,i.height=r},triangle:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.width=e,i.height=r}},Zc={};D({line:yt,rect:Te,roundRect:Te,square:Te,circle:hi,diamond:$E,pin:XE,arrow:QE,triangle:UE},function(n,t){Zc[t]=new n});var jE=be.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var r=Uu(n,t,e),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.position&&(r.y=e.y+.4*e.height),r},buildPath:function(n,t,e){var r=t.symbolType;if("none"!==r){var i=Zc[r];i||(i=Zc[r="rect"]),qE[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(n,i.shape,e)}}});function KE(n,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function ot(n,t,e,r,i,a,o){var l,s=0===n.indexOf("empty");return s&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=0===n.indexOf("image://")?tb(n.slice(8),new me(t,e,r,i),o?"center":"cover"):0===n.indexOf("path://")?Bc(n.slice(7),{},new me(t,e,r,i),o?"center":"cover"):new jE({shape:{symbolType:n,x:t,y:e,width:r,height:i}})).__isEmptyBrush=s,l.setColor=KE,a&&l.setColor(a),l}function Vo(n){return F(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function xa(n,t){if(null!=n)return F(n)||(n=[n,n]),[Y(n[0],t[0])||0,Y(ve(n[1],n[0]),t[1])||0]}function ba(n){return isFinite(n)}function ud(n,t,e){for(var r="radial"===t.type?function(n,t,e){var r=e.width,i=e.height,a=Math.min(r,i),o=null==t.x?.5:t.x,s=null==t.y?.5:t.y,l=null==t.r?.5:t.r;return t.global||(o=o*r+e.x,s=s*i+e.y,l*=a),o=ba(o)?o:.5,s=ba(s)?s:.5,l=l>=0&&ba(l)?l:.5,n.createRadialGradient(o,s,0,o,s,l)}(n,t,e):function(n,t,e){var r=null==t.x?0:t.x,i=null==t.x2?1:t.x2,a=null==t.y?0:t.y,o=null==t.y2?0:t.y2;return t.global||(r=r*e.width+e.x,i=i*e.width+e.x,a=a*e.height+e.y,o=o*e.height+e.y),r=ba(r)?r:0,i=ba(i)?i:1,a=ba(a)?a:0,o=ba(o)?o:0,n.createLinearGradient(r,a,i,o)}(n,t,e),i=t.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function Uc(n){return parseInt(n,10)}function Fo(n,t,e){var r=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var s=document.defaultView.getComputedStyle(n);return(n[i]||Uc(s[r])||Uc(n.style[r]))-(Uc(s[a])||0)-(Uc(s[o])||0)|0}function cd(n){var t=n.style,e=t.lineDash&&t.lineWidth>0&&function(n,t){return n&&"solid"!==n&&t>0?"dashed"===n?[4*t,2*t]:"dotted"===n?[t]:De(n)?[n]:F(n)?n:null:null}(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(e){var i=t.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&1!==i&&(e=G(e,function(a){return a/i}),r/=i)}return[e,r]}var iB=new lr(!0);function $c(n){var t=n.stroke;return!(null==t||"none"===t||!(n.lineWidth>0))}function Mb(n){return"string"==typeof n&&"none"!==n}function Xc(n){var t=n.fill;return null!=t&&"none"!==t}function Ab(n,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function Ib(n,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function hd(n,t,e){var r=Vv(t.image,t.__image,e);if(Qu(r)){var i=n.createPattern(r,t.repeat||"repeat");if("function"==typeof DOMMatrix&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*Su),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}var Pb=["shadowBlur","shadowOffsetX","shadowOffsetY"],Lb=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Ob(n,t,e,r,i){var a=!1;if(!r&&t===(e=e||{}))return!1;if(r||t.opacity!==e.opacity){Jt(n,i),a=!0;var o=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(o)?Ji.opacity:o}(r||t.blend!==e.blend)&&(a||(Jt(n,i),a=!0),n.globalCompositeOperation=t.blend||Ji.blend);for(var s=0;s<Pb.length;s++){var l=Pb[s];(r||t[l]!==e[l])&&(a||(Jt(n,i),a=!0),n[l]=n.dpr*(t[l]||0))}return(r||t.shadowColor!==e.shadowColor)&&(a||(Jt(n,i),a=!0),n.shadowColor=t.shadowColor||Ji.shadowColor),a}function Rb(n,t,e,r,i){var a=pl(t,i.inHover),o=r?null:e&&pl(e,i.inHover)||{};if(a===o)return!1;var s=Ob(n,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(Jt(n,i),s=!0),Mb(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(s||(Jt(n,i),s=!0),Mb(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(s||(Jt(n,i),s=!0),n.globalAlpha=null==a.opacity?1:a.opacity),t.hasStroke()){var u=a.lineWidth/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==u&&(s||(Jt(n,i),s=!0),n.lineWidth=u)}for(var c=0;c<Lb.length;c++){var h=Lb[c],f=h[0];(r||a[f]!==o[f])&&(s||(Jt(n,i),s=!0),n[f]=a[f]||h[1])}return s}function Nb(n,t){var e=t.transform,r=n.dpr||1;e?n.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):n.setTransform(r,0,0,r,0,0)}function Jt(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function pl(n,t){return t&&n.__hoverStyle||n.style}function Fb(n,t){wa(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function wa(n,t,e,r){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var a=t.__clipPaths,o=e.prevElClipPaths,s=!1,l=!1;if((!o||function(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!0;return!1}(a,o))&&(o&&o.length&&(Jt(n,e),n.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(Jt(n,e),n.save(),function(n,t,e){for(var r=!1,i=0;i<n.length;i++){var a=n[i];r=r||a.isZeroArea(),Nb(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=r}(a,n,e),s=!0),e.prevElClipPaths=a),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=s=!0);var c=t instanceof be&&t.autoBatch&&function(n){var t=Xc(n),e=$c(n);return!(n.lineDash||!(+t^+e)||t&&"string"!=typeof n.fill||e&&"string"!=typeof n.stroke||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}(t.style);s||function(n,t){return n&&t?n[0]!==t[0]||n[1]!==t[1]||n[2]!==t[2]||n[3]!==t[3]||n[4]!==t[4]||n[5]!==t[5]:!(!n&&!t)}(i,u.transform)?(Jt(n,e),Nb(n,t)):c||Jt(n,e);var h=pl(t,e.inHover);t instanceof be?(1!==e.lastDrawType&&(l=!0,e.lastDrawType=1),Rb(n,t,u,l,e),(!c||!e.batchFill&&!e.batchStroke)&&n.beginPath(),function(n,t,e,r){var i,a=$c(e),o=Xc(e),s=e.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||iB,h=t.__dirty;if(!r){var f=e.fill,v=e.stroke,p=o&&!!f.colorStops,g=a&&!!v.colorStops,m=o&&!!f.image,y=a&&!!v.image,_=void 0,S=void 0,x=void 0,b=void 0,w=void 0;(p||g)&&(w=t.getBoundingRect()),p&&(_=h?ud(n,f,w):t.__canvasFillGradient,t.__canvasFillGradient=_),g&&(S=h?ud(n,v,w):t.__canvasStrokeGradient,t.__canvasStrokeGradient=S),m&&(x=h||!t.__canvasFillPattern?hd(n,f,t):t.__canvasFillPattern,t.__canvasFillPattern=x),y&&(b=h||!t.__canvasStrokePattern?hd(n,v,t):t.__canvasStrokePattern,t.__canvasStrokePattern=x),p?n.fillStyle=_:m&&(x?n.fillStyle=x:o=!1),g?n.strokeStyle=S:y&&(b?n.strokeStyle=b:a=!1)}var T,z,C=t.getGlobalScale();c.setScale(C[0],C[1],t.segmentIgnoreThreshold),n.setLineDash&&e.lineDash&&(T=(i=cd(t))[0],z=i[1]);var M=!0;(u||4&h)&&(c.setDPR(n.dpr),l?c.setContext(null):(c.setContext(n),M=!1),c.reset(),t.buildPath(c,t.shape,r),c.toStatic(),t.pathUpdated()),M&&c.rebuildPath(n,l?s:1),T&&(n.setLineDash(T),n.lineDashOffset=z),r||(e.strokeFirst?(a&&Ib(n,e),o&&Ab(n,e)):(o&&Ab(n,e),a&&Ib(n,e))),T&&n.setLineDash([])}(n,t,h,c),c&&(e.batchFill=h.fill||"",e.batchStroke=h.stroke||"")):t instanceof Fs?(3!==e.lastDrawType&&(l=!0,e.lastDrawType=3),Rb(n,t,u,l,e),function(n,t,e){var r,i=e.text;if(null!=i&&(i+=""),i){n.font=e.font||Ur,n.textAlign=e.textAlign,n.textBaseline=e.textBaseline;var a=void 0,o=void 0;n.setLineDash&&e.lineDash&&(a=(r=cd(t))[0],o=r[1]),a&&(n.setLineDash(a),n.lineDashOffset=o),e.strokeFirst?($c(e)&&n.strokeText(i,e.x,e.y),Xc(e)&&n.fillText(i,e.x,e.y)):(Xc(e)&&n.fillText(i,e.x,e.y),$c(e)&&n.strokeText(i,e.x,e.y)),a&&n.setLineDash([])}}(n,t,h)):t instanceof St?(2!==e.lastDrawType&&(l=!0,e.lastDrawType=2),function(n,t,e,r,i){Ob(n,pl(t,i.inHover),e&&pl(e,i.inHover),r,i)}(n,t,u,l,e),function(n,t,e){var r=t.__image=Vv(e.image,t.__image,t,t.onload);if(r&&Qu(r)){var i=e.x||0,a=e.y||0,o=t.getWidth(),s=t.getHeight(),l=r.width/r.height;if(null==o&&null!=s?o=s*l:null==s&&null!=o?s=o/l:null==o&&null==s&&(o=r.width,s=r.height),e.sWidth&&e.sHeight)n.drawImage(r,u=e.sx||0,c=e.sy||0,e.sWidth,e.sHeight,i,a,o,s);else if(e.sx&&e.sy){var u,c;n.drawImage(r,u=e.sx,c=e.sy,o-u,s-c,i,a,o,s)}else n.drawImage(r,i,a,o,s)}}(n,t,h)):t.getTemporalDisplayables&&(4!==e.lastDrawType&&(l=!0,e.lastDrawType=4),function(n,t,e){var r=t.getDisplayables(),i=t.getTemporalDisplayables();n.save();var o,s,a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover};for(o=t.getCursor(),s=r.length;o<s;o++)(l=r[o]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),wa(n,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l;for(var u=0,c=i.length;u<c;u++){var l;(l=i[u]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),wa(n,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,n.restore()}(n,t,e)),c&&r&&Jt(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var fd=new ZE,Gb=new ws(100),Hb=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Go(n,t){if("none"===n)return null;var e=t.getDevicePixelRatio(),r=t.getZr(),i="svg"===r.painter.type;n.dirty&&fd.delete(n);var a=fd.get(n);if(a)return a;var o=re(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===o.backgroundColor&&(o.backgroundColor=null);var s={repeat:"repeat"};return function(u){for(var c=[e],h=!0,f=0;f<Hb.length;++f){var v=o[Hb[f]];if(null!=v&&!F(v)&&!U(v)&&!De(v)&&"boolean"!=typeof v){h=!1;break}c.push(v)}var p;if(h){p=c.join(",")+(i?"-svg":"");var g=Gb.get(p);g&&(i?u.svgElement=g:u.image=g)}var T,m=Yb(o.dashArrayX),y=function(n){if(!n||"object"==typeof n&&0===n.length)return[0,0];if(De(n)){var t=Math.ceil(n);return[t,t]}var e=G(n,function(r){return Math.ceil(r)});return n.length%2?e.concat(e):e}(o.dashArrayY),_=Wb(o.symbol),S=function(n){return G(n,function(t){return Zb(t)})}(m),x=Zb(y),b=!i&&In.createCanvas(),w=i&&{tag:"g",attrs:{},key:"dcl",children:[]},C=function(){for(var A=1,I=0,P=S.length;I<P;++I)A=F_(A,S[I]);var L=1;for(I=0,P=_.length;I<P;++I)L=F_(L,_[I].length);A*=L;var O=x*S.length*_.length;return{width:Math.max(1,Math.min(A,o.maxTileWidth)),height:Math.max(1,Math.min(O,o.maxTileHeight))}}();b&&(b.width=C.width*e,b.height=C.height*e,T=b.getContext("2d")),function(){T&&(T.clearRect(0,0,b.width,b.height),o.backgroundColor&&(T.fillStyle=o.backgroundColor,T.fillRect(0,0,b.width,b.height)));for(var A=0,I=0;I<y.length;++I)A+=y[I];if(!(A<=0))for(var P=-x,L=0,O=0,R=0;P<C.height;){if(L%2==0){for(var k=O/2%_.length,N=0,B=0,H=0;N<2*C.width;){var W=0;for(I=0;I<m[R].length;++I)W+=m[R][I];if(W<=0)break;if(B%2==0){var Z=.5*(1-o.symbolSize);ye(N+m[R][B]*Z,P+y[L]*Z,m[R][B]*o.symbolSize,y[L]*o.symbolSize,_[k][H/2%_[k].length])}N+=m[R][B],++H,++B===m[R].length&&(B=0)}++R===m.length&&(R=0)}P+=y[L],++O,++L===y.length&&(L=0)}function ye(ae,xe,J,fe,Ye){var Ne=i?1:e,Ve=ot(Ye,ae*Ne,xe*Ne,J*Ne,fe*Ne,o.color,o.symbolKeepAspect);if(i){var Qe=r.painter.renderOneToVNode(Ve);Qe&&w.children.push(Qe)}else Fb(T,Ve)}}(),h&&Gb.put(p,b||w),u.image=b,u.svgElement=w,u.svgWidth=C.width,u.svgHeight=C.height}(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/e,fd.set(n,s),n.dirty=!1,s}function Wb(n){if(!n||0===n.length)return[["rect"]];if(U(n))return[[n]];for(var t=!0,e=0;e<n.length;++e)if(!U(n[e])){t=!1;break}if(t)return Wb([n]);var r=[];for(e=0;e<n.length;++e)U(n[e])?r.push([n[e]]):r.push(n[e]);return r}function Yb(n){if(!n||0===n.length)return[[0,0]];if(De(n))return[[t=Math.ceil(n),t]];for(var e=!0,r=0;r<n.length;++r)if(!De(n[r])){e=!1;break}if(e)return Yb([n]);var i=[];for(r=0;r<n.length;++r)if(De(n[r])){var t=Math.ceil(n[r]);i.push([t,t])}else t=G(n[r],function(s){return Math.ceil(s)}),i.push(t.length%2==1?t.concat(t):t);return i}function Zb(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?2*t:t}const Fn=new cn;var Ub={},Lt="__flagInMainProcess",qt="__pendingUpdate",pd="__needsUpdateStatus",Jb=/^[a-zA-Z0-9_]+$/,dd="__connectUpdateStatus";function jb(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return ew(this,n,t)}}function Kb(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ew(this,n,t)}}function ew(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),cn.prototype[t].apply(n,e)}var tw=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t}(cn),nw=tw.prototype;nw.on=Kb("on"),nw.off=Kb("off");var Ho,gd,Jc,vi,md,yd,_d,dl,gl,rw,iw,Sd,aw,qc,ow,sw,bn,lw,jc=function(n){function t(e,r,i){var a=n.call(this,new BE)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},U(r)&&(r=uw[r]),a._dom=e,i.ssr&&(Pv=function(v){var p=ce(v),g=p.dataIndex;if(null!=g){var m=Q();return m.set("series_index",p.seriesIndex),m.set("data_index",g),p.ssrType&&m.set("ssr_type",p.ssrType),m}});var c=a._zr=M_(e,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:ve(i.useDirtyRect,!1),useCoarsePointer:ve(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=od($(c.flush,c),17),(r=se(r))&&Z1(r,!0),a._theme=r,a._locale=function(n){if(U(n)){var t=cc[n.toUpperCase()]||{};return"ZH"===n||"EN"===n?se(t):de(se(t),se(cc.EN),!1)}return de(se(n),se(cc.EN),!1)}(i.locale||t1),a._coordSysMgr=new js;var h=a._api=ow(a);function f(v,p){return v.__prio-p.__prio}return Du(eh,f),Du(bd,f),a._scheduler=new Sb(a,h,bd,eh),a._messageCenter=new tw,a._initEvents(),a.resize=$(a.resize,a),c.animation.on("frame",a._onframe,a),rw(c,a),iw(c,a),yu(a),a}return E(t,n),t.prototype._onframe=function(){if(!this._disposed){lw(this);var e=this._scheduler;if(this[qt]){var r=this[qt].silent;this[Lt]=!0;try{Ho(this),vi.update.call(this,null,this[qt].updateParams)}catch(l){throw this[Lt]=!1,this[qt]=null,l}this._zr.flush(),this[Lt]=!1,this[qt]=null,dl.call(this,r),gl.call(this,r)}else if(e.unfinished){var i=1,a=this._model,o=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),yd(this,a),e.performVisualTasks(a),qc(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,r,i){if(!this[Lt]){if(this._disposed)return;var a,o,s;if(oe(r)&&(i=r.lazyUpdate,a=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[Lt]=!0,!this._model||r){var l=new NN(this._api),u=this._theme,c=this._model=new E1;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:o},wd);var h={seriesTransition:s,optionChanged:!0};if(i)this[qt]={silent:a,updateParams:h},this[Lt]=!1,this.getZr().wakeUp();else{try{Ho(this),vi.update.call(this,null,h)}catch(f){throw this[qt]=null,this[Lt]=!1,f}this._ssr||this._zr.flush(),this[qt]=null,this[Lt]=!1,dl.call(this,a),gl.call(this,a)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ze.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},t.prototype.getSvgDataURL=function(){if(ze.svgSupported){var e=this._zr;return D(e.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var i=this._model,a=[],o=this;D((e=e||{}).excludeComponents,function(l){i.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return D(a,function(l){l.group.ignore=!1}),s}},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var r="svg"===e.type,i=this.group,a=Math.min,o=Math.max,s=1/0;if(th[i]){var l=s,u=s,c=-s,h=-s,f=[],v=e&&e.pixelRatio||this.getDevicePixelRatio();D(Ca,function(S,x){if(S.group===i){var b=r?S.getZr().painter.getSvgDom().innerHTML:S.renderToCanvas(se(e)),w=S.getDom().getBoundingClientRect();l=a(w.left,l),u=a(w.top,u),c=o(w.right,c),h=o(w.bottom,h),f.push({dom:b,left:w.left,top:w.top})}});var p=(c*=v)-(l*=v),g=(h*=v)-(u*=v),m=In.createCanvas(),y=M_(m,{renderer:r?"svg":"canvas"});if(y.resize({width:p,height:g}),r){var _="";return D(f,function(S){_+='<g transform="translate('+(S.left-l)+","+(S.top-u)+')">'+S.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=_,e.connectedBackgroundColor&&y.painter.setBackgroundColor(e.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}return e.connectedBackgroundColor&&y.add(new Te({shape:{x:0,y:0,width:p,height:g},style:{fill:e.connectedBackgroundColor}})),D(f,function(S){var x=new St({style:{x:S.left*v-l,y:S.top*v-u,image:S.dom}});y.add(x)}),y.refreshImmediately(),m.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,r){return md(this,"convertToPixel",e,r)},t.prototype.convertFromPixel=function(e,r){return md(this,"convertFromPixel",e,r)},t.prototype.containPixel=function(e,r){var a;if(!this._disposed)return D(ks(this._model,e),function(s,l){l.indexOf("Models")>=0&&D(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(r);else if("seriesModels"===l){var h=this._chartsMap[u.__viewId];h&&h.containPoint&&(a=a||h.containPoint(r,u))}},this)},this),!!a},t.prototype.getVisual=function(e,r){var a=ks(this._model,e,{defaultMainType:"series"}),s=a.seriesModel.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return null!=l?ld(s,l,r):vl(s,r)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;D(OB,function(r){var i=function(a){var l,o=e.getModel(),s=a.target;if("globalout"===r?l={}:s&&Sa(s,function(p){var g=ce(p);if(g&&null!=g.dataIndex){var m=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return l=m&&m.getDataParams(g.dataIndex,g.dataType,s)||{},!0}if(g.eventData)return l=V({},g.eventData),!0},!0),l){var c=l.componentType,h=l.componentIndex;("markLine"===c||"markPoint"===c||"markArea"===c)&&(c="series",h=l.seriesIndex);var f=c&&null!=h&&o.getComponent(c,h),v=f&&e["series"===f.mainType?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=r,e._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:f,view:v},e.trigger(r,l)}};i.zrEventfulCallAtLast=!0,e._zr.on(r,i,e)}),D(ml,function(r,i){e._messageCenter.on(i,function(a){this.trigger(i,a)},e)}),D(["selectchanged"],function(r){e._messageCenter.on(r,function(i){this.trigger(r,i)},e)}),function(n,t,e){n.on("selectchanged",function(r){var i=e.getModel();r.isFromClick?(Bo("map","selectchanged",t,i,r),Bo("pie","selectchanged",t,i,r)):"select"===r.fromAction?(Bo("map","selected",t,i,r),Bo("pie","selected",t,i,r)):"unselect"===r.fromAction&&(Bo("map","unselected",t,i,r),Bo("pie","unselected",t,i,r))})}(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&$_(this.getDom(),Td,"");var r=this,i=r._api,a=r._model;D(r._componentsViews,function(o){o.dispose(a,i)}),D(r._chartsViews,function(o){o.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete Ca[r.id]}},t.prototype.resize=function(e){if(!this[Lt]){if(this._disposed)return;this._zr.resize(e);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),r){var i=r.resetOption("media"),a=e&&e.silent;this[qt]&&(null==a&&(a=this[qt].silent),i=!0,this[qt]=null),this[Lt]=!0;try{i&&Ho(this),vi.update.call(this,{type:"resize",animation:V({duration:0},e&&e.animation)})}catch(o){throw this[Lt]=!1,o}this[Lt]=!1,dl.call(this,a),gl.call(this,a)}}},t.prototype.showLoading=function(e,r){if(!this._disposed&&(oe(e)&&(r=e,e=""),e=e||"default",this.hideLoading(),Cd[e])){var i=Cd[e](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var r=V({},e);return r.type=ml[e.type],r},t.prototype.dispatchAction=function(e,r){if(!this._disposed&&(oe(r)||(r={silent:!!r}),Kc[e.type]&&this._model)){if(this[Lt])return void this._pendingActions.push(e);var i=r.silent;_d.call(this,e,i);var a=r.flush;a?this._zr.flush():!1!==a&&ze.browser.weChat&&this._throttledZrFlush(),dl.call(this,i),gl.call(this,i)}},t.prototype.updateLabelLayout=function(){Fn.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(!this._disposed){var r=e.seriesIndex;this.getModel().getSeriesByIndex(r).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function i(h){for(var f=[],v=h.currentStates,p=0;p<v.length;p++){var g=v[p];"emphasis"===g||"blur"===g||"select"===g||f.push(g)}h.selected&&h.states.select&&f.push("select"),2===h.hoverState&&h.states.emphasis?f.push("emphasis"):1===h.hoverState&&h.states.blur&&f.push("blur"),h.useStates(f)}function s(h,f){if(!h.preventAutoZ){var v=h.get("z")||0,p=h.get("zlevel")||0;f.eachRendered(function(g){return l(g,v,p,-1/0),!0})}}function l(h,f,v,p){var g=h.getTextContent(),m=h.getTextGuideLine();if(h.isGroup)for(var _=h.childrenRef(),S=0;S<_.length;S++)p=Math.max(l(_[S],f,v,p),p);else h.z=f,h.zlevel=v,p=Math.max(h.z2,p);if(g&&(g.z=f,g.zlevel=v,isFinite(p)&&(g.z2=p+2)),m){var x=h.textGuideLineConfig;m.z=f,m.zlevel=v,isFinite(p)&&(m.z2=p+(x&&x.showAbove?1:-1))}return p}function u(h,f){f.eachRendered(function(v){if(!_o(v)){var p=v.getTextContent(),g=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function c(h,f){var v=h.getModel("stateAnimation"),p=h.isAnimationEnabled(),g=v.get("duration"),m=g>0?{duration:g,delay:v.get("delay"),easing:v.get("easing")}:null;f.eachRendered(function(y){if(y.states&&y.states.emphasis){if(_o(y))return;if(y instanceof be&&function(n){var t=AS(n);t.normalFill=n.style.fill,t.normalStroke=n.style.stroke;var e=n.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}(y),y.__dirty){var _=y.prevStates;_&&y.useStates(_)}if(p){y.stateTransition=m;var S=y.getTextContent(),x=y.getTextGuideLine();S&&(S.stateTransition=m),x&&(x.stateTransition=m)}y.__dirty&&i(y)}})}Ho=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),gd(h,!0),gd(h,!1),f.plan()},gd=function(h,f){for(var v=h._model,p=h._scheduler,g=f?h._componentsViews:h._chartsViews,m=f?h._componentsMap:h._chartsMap,y=h._zr,_=h._api,S=0;S<g.length;S++)g[S].__alive=!1;function x(w){var C=w.__requireNewView;w.__requireNewView=!1;var T="_ec_"+w.id+"_"+w.type,z=!C&&m[T];if(!z){var M=ir(w.type);(z=new(f?je.getClass(M.main,M.sub):He.getClass(M.sub))).init(v,_),m[T]=z,g.push(z),y.add(z.group)}w.__viewId=z.__id=T,z.__alive=!0,z.__model=w,z.group.__ecComponentInfo={mainType:w.mainType,index:w.componentIndex},!f&&p.prepareView(z,w,v,_)}for(f?v.eachComponent(function(w,C){"series"!==w&&x(C)}):v.eachSeries(x),S=0;S<g.length;){var b=g[S];b.__alive?S++:(!f&&b.renderTask.dispose(),y.remove(b.group),b.dispose(v,_),g.splice(S,1),m[b.__id]===b&&delete m[b.__id],b.__id=b.group.__ecComponentInfo=null)}},Jc=function(h,f,v,p,g){var m=h._model;if(m.setUpdatePayload(v),p){var y={};y[p+"Id"]=v[p+"Id"],y[p+"Index"]=v[p+"Index"],y[p+"Name"]=v[p+"Name"];var _={mainType:p,query:y};g&&(_.subType=g);var x,S=v.excludeSeriesId;null!=S&&(x=Q(),D(ke(S),function(w){var C=st(w,null);null!=C&&x.set(C,!0)})),m&&m.eachComponent(_,function(w){if(!x||null==x.get(w.id))if(WS(v))if(w instanceof $e)v.type===ia&&!v.notBlur&&!w.get(["emphasis","disabled"])&&function(n,t,e){var r=n.seriesIndex,i=n.getData(t.dataType);if(i){var a=$i(i,t);a=(F(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var u=ce(o);sp(r,u.focus,u.blurScope,e)}else{var c=n.get(["emphasis","focus"]),h=n.get(["emphasis","blurScope"]);null!=c&&sp(r,c,h,e)}}}(w,v,h._api);else{var T=up(w.mainType,w.componentIndex,v.name,h._api),M=T.dispatchers;v.type===ia&&T.focusSelf&&!v.notBlur&&lp(w.mainType,w.componentIndex,h._api),M&&D(M,function(A){v.type===ia?Lr(A):Or(A)})}else hp(v)&&w instanceof $e&&(function(n,t,e){if(hp(t)){var r=t.dataType,a=$i(n.getData(r),t);F(a)||(a=[a]),n[t.type===Ys?"toggleSelect":t.type===Ws?"select":"unselect"](a,r)}}(w,v),GS(w),bn(h))},h),m&&m.eachComponent(_,function(w){x&&null!=x.get(w.id)||b(h["series"===p?"_chartsMap":"_componentsMap"][w.__viewId])},h)}else D([].concat(h._componentsViews).concat(h._chartsViews),b);function b(w){w&&w.__alive&&w[f]&&w[f](w.__model,m,h._api,v)}},vi={prepareAndUpdate:function(h){Ho(this),vi.update.call(this,h,{optionChanged:null!=h.newOption})},update:function(h,f){var v=this._model,p=this._api,g=this._zr,m=this._coordSysMgr,y=this._scheduler;if(v){v.setUpdatePayload(h),y.restoreData(v,h),y.performSeriesTasks(v),m.create(v,p),y.performDataProcessorTasks(v,h),yd(this,v),m.update(v,p),e(v),y.performVisualTasks(v,h),Sd(this,v,p,h,f);var _=v.get("backgroundColor")||"transparent",S=v.get("darkMode");g.setBackgroundColor(_),null!=S&&"auto"!==S&&g.setDarkMode(S),Fn.trigger("afterupdate",v,p)}},updateTransform:function(h){var f=this,v=this._model,p=this._api;if(v){v.setUpdatePayload(h);var g=[];v.eachComponent(function(y,_){if("series"!==y){var S=f.getViewOfComponentModel(_);if(S&&S.__alive)if(S.updateTransform){var x=S.updateTransform(_,v,p,h);x&&x.update&&g.push(S)}else g.push(S)}});var m=Q();v.eachSeries(function(y){var _=f._chartsMap[y.__viewId];if(_.updateTransform){var S=_.updateTransform(y,v,p,h);S&&S.update&&m.set(y.uid,1)}else m.set(y.uid,1)}),e(v),this._scheduler.performVisualTasks(v,h,{setDirty:!0,dirtyMap:m}),qc(this,v,p,h,{},m),Fn.trigger("afterupdate",v,p)}},updateView:function(h){var f=this._model;!f||(f.setUpdatePayload(h),He.markUpdateMethod(h,"updateView"),e(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),Sd(this,f,this._api,h,{}),Fn.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,v=this._model;!v||(v.setUpdatePayload(h),v.eachSeries(function(p){p.getData().clearAllVisual()}),He.markUpdateMethod(h,"updateVisual"),e(v),this._scheduler.performVisualTasks(v,h,{visualType:"visual",setDirty:!0}),v.eachComponent(function(p,g){if("series"!==p){var m=f.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,v,f._api,h)}}),v.eachSeries(function(p){f._chartsMap[p.__viewId].updateVisual(p,v,f._api,h)}),Fn.trigger("afterupdate",v,this._api))},updateLayout:function(h){vi.update.call(this,h)}},md=function(h,f,v,p){if(!h._disposed)for(var y,g=h._model,m=h._coordSysMgr.getCoordinateSystems(),_=ks(g,v),S=0;S<m.length;S++){var x=m[S];if(x[f]&&null!=(y=x[f](g,_,p)))return y}},yd=function(h,f){var v=h._chartsMap,p=h._scheduler;f.eachSeries(function(g){p.updateStreamModes(g,v[g.__viewId])})},_d=function(h,f){var v=this,p=this.getModel(),g=h.type,m=h.escapeConnect,y=Kc[g],_=y.actionInfo,S=(_.update||"update").split(":"),x=S.pop(),b=null!=S[0]&&ir(S[0]);this[Lt]=!0;var w=[h],C=!1;h.batch&&(C=!0,w=G(h.batch,function(L){return(L=re(V({},L),h)).batch=null,L}));var z,T=[],M=hp(h),A=WS(h);if(A&&FS(this._api),D(w,function(L){if((z=(z=y.action(L,v._model,v._api))||V({},L)).type=_.event||z.type,T.push(z),A){var O=Nv(h),N=O.mainTypeSpecified?O.queryOptionMap.keys()[0]:"series";Jc(v,x,L,N),bn(v)}else M?(Jc(v,x,L,"series"),bn(v)):b&&Jc(v,x,L,b.main,b.sub)}),"none"!==x&&!A&&!M&&!b)try{this[qt]?(Ho(this),vi.update.call(this,h),this[qt]=null):vi[x].call(this,h)}catch(L){throw this[Lt]=!1,L}if(z=C?{type:_.event||g,escapeConnect:m,batch:T}:T[0],this[Lt]=!1,!f){var I=this._messageCenter;if(I.trigger(z.type,z),M){var P={type:"selectchanged",escapeConnect:m,selected:NR(p),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};I.trigger(P.type,P)}}},dl=function(h){for(var f=this._pendingActions;f.length;){var v=f.shift();_d.call(this,v,h)}},gl=function(h){!h&&this.trigger("updated")},rw=function(h,f){h.on("rendered",function(v){f.trigger("rendered",v),h.animation.isFinished()&&!f[qt]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},iw=function(h,f){h.on("mouseover",function(v){var g=Sa(v.target,Zs);g&&(function(n,t,e){var r=ce(n),i=up(r.componentMainType,r.componentIndex,r.componentHighDownName,e),a=i.dispatchers;a?(i.focusSelf&&lp(r.componentMainType,r.componentIndex,e),D(a,function(s){return RS(s,t)})):(sp(r.seriesIndex,r.focus,r.blurScope,e),"self"===r.focus&&lp(r.componentMainType,r.componentIndex,e),RS(n,t))}(g,v,f._api),bn(f))}).on("mouseout",function(v){var g=Sa(v.target,Zs);g&&(function(n,t,e){FS(e);var r=ce(n),i=up(r.componentMainType,r.componentIndex,r.componentHighDownName,e).dispatchers;i?D(i,function(a){return NS(a,t)}):NS(n,t)}(g,v,f._api),bn(f))}).on("click",function(v){var g=Sa(v.target,function(_){return null!=ce(_).dataIndex},!0);if(g){var m=g.selected?"unselect":"select",y=ce(g);f._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})},Sd=function(h,f,v,p,g){(function(h){var f=[],v=[],p=!1;if(h.eachComponent(function(_,S){var x=S.get("zlevel")||0,b=S.get("z")||0,w=S.getZLevelKey();p=p||!!w,("series"===_?v:f).push({zlevel:x,z:b,idx:S.componentIndex,type:_,key:w})}),p){var m,y,g=f.concat(v);Du(g,function(_,S){return _.zlevel===S.zlevel?_.z-S.z:_.zlevel-S.zlevel}),D(g,function(_){var S=h.getComponent(_.type,_.idx),x=_.zlevel,b=_.key;null!=m&&(x=Math.max(m,x)),b?(x===m&&b!==y&&x++,y=b):y&&(x===m&&x++,y=""),m=x,S.setZLevel(x)})}})(f),aw(h,f,v,p,g),D(h._chartsViews,function(m){m.__alive=!1}),qc(h,f,v,p,g),D(h._chartsViews,function(m){m.__alive||m.remove(f,v)})},aw=function(h,f,v,p,g,m){D(m||h._componentsViews,function(y){var _=y.__model;u(0,y),y.render(_,f,v,p),s(_,y),c(_,y)})},qc=function(h,f,v,p,g,m){var y=h._scheduler;g=V(g||{},{updatedSeries:f.getSeries()}),Fn.trigger("series:beforeupdate",f,v,g);var _=!1;f.eachSeries(function(S){var x=h._chartsMap[S.__viewId];x.__alive=!0;var b=x.renderTask;y.updatePayload(b,p),u(0,x),m&&m.get(S.uid)&&b.dirty(),b.perform(y.getPerformArgs(b))&&(_=!0),x.group.silent=!!S.get("silent"),function(h,f){var v=h.get("blendMode")||null;f.eachRendered(function(p){p.isGroup||(p.style.blend=v)})}(S,x),GS(S)}),y.unfinished=_||y.unfinished,Fn.trigger("series:layoutlabels",f,v,g),Fn.trigger("series:transition",f,v,g),f.eachSeries(function(S){var x=h._chartsMap[S.__viewId];s(S,x),c(S,x)}),function(h,f){var g=0;h._zr.storage.traverse(function(m){m.isGroup||g++}),g>f.get("hoverLayerThreshold")&&!ze.node&&!ze.worker&&f.eachSeries(function(m){if(!m.preventUsingHoverLayer){var y=h._chartsMap[m.__viewId];y.__alive&&y.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}(h,f),Fn.trigger("series:afterupdate",f,v,g)},bn=function(h){h[pd]=!0,h.getZr().wakeUp()},lw=function(h){!h[pd]||(h.getZr().storage.traverse(function(f){_o(f)||i(f)}),h[pd]=!1)},ow=function(h){return new(function(f){function v(){return null!==f&&f.apply(this,arguments)||this}return E(v,f),v.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(null!=g)return h._model.getComponent(g.mainType,g.index);p=p.parent}},v.prototype.enterEmphasis=function(p,g){Lr(p,g),bn(h)},v.prototype.leaveEmphasis=function(p,g){Or(p,g),bn(h)},v.prototype.enterBlur=function(p){kS(p),bn(h)},v.prototype.leaveBlur=function(p){op(p),bn(h)},v.prototype.enterSelect=function(p){ES(p),bn(h)},v.prototype.leaveSelect=function(p){BS(p),bn(h)},v.prototype.getModel=function(){return h.getModel()},v.prototype.getViewOfComponentModel=function(p){return h.getViewOfComponentModel(p)},v.prototype.getViewOfSeriesModel=function(p){return h.getViewOfSeriesModel(p)},v}(B1))(h)},sw=function(h){function f(v,p){for(var g=0;g<v.length;g++)v[g][dd]=p}D(ml,function(v,p){h._messageCenter.on(p,function(g){if(th[h.group]&&0!==h[dd]){if(g&&g.escapeConnect)return;var m=h.makeActionFromEvent(g),y=[];D(Ca,function(_){_!==h&&_.group===h.group&&y.push(_)}),f(y,0),D(y,function(_){1!==_[dd]&&_.dispatchAction(m)}),f(y,2)}})})}}(),t}(cn),xd=jc.prototype;xd.on=jb("on"),xd.off=jb("off"),xd.one=function(n,t,e){var r=this;this.on.call(this,n,function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];t&&t.apply&&t.apply(this,a),r.off(n,i)},e)};var OB=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Kc={},ml={},bd=[],wd=[],eh=[],uw={},Cd={},Ca={},th={},RB=+new Date-0,Td=(new Date,"_echarts_instance_");function hw(n,t){uw[n]=t}function fw(n){_e(wd,n)<0&&wd.push(n)}function vw(n,t){Dd(bd,n,t,2e3)}function zd(n,t){Fn.on(n,t)}function fr(n,t,e){ee(t)&&(e=t,t="");var r=oe(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase(),!ml[t=n.event]&&(Rt(Jb.test(r)&&Jb.test(t)),Kc[r]||(Kc[r]={action:e,actionInfo:n}),ml[t]=r)}function Ta(n,t){Dd(eh,n,t,3e3,"visual")}var pw=[];function Dd(n,t,e,r,i){if((ee(t)||oe(t))&&(e=t,t=r),!(_e(pw,e)>=0)){pw.push(e);var a=Sb.wrapStageHandler(e,i);a.__prio=t,a.__raw=e,n.push(a)}}function dw(n,t){Cd[n]=t}function gw(n,t,e){var r=Ub.registerMap;r&&r(n,t,e)}Ta(2e3,bE),Ta(4500,wE),Ta(4500,CE),Ta(2e3,VE),Ta(4500,FE),Ta(7e3,function(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var r=e.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");s&&(r.ensureUniqueItemVisual(o,"style").decal=Go(s,t))});var i=r.getVisual("decal");i&&(r.getVisual("style").decal=Go(i,t))}})}),fw(Z1),vw(900,function(n){var t=Q();n.eachSeries(function(e){var r=e.get("stack");if(r){var i=t.get(r)||t.set(r,[]),a=e.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),t.each(YN)}),dw("default",function(n,t){re(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new ue,r=new Te({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(r);var o,i=new Me({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Te({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(a),t.showSpinner&&((o=new ed({shape:{startAngle:-Hc/2,endAngle:-Hc/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Hc/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*Hc/2}).delay(300).start("circularInOut"),e.add(o)),e.resize=function(){var s=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(n.getWidth()-2*l-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=n.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:2*l,height:2*l}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),fr({type:ia,event:ia,update:ia},tt),fr({type:rc,event:rc,update:rc},tt),fr({type:Ws,event:Ws,update:Ws},tt),fr({type:ic,event:ic,update:ic},tt),fr({type:Ys,event:Ys,update:Ys},tt),hw("light",kE),hw("dark",EE);var mw=[],HB={registerPreprocessor:fw,registerProcessor:vw,registerPostInit:function(n){zd("afterinit",n)},registerPostUpdate:function(n){zd("afterupdate",n)},registerUpdateLifecycle:zd,registerAction:fr,registerCoordinateSystem:function(n,t){js.register(n,t)},registerLayout:function(n,t){Dd(eh,n,t,1e3,"layout")},registerVisual:Ta,registerTransform:function(n){var t=(n=se(n)).type;t||Le("");var r=t.split(":");2!==r.length&&Le("");var i=!1;"echarts"===r[0]&&(t=r[1],i=!0),n.__isBuiltIn=i,hx.set(t,n)},registerLoading:dw,registerMap:gw,registerImpl:function(n,t){Ub[n]=t},PRIORITY:{PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ComponentModel:Ae,ComponentView:je,SeriesModel:$e,ChartView:He,registerComponentModel:function(n){Ae.registerClass(n)},registerComponentView:function(n){je.registerClass(n)},registerSeriesModel:function(n){$e.registerClass(n)},registerChartView:function(n){He.registerClass(n)},registerSubTypeDefaulter:function(n,t){Ae.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){!function(n,t){$u[n]=t}(n,t)}};function Se(n){F(n)?D(n,function(t){Se(t)}):_e(mw,n)>=0||(mw.push(n),ee(n)&&(n={install:n}),n.install(HB))}var yl=2*Math.PI,za=lr.CMD,WB=["top","right","bottom","left"];function YB(n,t,e,r,i){var a=e.width,o=e.height;switch(n){case"top":r.set(e.x+a/2,e.y-t),i.set(0,-1);break;case"bottom":r.set(e.x+a/2,e.y+o+t),i.set(0,1);break;case"left":r.set(e.x-t,e.y+o/2),i.set(-1,0);break;case"right":r.set(e.x+a+t,e.y+o/2),i.set(1,0)}}function ZB(n,t,e,r,i,a,o,s,l){o-=n,s-=t;var u=Math.sqrt(o*o+s*s),c=(o/=u)*e+n,h=(s/=u)*e+t;if(Math.abs(r-i)%yl<1e-4)return l[0]=c,l[1]=h,u-e;if(a){var f=r;r=rn(i),i=rn(f)}else r=rn(r),i=rn(i);r>i&&(i+=yl);var v=Math.atan2(s,o);if(v<0&&(v+=yl),v>=r&&v<=i||v+yl>=r&&v+yl<=i)return l[0]=c,l[1]=h,u-e;var p=e*Math.cos(r)+n,g=e*Math.sin(r)+t,m=e*Math.cos(i)+n,y=e*Math.sin(i)+t,_=(p-o)*(p-o)+(g-s)*(g-s),S=(m-o)*(m-o)+(y-s)*(y-s);return _<S?(l[0]=p,l[1]=g,Math.sqrt(_)):(l[0]=m,l[1]=y,Math.sqrt(S))}function nh(n,t,e,r,i,a,o,s){var l=i-n,u=a-t,c=e-n,h=r-t,f=Math.sqrt(c*c+h*h),p=(l*(c/=f)+u*(h/=f))/f;s&&(p=Math.min(Math.max(p,0),1));var g=o[0]=n+(p*=f)*c,m=o[1]=t+p*h;return Math.sqrt((g-i)*(g-i)+(m-a)*(m-a))}function yw(n,t,e,r,i,a,o){e<0&&(n+=e,e=-e),r<0&&(t+=r,r=-r);var s=n+e,l=t+r,u=o[0]=Math.min(Math.max(i,n),s),c=o[1]=Math.min(Math.max(a,t),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Gn=[];function UB(n,t,e){var r=yw(t.x,t.y,t.width,t.height,n.x,n.y,Gn);return e.set(Gn[0],Gn[1]),r}function $B(n,t,e){for(var s,l,r=0,i=0,a=0,o=0,u=1/0,c=t.data,h=n.x,f=n.y,v=0;v<c.length;){var p=c[v++];1===v&&(a=r=c[v],o=i=c[v+1]);var g=u;switch(p){case za.M:r=a=c[v++],i=o=c[v++];break;case za.L:g=nh(r,i,c[v],c[v+1],h,f,Gn,!0),r=c[v++],i=c[v++];break;case za.C:g=q0(r,i,c[v++],c[v++],c[v++],c[v++],c[v],c[v+1],h,f,Gn),r=c[v++],i=c[v++];break;case za.Q:g=K0(r,i,c[v++],c[v++],c[v],c[v+1],h,f,Gn),r=c[v++],i=c[v++];break;case za.A:var m=c[v++],y=c[v++],_=c[v++],S=c[v++],x=c[v++],b=c[v++];v+=1;var w=!!(1-c[v++]);s=Math.cos(x)*_+m,l=Math.sin(x)*S+y,v<=1&&(a=s,o=l),g=ZB(m,y,S,x,x+b,w,(h-m)*S/_+m,f,Gn),r=Math.cos(x+b)*_+m,i=Math.sin(x+b)*S+y;break;case za.R:g=yw(a=r=c[v++],o=i=c[v++],c[v++],c[v++],h,f,Gn);break;case za.Z:g=nh(r,i,a,o,h,f,Gn,!0),r=a,i=o}g<u&&(u=g,e.set(Gn[0],Gn[1]))}return u}var Hn=new ge,We=new ge,nt=new ge,vr=new ge,pr=new ge;function _w(n,t){if(n){var e=n.getTextGuideLine(),r=n.getTextContent();if(r&&e){var i=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||WB,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=i.anchor,c=n.getComputedTransform(),h=c&&ao([],c),f=t.get("length2")||0;u&&nt.copy(u);for(var v=0;v<o.length;v++){YB(o[v],0,s,Hn,vr),ge.scaleAndAdd(We,Hn,vr,f),We.transform(h);var g=n.getBoundingRect(),m=u?u.distance(We):n instanceof be?$B(We,n.path,nt):UB(We,g,nt);m<l&&(l=m,We.transform(c),nt.transform(c),nt.toArray(a[0]),We.toArray(a[1]),Hn.toArray(a[2]))}Sw(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var rh=[],Bt=new ge;function Sw(n,t){if(t<=180&&t>0){t=t/180*Math.PI,Hn.fromArray(n[0]),We.fromArray(n[1]),nt.fromArray(n[2]),ge.sub(vr,Hn,We),ge.sub(pr,nt,We);var e=vr.len(),r=pr.len();if(!(e<.001||r<.001)){vr.scale(1/e),pr.scale(1/r);var i=vr.dot(pr);if(Math.cos(t)<i){var o=nh(We.x,We.y,nt.x,nt.y,Hn.x,Hn.y,rh,!1);Bt.fromArray(rh),Bt.scaleAndAdd(pr,o/Math.tan(Math.PI-t));var s=nt.x!==We.x?(Bt.x-We.x)/(nt.x-We.x):(Bt.y-We.y)/(nt.y-We.y);if(isNaN(s))return;s<0?ge.copy(Bt,We):s>1&&ge.copy(Bt,nt),Bt.toArray(n[1])}}}}function XB(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Hn.fromArray(n[0]),We.fromArray(n[1]),nt.fromArray(n[2]),ge.sub(vr,We,Hn),ge.sub(pr,nt,We);var r=vr.len(),i=pr.len();if(!(r<.001||i<.001)&&(vr.scale(1/r),pr.scale(1/i),vr.dot(t)<Math.cos(e))){var s=nh(We.x,We.y,nt.x,nt.y,Hn.x,Hn.y,rh,!1);Bt.fromArray(rh);var l=Math.PI/2,c=l+Math.acos(pr.dot(t))-e;if(c>=l)ge.copy(Bt,nt);else{Bt.scaleAndAdd(pr,s/Math.tan(Math.PI/2-c));var h=nt.x!==We.x?(Bt.x-We.x)/(nt.x-We.x):(Bt.y-We.y)/(nt.y-We.y);if(isNaN(h))return;h<0?ge.copy(Bt,We):h>1&&ge.copy(Bt,nt)}Bt.toArray(n[1])}}}function Md(n,t,e,r){var i="normal"===e,a=i?n:n.ensureState(e);a.ignore=t;var o=r.get("smooth");o&&!0===o&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();i?n.useStyle(s):a.style=s}function QB(n,t){var e=t.smooth,r=t.points;if(r)if(n.moveTo(r[0][0],r[0][1]),e>0&&r.length>=3){var i=$r(r[0],r[1]),a=$r(r[1],r[2]);if(!i||!a)return n.lineTo(r[1][0],r[1][1]),void n.lineTo(r[2][0],r[2][1]);var o=Math.min(i,a)*e,s=wu([],r[1],r[0],o/i),l=wu([],r[1],r[2],o/a),u=wu([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)n.lineTo(r[c][0],r[c][1])}function Ad(n,t,e){var r=n.getTextGuideLine(),i=n.getTextContent();if(i){for(var a=t.normal,o=a.get("show"),s=i.ignore,l=0;l<Hs.length;l++){var u=Hs[l],c=t[u],h="normal"===u;if(c){var f=c.get("show");if((h?s:ve(i.states[u]&&i.states[u].ignore,s))||!ve(f,o)){var p=h?r:r&&r.states[u];p&&(p.ignore=!0),r&&Md(r,!0,u,c);continue}r||(r=new Xt,n.setTextGuideLine(r),!h&&(s||!o)&&Md(r,!0,"normal",t.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),Md(r,!1,u,c)}}if(r){re(r.style,e),r.style.fill=null;var g=a.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=g||!1,r.buildPath=QB}}else r&&n.removeTextGuideLine()}function Id(n,t){for(var e={normal:n.getModel(t=t||"labelLine")},r=0;r<Et.length;r++){var i=Et[r];e[i]=n.getModel([i,t])}return e}function xw(n){for(var t=[],e=0;e<n.length;e++){var r=n[e];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,u=o.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new Nc(o,a):null;t.push({label:i,labelLine:r.labelLine,rect:u,localRect:o,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:a})}}return t}function bw(n,t,e,r,i,a){var o=n.length;if(!(o<2)){n.sort(function(z,M){return z.rect[t]-M.rect[t]});for(var l,s=0,u=!1,c=[],h=0,f=0;f<o;f++){var v=n[f],p=v.rect;(l=p[t]-s)<0&&(p[t]-=l,v.label[t]-=l,u=!0);var g=Math.max(-l,0);c.push(g),h+=g,s=p[t]+p[e]}h>0&&a&&w(-h/o,0,o);var _,S,m=n[0],y=n[o-1];return x(),_<0&&C(-_,.8),S<0&&C(S,.8),x(),b(_,S,1),b(S,_,-1),x(),_<0&&T(-_),S<0&&T(S),u}function x(){_=m.rect[t]-r,S=i-y.rect[t]-y.rect[e]}function b(z,M,A){if(z<0){var I=Math.min(M,-z);if(I>0){w(I*A,0,o);var P=I+z;P<0&&C(-P*A,1)}else C(-z*A,1)}}function w(z,M,A){0!==z&&(u=!0);for(var I=M;I<A;I++){var P=n[I];P.rect[t]+=z,P.label[t]+=z}}function C(z,M){for(var A=[],I=0,P=1;P<o;P++){var L=n[P-1].rect,O=Math.max(n[P].rect[t]-L[t]-L[e],0);A.push(O),I+=O}if(I){var R=Math.min(Math.abs(z)/I,M);if(z>0)for(P=0;P<o-1;P++)w(A[P]*R,0,P+1);else for(P=o-1;P>0;P--)w(-A[P-1]*R,P,o)}}function T(z){var M=z<0?-1:1;z=Math.abs(z);for(var A=Math.ceil(z/(o-1)),I=0;I<o-1;I++)if(M>0?w(A,0,I+1):w(-A,o-I-1,o),(z-=A)<=0)return}}function ww(n,t,e,r){return bw(n,"y","height",t,e,r)}function Cw(n){var t=[];n.sort(function(g,m){return m.priority-g.priority});var e=new me(0,0,0,0);function r(g){if(!g.ignore){var m=g.ensureState("emphasis");null==m.ignore&&(m.ignore=!1)}g.ignore=!0}for(var i=0;i<n.length;i++){var a=n[i],o=a.axisAligned,s=a.localRect,l=a.transform,u=a.label,c=a.labelLine;e.copy(a.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var h=a.obb,f=!1,v=0;v<t.length;v++){var p=t[v];if(e.intersect(p.rect)){if(o&&p.axisAligned){f=!0;break}if(p.obb||(p.obb=new Nc(p.localRect,p.transform)),h||(h=new Nc(s,l)),h.intersect(p.obb)){f=!0;break}}}f?(r(u),c&&r(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function qB(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function jB(n,t){var e=n.label,r=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:qB(r&&r.shape.points)}}var Tw=["align","verticalAlign","width","height","fontSize"],Vt=new Dr,Pd=Ce(),KB=Ce();function ih(n,t,e){for(var r=0;r<e.length;r++){var i=e[r];null!=t[i]&&(n[i]=t[i])}}var ah=["x","y","rotation"],eV=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,r,i,a){var o=i.style,l=i.__hostTarget.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();me.applyTransform(c,c,u),u?Vt.setLocalTransform(u):(Vt.x=Vt.y=Vt.rotation=Vt.originX=Vt.originY=0,Vt.scaleX=Vt.scaleY=1),Vt.rotation=rn(Vt.rotation);var f,h=i.__hostTarget;if(h){f=h.getBoundingRect().plain();var v=h.getComputedTransform();me.applyTransform(f,f,v)}var p=f&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:r,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:Vt.x,y:Vt.y,scaleX:Vt.scaleX,scaleY:Vt.scaleY,rotation:Vt.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var r=t.__model,i=r.get("labelLayout");!ee(i)&&!we(i).length||t.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=ce(a);o&&!o.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,r,o,i)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),r=t.getHeight();function i(S,x){return function(){_w(S,x)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;c=ee(o.layoutOption)?o.layoutOption(jB(o,l)):o.layoutOption,o.computedLayoutOption=c=c||{};var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=c.x||null!=c.y?null:u.attachedPos,rotation:null!=c.rotate?c.rotate*h:u.attachedRot,offset:[c.dx||0,c.dy||0]});var f=!1;if(null!=c.x?(s.x=Y(c.x,e),s.setStyle("x",0),f=!0):(s.x=u.x,s.setStyle("x",u.style.x)),null!=c.y?(s.y=Y(c.y,r),s.setStyle("y",0),f=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var v=l.getTextGuideLine();v&&(v.setShape({points:c.labelLinePoints}),f=!1)}Pd(s).needsUpdateLabelLine=f,s.rotation=null!=c.rotate?c.rotate*h:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var g=0;g<Tw.length;g++){var m=Tw[g];s.setStyle(m,null!=c[m]?c[m]:u.style[m])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var y=o.seriesModel;null!=o.dataIndex&&(y=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex)),s.on("drag",i(l,y.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},n.prototype.layout=function(t){var e=t.getWidth(),r=t.getHeight(),i=xw(this._labelList),a=Pe(i,function(l){return"shiftX"===l.layoutOption.moveOverlap}),o=Pe(i,function(l){return"shiftY"===l.layoutOption.moveOverlap});(function(n,t,e,r){bw(n,"x","width",0,e,void 0)})(a,0,e),ww(o,0,r),Cw(Pe(i,function(l){return l.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var t=this;D(this._chartViewList,function(e){var r=e.__model,i=e.ignoreLabelLineUpdate,a=r.isAnimationEnabled();e.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,l=o.getTextContent();!s&&l&&(s=Pd(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,r),a&&t._animateLabels(o,r)})})},n.prototype._updateLabelLine=function(t,e){var r=t.getTextContent(),i=ce(t),a=i.dataIndex;if(r&&null!=a){var o=e.getData(i.dataType),s=o.getItemModel(a),l={},u=o.getItemVisual(a,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var h=s.getModel("labelLine");Ad(t,Id(s),l),_w(t,h)}},n.prototype._animateLabels=function(t,e){var r=t.getTextContent(),i=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!_o(t))){var o=(a=Pd(r)).oldLayout,s=ce(t),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=e.getData(s.dataType);if(o){r.attr(o);var f=t.prevStates;f&&(_e(f,"select")>=0&&r.attr(a.oldLayoutSelect),_e(f,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),Ie(r,u,e,l)}else if(r.attr(u),!So(r).valueAnimation){var h=ve(r.style.opacity,1);r.style.opacity=0,Ue(r,{style:{opacity:h}},e,l)}if(a.oldLayout=u,r.states.select){var v=a.oldLayoutSelect={};ih(v,u,ah),ih(v,r.states.select,ah)}if(r.states.emphasis){var p=a.oldLayoutEmphasis={};ih(p,u,ah),ih(p,r.states.emphasis,ah)}jS(r,l,c,e,e)}if(i&&!i.ignore&&!i.invisible){var a=KB(i),g={points:i.shape.points};(o=a.oldLayout)?(i.attr({shape:o}),Ie(i,{shape:g},e)):(i.setShape(g),i.style.strokePercent=0,Ue(i,{style:{strokePercent:1}},e)),a.oldLayout=g}},n}();const tV=eV;var Ld=Ce();function zw(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){var i=Ld(e).labelManager;i||(i=Ld(e).labelManager=new tV),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,r){var i=Ld(e).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}function Dw(n,t,e){var r=In.createCanvas(),i=t.getWidth(),a=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*e,r.height=a*e,r}Se(zw);var nV=function(n){function t(e,r,i){var o,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,i=i||Yu,"string"==typeof e?o=Dw(e,r,i):oe(e)&&(e=(o=e).id),a.id=e,a.dom=o;var s=o.style;return s&&(C0(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=r,a.dpr=i,a}return Ze(t,n),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=Dw("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var m,o=[],s=this.maxRepaintRectCount,l=!1,u=new me(0,0,0,0);function c(_){if(_.isFinite()&&!_.isZero())if(0===o.length)(S=new me(0,0,0,0)).copy(_),o.push(S);else{for(var x=!1,b=1/0,w=0,C=0;C<o.length;++C){var T=o[C];if(T.intersect(_)){var z=new me(0,0,0,0);z.copy(T),z.union(_),o[C]=z,x=!0;break}if(l){u.copy(_),u.union(T);var P=u.width*u.height-_.width*_.height-T.width*T.height;P<b&&(b=P,w=C)}}var S;l&&(o[w].union(_),x=!0),x||((S=new me(0,0,0,0)).copy(_),o.push(S)),l||(l=o.length>=s)}}for(var h=this.__startIndex;h<this.__endIndex;++h)if(f=e[h]){var v=f.shouldBePainted(i,a,!0,!0);(p=f.__isRendered&&(1&f.__dirty||!v)?f.getPrevPaintRect():null)&&c(p);var g=v&&(1&f.__dirty||!f.__isRendered)?f.getPaintRect():null;g&&c(g)}for(h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f,p;v=(f=r[h])&&f.shouldBePainted(i,a,!0,!0),!f||v&&f.__zr||!f.__isRendered||(p=f.getPrevPaintRect())&&c(p)}do{for(m=!1,h=0;h<o.length;)if(o[h].isZero())o.splice(h,1);else{for(var y=h+1;y<o.length;)o[h].intersect(o[y])?(m=!0,o[h].union(o[y]),o.splice(y,1)):y++;h++}}while(m);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,r){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=e+"px",o.height=r+"px"),a.width=e*i,a.height=r*i,s&&(s.width=e*i,s.height=r*i,1!==i&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,r,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;r=r||this.clearColor;var u=this.motionBlur&&!e,c=this.lastFrameAlpha,h=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/h,l/h));var v=this.domBack;function p(g,m,y,_){if(o.clearRect(g,m,y,_),r&&"transparent"!==r){var S=void 0;mu(r)?(S=(r.global||r.__width===y&&r.__height===_)&&r.__canvasGradient||ud(o,r,{x:0,y:0,width:y,height:_}),r.__canvasGradient=S,r.__width=y,r.__height=_):function(n){return null!=n.image}(r)&&(r.scaleX=r.scaleX||h,r.scaleY=r.scaleY||h,S=hd(o,r,{dirty:function(){f.setUnpainted(),f.painter.refresh()}})),o.save(),o.fillStyle=S||r,o.fillRect(g,m,y,_),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(v,g,m,y,_),o.restore())}!i||u?p(0,0,s,l):i.length&&D(i,function(g){p(g.x*h,g.y*h,g.width*h,g.height*h)})},t}(cn);const Od=nV;var Da=314159,oV=function(){function n(t,e,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=V({},r||{}),this.dpr=r.devicePixelRatio||Yu,this._singleCanvas=a,this.root=t,t.style&&(C0(t),t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=t,h=c.width,f=c.height;null!=r.width&&(h=r.width),null!=r.height&&(f=r.height),this.dpr=r.devicePixelRatio||1,c.width=h*this.dpr,c.height=f*this.dpr,this._width=h,this._height=f;var v=new Od(c,this,this.dpr);v.__builtin__=!0,v.initContext(),l[Da]=v,v.zlevel=Da,s.push(Da),this._domRoot=t}else{this._width=Fo(t,0,r),this._height=Fo(t,1,r);var u=this._domRoot=function(n,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}(this._width,this._height);t.appendChild(u)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,r,t,this._redrawId);for(var a=0;a<i.length;a++){var s=this._layers[i[a]];!s.__builtin__&&s.refresh&&s.refresh(0===a?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){for(var a,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var s=t[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(1e5)),a||(a=r.ctx).save(),wa(a,s,i,o===e-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(t,e){Fb(t,e)},n.prototype._paintList=function(t,e,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,r),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;jf(function(){l._paintList(t,e,r,i)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(Da).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,r)})},n.prototype._doPaintList=function(t,e,r){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._layers[this._zlevelList[s]];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&a.push(u)}for(var c=!0,h=!1,f=function(g){var m=a[g],y=m.ctx,_=o&&m.createRepaintRects(t,e,v._width,v._height),S=r?m.__startIndex:m.__drawIndex,x=!r&&m.incremental&&Date.now,b=x&&Date.now(),w=m.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,w,_);else if(S===m.__startIndex){var C=t[S];(!C.incremental||!C.notClear||r)&&m.clear(!1,w,_)}-1===S&&(console.error("For some unknown reason. drawIndex is -1"),S=m.__startIndex);var T,z=function(P){var L={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(T=S;T<m.__endIndex;T++){var O=t[T];if(O.__inHover&&(h=!0),i._doPaintEl(O,m,o,P,L,T===m.__endIndex-1),x&&Date.now()-b>15)break}L.prevElClipPaths&&y.restore()};if(_)if(0===_.length)T=m.__endIndex;else for(var M=v.dpr,A=0;A<_.length;++A){var I=_[A];y.save(),y.beginPath(),y.rect(I.x*M,I.y*M,I.width*M,I.height*M),y.clip(),z(I),y.restore()}else y.save(),z(),y.restore();m.__drawIndex=T,m.__drawIndex<m.__endIndex&&(c=!1)},v=this,p=0;p<a.length;p++)f(p);return ze.wxa&&D(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:h}},n.prototype._doPaintEl=function(t,e,r,i,a,o){var s=e.ctx;if(r){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(wa(s,t,a,o),t.setPrevPaintRect(l))}else wa(s,t,a,o)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Da);var r=this._layers[t];return r||((r=new Od("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]?de(r,this._layerConfig[t],!0):this._layerConfig[t-.01]&&de(r,this._layerConfig[t-.01],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},n.prototype.insertLayer=function(t,e){var r=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!r[t]&&function(n){return!(!n||!n.__builtin__&&("function"!=typeof n.resize||"function"!=typeof n.refresh))}(e)){if(a>0&&t>i[0]){for(l=0;l<a-1&&!(i[l]<t&&i[l+1]>t);l++);s=r[i[l]]}if(i.splice(l+1,0,t),r[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(e.dom,u.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.painter||(e.painter=this)}},n.prototype.eachLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];t.call(e,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__&&t.call(e,o,a)}},n.prototype.eachOtherLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__||t.call(e,o,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){function e(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1}),this._singleCanvas)for(var r=1;r<t.length;r++)if((i=t[r]).zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}var s,l,a=null,o=0;for(l=0;l<t.length;l++){var i,u=(i=t[l]).zlevel,c=void 0;s!==u&&(s=u,o=0),i.incremental?((c=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,o=1):c=this.getLayer(u+(o>0?.01:0),this._needsManuallyCompositing),c.__builtin__||Af("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.__drawIndex=c.incremental?-1:l,e(l),a=c),1&i.__dirty&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}e(l),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,D(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;r[t]?de(r[t],e,!0):r[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];a!==t&&a!==t+.01||de(this._layers[a],r[t],!0)}}},n.prototype.delLayer=function(t){var e=this._layers,r=this._zlevelList,i=e[t];!i||(i.dom.parentNode.removeChild(i.dom),delete e[t],r.splice(_e(r,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=Fo(a,0,i),e=Fo(a,1,i),r.style.display="",this._width!==t||e!==this._height){for(var o in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Da).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[Da].dom;var e=new Od("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height;this.eachLayer(function(h){h.__builtin__?r.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(r.save(),h.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++)wa(r,s[l],o,l===u-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const sV=oV;var Rd=Math.sin,Nd=Math.cos,Aw=Math.PI,Ma=2*Math.PI,uV=180/Aw,cV=function(){function n(){}return n.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,r,i,a,o){this._add("C",t,e,r,i,a,o)},n.prototype.quadraticCurveTo=function(t,e,r,i){this._add("Q",t,e,r,i)},n.prototype.arc=function(t,e,r,i,a,o){this.ellipse(t,e,r,r,0,i,a,o)},n.prototype.ellipse=function(t,e,r,i,a,o,s,l){var p,u=s-o,c=!l,h=Math.abs(u),f=ei(h-Ma)||(c?u>=Ma:-u>=Ma),v=u>0?u%Ma:u%Ma+Ma;p=!!f||!ei(h)&&v>=Aw==!!c;var g=t+r*Nd(o),m=e+i*Rd(o);this._start&&this._add("M",g,m);var y=Math.round(a*uV);if(f){var _=1/this._p,S=(c?1:-1)*(Ma-_);this._add("A",r,i,y,1,+c,t+r*Nd(o+S),e+i*Rd(o+S)),_>.01&&this._add("A",r,i,y,0,+c,g,m)}else{var x=t+r*Nd(s),b=e+i*Rd(s);this._add("A",r,i,y,+p,+c,x,b)}},n.prototype.rect=function(t,e,r,i){this._add("M",t,e),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,r,i,a,o,s,l,u){for(var c=[],h=this._p,f=1;f<arguments.length;f++){var v=arguments[f];if(isNaN(v))return void(this._invalid=!0);c.push(Math.round(v*h)/h)}this._d.push(t+c.join(" ")),this._start="Z"===t},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}();const Iw=cV;var _l="none",hV=Math.round,kd=["lineCap","miterLimit","lineJoin"],pV=G(kd,function(n){return"stroke-"+n.toLowerCase()});var Pw="http://www.w3.org/2000/svg",Lw="http://www.w3.org/1999/xlink",Ow="ecmeta_";function Rw(n){return document.createElementNS(Pw,n)}function vt(n,t,e,r,i){return{tag:n,attrs:e||{},children:r,text:i,key:t}}function Ed(n,t){var e=(t=t||{}).newline?"\n":"";return function r(i){var a=i.children,o=i.tag,l=i.text;return function(n,t){var e=[];if(t)for(var r in t){var i=t[r],a=r;!1!==i&&(!0!==i&&null!=i&&(a+='="'+i+'"'),e.push(a))}return"<"+n+" "+e.join(" ")+">"}(o,i.attrs)+("style"!==o?Dt(l):l||"")+(a?""+e+G(a,function(u){return r(u)}).join(e)+e:"")+function(n){return"</"+n+">"}(o)}(n)}function Bd(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Nw(n,t,e,r){return vt("svg","root",{width:n,height:t,xmlns:Pw,"xmlns:xlink":Lw,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+n+" "+t},e)}var xV=0;function kw(){return xV++}var Ew={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Aa="transform-origin";function bV(n,t,e){var r=V({},n.shape);V(r,t),n.buildPath(e,r);var i=new Iw;return i.reset(u_(n)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function wV(n,t){var e=t.originX,r=t.originY;(e||r)&&(n[Aa]=e+"px "+r+"px")}var CV={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Bw(n,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=n,e}function Vw(n){return U(n)?Ew[n]?"cubic-bezier("+Ew[n]+")":ev(n)?n:"":""}function sh(n,t,e,r){var i=n.animators,a=i.length,o=[];if(n instanceof td){var s=function(n,t,e){var a,o,i={};if(D(n.shape.paths,function(l){var u=Bd(e.zrId);u.animation=!0,sh(l,{},u,!0);var c=u.cssAnims,h=u.cssNodes,f=we(c),v=f.length;if(v){var p=c[o=f[v-1]];for(var g in p){var m=p[g];i[g]=i[g]||{d:""},i[g].d+=m.d||""}for(var y in h){var _=h[y].animation;_.indexOf(o)>=0&&(a=_)}}}),a){t.d=!1;var s=Bw(i,e);return a.replace(o,s)}}(n,t,e);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],h=[c.getMaxTime()/1e3+"s"],f=Vw(c.getClip().easing),v=c.getDelay();h.push(f||"linear"),v&&h.push(v/1e3+"s"),c.getLoop()&&h.push("infinite");var p=h.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function g(_){var S=_[1],x=S.length,b={},w={},C={},T="animation-timing-function";function z(ye,ae,xe){for(var J=ye.getTracks(),fe=ye.getMaxTime(),Ye=0;Ye<J.length;Ye++){var Ne=J[Ye];if(Ne.needsAnimate()){var Ve=Ne.keyframes,Qe=Ne.propName;if(xe&&(Qe=xe(Qe)),Qe)for(var dt=0;dt<Ve.length;dt++){var un=Ve[dt],Kt=Math.round(un.time/fe*100)+"%",eo=Vw(un.easing),Oi=un.rawValue;(U(Oi)||De(Oi))&&(ae[Kt]=ae[Kt]||{},ae[Kt][Qe]=un.rawValue,eo&&(ae[Kt][T]=eo))}}}}for(var M=0;M<x;M++)(I=(A=S[M]).targetName)?"shape"===I&&z(A,w):!r&&z(A,b);for(var P in b){var L={};b_(L,n),V(L,b[P]);var O=c_(L),R=b[P][T];C[P]=O?{transform:O}:{},wV(C[P],L),R&&(C[P][T]=R)}var k,N=!0;for(var P in w){C[P]=C[P]||{};var B=!k;R=w[P][T],B&&(k=new lr);var H=k.len();k.reset(),C[P].d=bV(n,w[P],k);var W=k.len();if(!B&&H!==W){N=!1;break}R&&(C[P][T]=R)}if(!N)for(var P in C)delete C[P].d;if(!r)for(M=0;M<x;M++){var A,I;"style"===(I=(A=S[M]).targetName)&&z(A,C,function(J){return CV[J]})}var te,Z=we(C),K=!0;for(M=1;M<Z.length;M++){var he=Z[M-1];if(C[he][Aa]!==C[Z[M]][Aa]){K=!1;break}te=C[he][Aa]}if(K&&te){for(var P in C)C[P][Aa]&&delete C[P][Aa];t[Aa]=te}if(Pe(Z,function(ye){return we(C[ye]).length>0}).length)return Bw(C,e)+" "+_[0]+" both"}for(var m in l)(s=g(l[m]))&&o.push(s);if(o.length){var y=e.zrId+"-cls-"+kw();e.cssNodes["."+y]={animation:o.join(",")},t.class=y}}function Fw(n,t,e,r){var i=JSON.stringify(n),a=e.cssStyleCache[i];a||(a=e.zrId+"-cls-"+kw(),e.cssStyleCache[i]=a,e.cssNodes["."+a+(r?":hover":"")]=n),t.class=t.class?t.class+" "+a:a}var Sl=Math.round;function Gw(n){return n&&U(n.src)}function Hw(n){return n&&ee(n.toDataURL)}function Vd(n,t,e,r){(function(n,t,e,r){var i=null==t.opacity?1:t.opacity;if(e instanceof St)n("opacity",i);else{if(function(n){var t=n.fill;return null!=t&&t!==_l}(t)){var a=Ds(t.fill);n("fill",a.color);var o=null!=t.fillOpacity?t.fillOpacity*a.opacity*i:a.opacity*i;(r||o<1)&&n("fill-opacity",o)}else n("fill",_l);if(function(n){var t=n.stroke;return null!=t&&t!==_l}(t)){var s=Ds(t.stroke);n("stroke",s.color);var l=t.strokeNoScale?e.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=null!=t.strokeOpacity?t.strokeOpacity*s.opacity*i:s.opacity*i,h=t.strokeFirst;if((r||1!==u)&&n("stroke-width",u),(r||h)&&n("paint-order",h?"stroke":"fill"),(r||c<1)&&n("stroke-opacity",c),t.lineDash){var f=cd(e),v=f[0],p=f[1];v&&(p=hV(p||0),n("stroke-dasharray",v.join(",")),(p||r)&&n("stroke-dashoffset",p))}else r&&n("stroke-dasharray",_l);for(var g=0;g<kd.length;g++){var m=kd[g];if(r||t[m]!==tc[m]){var y=t[m]||tc[m];y&&n(pV[g],y)}}}else r&&n("stroke",_l)}})(function(i,a){var o="fill"===i||"stroke"===i;o&&l_(a)?Xw(t,n,i,r):o&&uv(a)?Qw(e,n,i,r):n[i]=a,o&&r.ssr&&"none"===a&&(n["pointer-events"]="visible")},t,e,!1),function(n,t,e){var r=n.style;if(function(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}(r)){var i=function(n){var t=n.style,e=n.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}(n),a=e.shadowCache,o=a[i];if(!o){var s=n.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,h=r.shadowOffsetY||0,f=r.shadowBlur,v=Ds(r.shadowColor),p=v.opacity,g=v.color,_=f/2/l+" "+f/2/u;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=vt("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[vt("feDropShadow","",{dx:c/l,dy:h/u,stdDeviation:_,"flood-color":g,"flood-opacity":p})]),a[i]=o}t.filter=Eu(o)}}(e,n,r)}function Fd(n,t){var e=function(n){if("function"==typeof Pv)return Pv(n)}(t);e&&(e.each(function(r,i){null!=r&&(n[(Ow+i).toLowerCase()]=r+"")}),t.isSilent()&&(n[Ow+"silent"]="true"))}function Ww(n){return ei(n[0]-1)&&ei(n[1])&&ei(n[2])&&ei(n[3]-1)}function Gd(n,t,e){if(t&&(!function(n){return ei(n[4])&&ei(n[5])}(t)||!Ww(t))){var r=e?10:1e4;n.transform=Ww(t)?"translate("+Sl(t[4]*r)/r+" "+Sl(t[5]*r)/r+")":function(n){return"matrix("+ku(n[0])+","+ku(n[1])+","+ku(n[2])+","+ku(n[3])+","+lv(n[4])+","+lv(n[5])+")"}(t)}}function Yw(n,t,e){for(var r=n.points,i=[],a=0;a<r.length;a++)i.push(Sl(r[a][0]*e)/e),i.push(Sl(r[a][1]*e)/e);t.points=i.join(" ")}function Zw(n){return!n.smooth}var AV={circle:[function(n){var t=G(["cx","cy","r"],function(e){return"string"==typeof e?[e,e]:e});return function(e,r,i){for(var a=0;a<t.length;a++){var o=t[a],s=e[o[0]];null!=s&&(r[o[1]]=Sl(s*i)/i)}}}()],polyline:[Yw,Zw],polygon:[Yw,Zw]};function Uw(n,t){var e=n.style,r=n.shape,i=AV[n.type],a={},o=t.animation,s="path",l=n.style.strokePercent,u=t.compress&&u_(n)||4;if(!i||t.willUpdate||i[1]&&!i[1](r)||o&&function(n){for(var t=n.animators,e=0;e<t.length;e++)if("shape"===t[e].targetName)return!0;return!1}(n)||l<1){var h=!n.path||n.shapeChanged();n.path||n.createPathProxy();var f=n.path;h&&(f.beginPath(),n.buildPath(f,n.shape),n.pathUpdated());var v=f.getVersion(),p=n,g=p.__svgPathBuilder;(p.__svgPathVersion!==v||!g||l!==p.__svgPathStrokePercent)&&(g||(g=p.__svgPathBuilder=new Iw),g.reset(u),f.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=v,p.__svgPathStrokePercent=l),a.d=g.getStr()}else{s=n.type;var c=Math.pow(10,u);i[0](r,a,c)}return Gd(a,n.transform),Vd(a,e,n,t),Fd(a,n),t.animation&&sh(n,a,t),t.emphasis&&function(n,t,e){if(!n.ignore)if(n.isSilent())Fw(r={"pointer-events":"none"},t,e,!0);else{var i=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},a=i.fill;if(!a){var o=n.style&&n.style.fill,s=n.states.select&&n.states.select.style&&n.states.select.style.fill,l=n.currentStates.indexOf("select")>=0&&s||o;l&&(a=sv(l))}var u=i.lineWidth;u&&(u/=!i.strokeNoScale&&n.transform?n.transform[0]:1);var r={cursor:"pointer"};a&&(r.fill=a),i.stroke&&(r.stroke=i.stroke),u&&(r["stroke-width"]=u),Fw(r,t,e,!0)}}(n,a,t),vt(s,n.id+"",a)}function $w(n,t){return n instanceof be?Uw(n,t):n instanceof St?function(n,t){var e=n.style,r=e.image;if(r&&!U(r)&&(Gw(r)?r=r.src:Hw(r)&&(r=r.toDataURL())),r){var i=e.x||0,a=e.y||0,l={href:r,width:e.width,height:e.height};return i&&(l.x=i),a&&(l.y=a),Gd(l,n.transform),Vd(l,e,n,t),Fd(l,n),t.animation&&sh(n,l,t),vt("image",n.id+"",l)}}(n,t):n instanceof Fs?function(n,t){var e=n.style,r=e.text;if(null!=r&&(r+=""),r&&!isNaN(e.x)&&!isNaN(e.y)){var i=e.font||Ur,a=e.x||0,o=function(n,t,e){return"top"===e?n+=t/2:"bottom"===e&&(n-=t/2),n}(e.y||0,Zu(i),e.textBaseline),l={"dominant-baseline":"central","text-anchor":zL[e.textAlign]||e.textAlign};if(xS(e)){var u="",c=e.fontStyle,h=_S(e.fontSize);if(!parseFloat(h))return;var v=e.fontWeight;u+="font-size:"+h+";font-family:"+(e.fontFamily||g0)+";",c&&"normal"!==c&&(u+="font-style:"+c+";"),v&&"normal"!==v&&(u+="font-weight:"+v+";"),l.style=u}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),Gd(l,n.transform),Vd(l,e,n,t),Fd(l,n),t.animation&&sh(n,l,t),vt("text",n.id+"",l,void 0,r)}}(n,t):void 0}function Xw(n,t,e,r){var a,i=n[e],o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(o_(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else{if(!s_(i))return;a="radialGradient",o.cx=ve(i.x,.5),o.cy=ve(i.y,.5),o.r=ve(i.r,.5)}for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var h=100*lv(s[u].offset)+"%",v=Ds(s[u].color),g=v.opacity,m={offset:h};m["stop-color"]=v.color,g<1&&(m["stop-opacity"]=g),l.push(vt("stop",u+"",m))}var _=Ed(vt(a,"",o,l)),S=r.gradientCache,x=S[_];x||(x=r.zrId+"-g"+r.gradientIdx++,S[_]=x,o.id=x,r.defs[x]=vt(a,x,o,l)),t[e]=Eu(x)}function Qw(n,t,e,r){var h,i=n.style[e],a=n.getBoundingRect(),o={},s=i.repeat,l="no-repeat"===s,u="repeat-x"===s,c="repeat-y"===s;if(a_(i)){var f=i.imageWidth,v=i.imageHeight,p=void 0,g=i.image;if(U(g)?p=g:Gw(g)?p=g.src:Hw(g)&&(p=g.toDataURL()),"undefined"==typeof Image){var m="Image width/height must been given explictly in svg-ssr renderer.";Rt(f,m),Rt(v,m)}else if(null==f||null==v){var y=function(M,A){if(M){var I=M.elm,P=f||A.width,L=v||A.height;"pattern"===M.tag&&(u?(L=1,P/=a.width):c&&(P=1,L/=a.height)),M.attrs.width=P,M.attrs.height=L,I&&(I.setAttribute("width",P),I.setAttribute("height",L))}},_=Vv(p,null,n,function(M){l||y(w,M),y(h,M)});_&&_.width&&_.height&&(f=f||_.width,v=v||_.height)}h=vt("image","img",{href:p,width:f,height:v}),o.width=f,o.height=v}else i.svgElement&&(h=se(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(h){var S,x;l?S=x=1:u?(x=1,S=o.width/a.width):c?(S=1,x=o.height/a.height):o.patternUnits="userSpaceOnUse",null!=S&&!isNaN(S)&&(o.width=S),null!=x&&!isNaN(x)&&(o.height=x);var b=c_(i);b&&(o.patternTransform=b);var w=vt("pattern","",o,[h]),C=Ed(w),T=r.patternCache,z=T[C];z||(z=r.zrId+"-p"+r.patternIdx++,T[C]=z,o.id=z,w=r.defs[z]=vt("pattern",z,o,[h])),t[e]=Eu(z)}}function RV(n,t,e){var r=e.clipPathCache,i=e.defs,a=r[n.id];if(!a){var o={id:a=e.zrId+"-c"+e.clipPathIdx++};r[n.id]=a,i[a]=vt("clipPath",a,o,[Uw(n,e)])}t["clip-path"]=Eu(a)}function Jw(n){return document.createTextNode(n)}function Ia(n,t,e){n.insertBefore(t,e)}function qw(n,t){n.removeChild(t)}function jw(n,t){n.appendChild(t)}function Kw(n){return n.parentNode}function eC(n){return n.nextSibling}function Hd(n,t){n.textContent=t}var kV=vt("","");function Wd(n){return void 0===n}function dr(n){return void 0!==n}function EV(n,t,e){for(var r={},i=t;i<=e;++i){var a=n[i].key;void 0!==a&&(r[a]=i)}return r}function xl(n,t){return n.tag===t.tag&&n.key===t.key}function bl(n){var t,e=n.children,r=n.tag;if(dr(r)){var i=n.elm=Rw(r);if(Yd(kV,n),F(e))for(t=0;t<e.length;++t){var a=e[t];null!=a&&jw(i,bl(a))}else dr(n.text)&&!oe(n.text)&&jw(i,Jw(n.text))}else n.elm=Jw(n.text);return n.elm}function nC(n,t,e,r,i){for(;r<=i;++r){var a=e[r];null!=a&&Ia(n,bl(a),t)}}function lh(n,t,e,r){for(;e<=r;++e){var i=t[e];null!=i&&(dr(i.tag)?qw(Kw(i.elm),i.elm):qw(n,i.elm))}}function Yd(n,t){var e,r=t.elm,i=n&&n.attrs||{},a=t.attrs||{};if(i!==a){for(e in a){var o=a[e];i[e]!==o&&(!0===o?r.setAttribute(e,""):!1===o?r.removeAttribute(e):"style"===e?r.style.cssText=o:120!==e.charCodeAt(0)?r.setAttribute(e,o):"xmlns:xlink"===e||"xmlns"===e?r.setAttributeNS("http://www.w3.org/2000/xmlns/",e,o):58===e.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,o):58===e.charCodeAt(5)?r.setAttributeNS(Lw,e,o):r.setAttribute(e,o))}for(e in i)e in a||r.removeAttribute(e)}}function Wo(n,t){var e=t.elm=n.elm,r=n.children,i=t.children;n!==t&&(Yd(n,t),Wd(t.text)?dr(r)&&dr(i)?r!==i&&function(n,t,e){for(var h,f,v,r=0,i=0,a=t.length-1,o=t[0],s=t[a],l=e.length-1,u=e[0],c=e[l];r<=a&&i<=l;)null==o?o=t[++r]:null==s?s=t[--a]:null==u?u=e[++i]:null==c?c=e[--l]:xl(o,u)?(Wo(o,u),o=t[++r],u=e[++i]):xl(s,c)?(Wo(s,c),s=t[--a],c=e[--l]):xl(o,c)?(Wo(o,c),Ia(n,o.elm,eC(s.elm)),o=t[++r],c=e[--l]):xl(s,u)?(Wo(s,u),Ia(n,s.elm,o.elm),s=t[--a],u=e[++i]):(Wd(h)&&(h=EV(t,r,a)),Wd(f=h[u.key])||(v=t[f]).tag!==u.tag?Ia(n,bl(u),o.elm):(Wo(v,u),t[f]=void 0,Ia(n,v.elm,o.elm)),u=e[++i]);(r<=a||i<=l)&&(r>a?nC(n,null==e[l+1]?null:e[l+1].elm,e,i,l):lh(n,t,r,a))}(e,r,i):dr(i)?(dr(n.text)&&Hd(e,""),nC(e,null,i,0,i.length-1)):dr(r)?lh(e,r,0,r.length-1):dr(n.text)&&Hd(e,""):n.text!==t.text&&(dr(r)&&lh(e,r,0,r.length-1),Hd(e,t.text)))}var FV=0,GV=function(){function n(t,e,r){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=r=V({},r),this.root=t,this._id="zr"+FV++,this._oldVNode=Nw(r.width,r.height),t&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=Rw("svg");Yd(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(r.width,r.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(n,t){if(xl(n,t))Wo(n,t);else{var e=n.elm,r=Kw(e);bl(t),null!==r&&(Ia(r,t.elm,eC(e)),lh(r,[n],0,0))}}(this._oldVNode,t),this._oldVNode=t}},n.prototype.renderOneToVNode=function(t){return $w(t,Bd(this._id))},n.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),r=this._width,i=this._height,a=Bd(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var o=[],s=this._bgVNode=function(n,t,e,r){var i;if(e&&"none"!==e)if(i=vt("rect","bg",{width:n,height:t,x:"0",y:"0"}),l_(e))Xw({fill:e},i.attrs,"fill",r);else if(uv(e))Qw({style:{fill:e},dirty:tt,getBoundingRect:function(){return{width:n,height:t}}},i.attrs,"fill",r);else{var a=Ds(e),s=a.opacity;i.attrs.fill=a.color,s<1&&(i.attrs["fill-opacity"]=s)}return i}(r,i,this._backgroundColor,a);s&&o.push(s);var l=t.compress?null:this._mainVNode=vt("g","main",{},[]);this._paintList(e,a,l?l.children:o),l&&o.push(l);var u=G(we(a.defs),function(f){return a.defs[f]});if(u.length&&o.push(vt("defs","defs",{},u)),t.animation){var c=function(n,t,e){var r=(e=e||{}).newline?"\n":"",i=" {"+r,a=r+"}",o=G(we(n),function(l){return l+i+G(we(n[l]),function(u){return u+":"+n[l][u]+";"}).join(r)+a}).join(r),s=G(we(t),function(l){return"@keyframes "+l+i+G(we(t[l]),function(u){return u+i+G(we(t[l][u]),function(c){var h=t[l][u][c];return"d"===c&&(h='path("'+h+'")'),c+":"+h+";"}).join(r)+a}).join(r)+a}).join(r);return o||s?["<![CDATA[",o,s,"]]>"].join(r):""}(a.cssNodes,a.cssAnims,{newline:!0});if(c){var h=vt("style","stl",{},[],c);o.push(h)}}return Nw(r,i,o,t.useViewBox)},n.prototype.renderToString=function(t){return Ed(this.renderToVNode({animation:ve((t=t||{}).cssAnimation,!0),emphasis:ve(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:ve(t.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(t,e,r){for(var s,l,i=t.length,a=[],o=0,u=0,c=0;c<i;c++){var h=t[c];if(!h.invisible){var f=h.__clipPaths,v=f&&f.length||0,p=l&&l.length||0,g=void 0;for(g=Math.max(v-1,p-1);g>=0&&(!f||!l||f[g]!==l[g]);g--);for(var m=p-1;m>g;m--)s=a[--o-1];for(var y=g+1;y<v;y++){var _={};RV(f[y],_,e);var S=vt("g","clip-g-"+u++,_,[]);(s?s.children:r).push(S),a[o++]=S,s=S}l=f;var x=$w(h,e);x&&(s?s.children:r).push(x)}}},n.prototype.resize=function(t,e){var r=this._opts,i=this.root,a=this._viewport;if(null!=t&&(r.width=t),null!=e&&(r.height=e),i&&a&&(a.style.display="none",t=Fo(i,0,r),e=Fo(i,1,r),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var o=a.style;o.width=t+"px",o.height=e+"px"}if(uv(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(t){var e=this.renderToString(),r="data:image/svg+xml;";return t?(e=PL(e))&&r+"base64,"+e:r+"charset=UTF-8,"+encodeURIComponent(e)},n}();const WV=GV;function wl(n){return null==n?0:n.length||1}function iC(n){return n}var ZV=function(){function n(t,e,r,i,a,o){this._old=t,this._new=e,this._oldKeyGetter=r||iC,this._newKeyGetter=i||iC,this.context=a,this._diffModeMultiple="multiple"===o}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,r={},i=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=i[o],l=r[s],u=wl(l);if(u>1){var c=l.shift();1===l.length&&(r[s]=l[0]),this._update&&this._update(c,o)}else 1===u?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var e=this._new,r={},i={},a=[],o=[];this._initIndexMap(this._old,r,a,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=r[l],c=i[l],h=wl(u),f=wl(c);if(h>1&&1===f)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(1===h&&f>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(1===h&&1===f)this._update&&this._update(c,u),i[l]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(h>1)for(var v=0;v<h;v++)this._remove&&this._remove(u[v]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},n.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var i=t[r],a=e[i],o=wl(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else 1===o&&this._add&&this._add(a);e[i]=null}},n.prototype._initIndexMap=function(t,e,r,i){for(var a=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[i](t[o],o);if(a||(r[o]=s),e){var l=e[s],u=wl(l);0===u?(e[s]=o,a&&r.push(s)):1===u?e[s]=[l,o]:l.push(o)}}},n}();const kr=ZV;var UV=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function Zd(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function uh(n){return"category"===n?"ordinal":"time"===n?"time":"float"}const ch=function(t){this.otherDims={},null!=t&&V(this,t)};var JV=Ce(),qV={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},aC=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=lC(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return ve(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Q1(this.source),r=!uC(t),i="",a=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,h=this.dimensions[s];if(h&&h.storeDimIndex===o)l=e?h.name:null,u=h.type,c=h.ordinalMeta,s++;else{var f=this.getSourceDimension(o);f&&(l=e?f.name:null,u=f.type)}a.push({property:l,type:u,ordinalMeta:c}),e&&null!=l&&(!h||!h.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=qV[u]||"f",c&&(i+=c.uid),i+="$"}var v=this.source;return{dimensions:a,hash:[v.seriesLayoutBy,v.startIndex,i].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,r=0;e<this._fullDimCount;e++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(i=a.name),r++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function oC(n){return n instanceof aC}function sC(n){for(var t=Q(),e=0;e<(n||[]).length;e++){var r=n[e],i=oe(r)?r.name:r;null!=i&&null==t.get(i)&&t.set(i,e)}return t}function lC(n){var t=JV(n);return t.dimNameMap||(t.dimNameMap=sC(n.dimensionsDefine))}function uC(n){return n>30}var hC,hh,Tl,zl,Ud,Dl,$d,Cl=oe,pi=G,jV="undefined"==typeof Int32Array?Array:Int32Array,eF=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],tF=["_approximateExtent"],nF=function(){function n(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,i=!1;oC(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,r=t),r=r||["x","y"];for(var a={},o=[],s={},l=!1,u={},c=0;c<r.length;c++){var h=r[c],f=U(h)?new ch({name:h}):h instanceof ch?h:new ch(h),v=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=v,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};o.push(v),a[v]=f,null!=u[v]&&(l=!0),f.createInvertedIndices&&(s[v]=[]),0===p.itemName&&(this._nameDimIdx=c),0===p.itemId&&(this._idDimIdx=c),i&&(f.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=Q();D(o,function(m){g.set(a[m].storeDimIndex,m)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var r=this._dimIdxToName.get(e);if(null!=r)return r;var i=this._schema.getSourceDimension(e);return i?i.name:void 0},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(De(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(r){return e.hasOwnProperty(r)?e[r]:void 0}:function(r){return e[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var r=this._dimSummary;if(null==e)return r.encodeFirstDimNotExtra[t];var i=r.encode[t];return i?i[e]:null},n.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,r){var a,i=this;if(t instanceof Wp&&(a=t),!a){var o=this.dimensions,s=Np(t)||zt(t)?new j1(t,o.length):t;a=new Wp;var l=pi(o,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(s,l,r)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=function(n,t){var e={},r=e.encode={},i=Q(),a=[],o=[],s={};D(n.dimensions,function(f){var v=n.getDimensionInfo(f),p=v.coordDim;if(p){var g=v.coordDimIndex;Zd(r,p)[g]=f,v.isExtraCoord||(i.set(p,1),function(n){return!("ordinal"===n||"time"===n)}(v.type)&&(a[0]=f),Zd(s,p)[g]=n.getDimensionIndex(v.name)),v.defaultTooltip&&o.push(f)}b1.each(function(m,y){var _=Zd(r,y),S=v.otherDims[y];null!=S&&!1!==S&&(_[S]=v.name)})});var l=[],u={};i.each(function(f,v){var p=r[v];u[v]=p[0],l=l.concat(p)}),e.dataDimsOnCoord=l,e.dataDimIndicesOnCoord=G(l,function(f){return n.getDimensionInfo(f).storeDimIndex}),e.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(a=c.slice());var h=r.tooltip;return h&&h.length?o=h.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,e.userOutput=new UV(s,t),e}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var r=this._store.appendValues(t,e&&e.length),i=r.start,a=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=i;s<a;s++)this._nameList[s]=e[s-i],o&&$d(this,s)},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,r=0;r<e.length;r++){var i=this._dimInfos[e[r]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==Rr&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList;if(i.getSource().sourceFormat===yn&&!i.pure)for(var u=[],c=t;c<e;c++){var h=i.getItem(c,u);if(!this.hasItemOption&&vO(h)&&(this.hasItemOption=!0),h){var f=h.name;null==a[c]&&null!=f&&(a[c]=st(f,null));var v=h.id;null==o[c]&&null!=v&&(o[c]=st(v,null))}}if(this._shouldMakeIdFromName())for(c=t;c<e;c++)$d(this,c);hC(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){Cl(t)?V(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),r=this._nameList[e];return null==r&&null!=this._nameDimIdx&&(r=Tl(this,this._nameDimIdx,e)),null==r&&(r=""),r},n.prototype._getCategory=function(t,e){var r=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[r]:r},n.prototype.getId=function(t){return hh(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var i=this._dimInfos[t];if(i)return this._store.get(i.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var i=this._dimInfos[t];if(i)return this._store.getByRawIndex(i.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var r=this,i=this._store;return F(t)?i.getValues(pi(t,function(a){return r._getStoreDimIndex(a)}),e):i.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,r=0,i=e.length;r<i;r++)if(isNaN(this._store.get(e[r],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,r=this._store.count();e<r;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var r=t&&this._invertedIndicesMap[t],i=r&&r[e];return null==i||isNaN(i)?-1:i},n.prototype.indicesOfNearest=function(t,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,r)},n.prototype.each=function(t,e,r){ee(t)&&(r=e,e=t,t=[]);var i=r||this,a=pi(zl(t),this._getStoreDimIndex,this);this._store.each(a,i?$(e,i):e)},n.prototype.filterSelf=function(t,e,r){ee(t)&&(r=e,e=t,t=[]);var i=r||this,a=pi(zl(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?$(e,i):e),this},n.prototype.selectRange=function(t){var e=this,r={},i=we(t),a=[];return D(i,function(o){var s=e._getStoreDimIndex(o);r[s]=t[o],a.push(s)}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(t,e,r){ee(t)&&(r=e,e=t,t=[]);var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},r=r||this),i},n.prototype.map=function(t,e,r,i){var a=r||i||this,o=pi(zl(t),this._getStoreDimIndex,this),s=Dl(this);return s._store=this._store.map(o,a?$(e,a):e),s},n.prototype.modify=function(t,e,r,i){var o=r||i||this,s=pi(zl(t),this._getStoreDimIndex,this);this._store.modify(s,o?$(e,o):e)},n.prototype.downSample=function(t,e,r,i){var a=Dl(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,r,i),a},n.prototype.minmaxDownSample=function(t,e){var r=Dl(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),r},n.prototype.lttbDownSample=function(t,e){var r=Dl(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),r},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,r=this.getRawDataItem(t);return new Ge(r,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new kr(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return hh(t,r)},function(r){return hh(e,r)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},Cl(t)?V(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var r=this._itemVisuals[t],i=r&&r[e];return null==i?this.getVisual(e):i},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var r=this._itemVisuals,i=r[t];i||(i=r[t]={});var a=i[e];return null==a&&(F(a=this.getVisual(e))?a=a.slice():Cl(a)&&(a=V({},a)),i[e]=a),a},n.prototype.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Cl(e)?V(i,e):i[e]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){Cl(t)?V(this._layout,t):this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?V(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){tp(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){D(this._graphicEls,function(r,i){r&&t&&t.call(e,r,i)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:pi(this.dimensions,this._getDimInfo,this),this.hostModel)),Ud(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var r=this[t];!ee(r)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=r.apply(this,arguments);return e.apply(this,[i].concat(Lf(arguments)))})},n.internalField=(hC=function(t){var e=t._invertedIndicesMap;D(e,function(r,i){var a=t._dimInfos[i],o=a.ordinalMeta,s=t._store;if(o){r=e[i]=new jV(o.categories.length);for(var l=0;l<r.length;l++)r[l]=-1;for(l=0;l<s.count();l++)r[s.get(a.storeDimIndex,l)]=l}})},Tl=function(t,e,r){return st(t._getCategory(e,r),null)},hh=function(t,e){var r=t._idList[e];return null==r&&null!=t._idDimIdx&&(r=Tl(t,t._idDimIdx,e)),null==r&&(r="e\0\0"+e),r},zl=function(t){return F(t)||(t=null!=t?[t]:[]),t},Dl=function(t){var e=new n(t._schema?t._schema:pi(t.dimensions,t._getDimInfo,t),t.hostModel);return Ud(e,t),e},Ud=function(t,e){D(eF.concat(e.__wrappedMethods||[]),function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t.__wrappedMethods=e.__wrappedMethods,D(tF,function(r){t[r]=se(e[r])}),t._calculationInfo=V({},e._calculationInfo)},void($d=function(t,e){var r=t._nameList,i=t._idList,a=t._nameDimIdx,o=t._idDimIdx,s=r[e],l=i[e];if(null==s&&null!=a&&(r[e]=s=Tl(t,a,e)),null==l&&null!=o&&(i[e]=l=Tl(t,o,e)),null==l&&null!=s){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),i[e]=l}})),n}();const Ft=nF;function Yo(n,t){Np(n)||(n=Ep(n));var e=(t=t||{}).coordDimensions||[],r=t.dimensionsDefine||n.dimensionsDefine||[],i=Q(),a=[],o=function(n,t,e,r){var i=Math.max(n.dimensionsDetectedCount||1,t.length,e.length,r||0);return D(t,function(a){var o;oe(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}(n,e,r,t.dimensionsCount),s=t.canOmitUnusedDimensions&&uC(o),l=r===n.dimensionsDefine,u=l?lC(n):sC(r),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(n,o));for(var h=Q(c),f=new fx(o),v=0;v<f.length;v++)f[v]=-1;function p(z){var M=f[z];if(M<0){var A=r[z],I=oe(A)?A:{name:A},P=new ch,L=I.name;return null!=L&&null!=u.get(L)&&(P.name=P.displayName=L),null!=I.type&&(P.type=I.type),null!=I.displayName&&(P.displayName=I.displayName),f[z]=a.length,P.storeDimIndex=z,a.push(P),P}return a[M]}if(!s)for(v=0;v<o;v++)p(v);h.each(function(z,M){var A=ke(z).slice();if(1===A.length&&!U(A[0])&&A[0]<0)h.set(M,!1);else{var I=h.set(M,[]);D(A,function(P,L){var O=U(P)?u.get(P):P;null!=O&&O<o&&(I[L]=O,m(p(O),M,L))})}});var g=0;function m(z,M,A){null!=b1.get(M)?z.otherDims[M]=A:(z.coordDim=M,z.coordDimIndex=A,i.set(M,!0))}D(e,function(z){var M,A,I,P;if(U(z))M=z,P={};else{M=(P=z).name;var L=P.ordinalMeta;P.ordinalMeta=null,(P=V({},P)).ordinalMeta=L,A=P.dimsDef,I=P.otherDims,P.name=P.coordDim=P.coordDimIndex=P.dimsDef=P.otherDims=null}var O=h.get(M);if(!1!==O){if(!(O=ke(O)).length)for(var R=0;R<(A&&A.length||1);R++){for(;g<o&&null!=p(g).coordDim;)g++;g<o&&O.push(g++)}D(O,function(k,N){var B=p(k);if(l&&null!=P.type&&(B.type=P.type),m(re(B,P),M,N),null==B.name&&A){var H=A[N];!oe(H)&&(H={name:H}),B.name=B.displayName=H.name,B.defaultTooltip=H.defaultTooltip}I&&re(B.otherDims,I)})}});var y=t.generateCoord,_=t.generateCoordCount,S=null!=_;_=y?_||1:0;var x=y||"value";function b(z){null==z.name&&(z.name=z.coordDim)}if(s)D(a,function(z){b(z)}),a.sort(function(z,M){return z.storeDimIndex-M.storeDimIndex});else for(var w=0;w<o;w++){var C=p(w);null==C.coordDim&&(C.coordDim=aF(x,i,S),C.coordDimIndex=0,(!y||_<=0)&&(C.isExtraCoord=!0),_--),b(C),null==C.type&&(1===z1(n,w)||C.isExtraCoord&&(null!=C.otherDims.itemName||null!=C.otherDims.seriesName))&&(C.type="ordinal")}return function(n){for(var t=Q(),e=0;e<n.length;e++){var r=n[e],i=r.name,a=t.get(i)||0;a>0&&(r.name=i+(a-1)),a++,t.set(i,a)}}(a),new aC({source:n,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function aF(n,t,e){if(e||t.hasKey(n)){for(var r=0;t.hasKey(n+r);)r++;n+=r}return t.set(n,!0),n}var oF=function(t){this.coordSysDims=[],this.axisMap=Q(),this.categoryAxisMap=Q(),this.coordSysName=t},lF={cartesian2d:function(n,t,e,r){var i=n.getReferringComponents("xAxis",it).models[0],a=n.getReferringComponents("yAxis",it).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),Zo(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),Zo(a)&&(r.set("y",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,r){var i=n.getReferringComponents("singleAxis",it).models[0];t.coordSysDims=["single"],e.set("single",i),Zo(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(n,t,e,r){var i=n.getReferringComponents("polar",it).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",o),Zo(a)&&(r.set("radius",a),t.firstCategoryDimIndex=0),Zo(o)&&(r.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,r){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,r){var i=n.ecModel,a=i.getComponent("parallel",n.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();D(a.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),c=o[l];e.set(c,u),Zo(u)&&(r.set(c,u),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=l))})}};function Zo(n){return"category"===n.get("type")}function di(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function fC(n,t){return di(n,t)?n.getCalculationInfo("stackResultDimension"):t}const Er=function(n,t,e){e=e||{};var i,r=t.getSourceManager(),a=!1;n?(a=!0,i=Ep(n)):a=(i=r.getSource()).sourceFormat===yn;var o=function(n){var t=n.get("coordinateSystem"),e=new oF(t),r=lF[t];if(r)return r(n,e,e.axisMap,e.categoryAxisMap),e}(t),s=function(n,t){var i,e=n.get("coordinateSystem"),r=js.get(e);return t&&t.coordSysDims&&(i=G(t.coordSysDims,function(a){var o={name:a},s=t.axisMap.get(a);if(s){var l=s.get("type");o.type=uh(l)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}(t,o),l=e.useEncodeDefaulter,u=ee(l)?l:l?pe(T1,s,t):null,h=Yo(i,{coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a}),f=function(n,t,e){var r,i;return e&&D(n,function(a,o){var l=e.categoryAxisMap.get(a.coordDim);l&&(null==r&&(r=o),a.ordinalMeta=l.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(i=!0)}),!i&&null!=r&&(n[r].otherDims.itemName=0),r}(h.dimensions,e.createInvertedIndices,o),v=a?null:r.getSharedDataStore(h),p=function(n,t,e){var a,o,s,r=(e=e||{}).byIndex,i=e.stackedCoordDimension;!function(n){return!oC(n.schema)}(t)?(a=(o=t.schema).dimensions,s=t.store):a=t;var u,c,h,f,l=!(!n||!n.get("stack"));if(D(a,function(_,S){U(_)&&(a[S]=_={name:_}),l&&!_.isExtraCoord&&(!r&&!u&&_.ordinalMeta&&(u=_),!c&&"ordinal"!==_.type&&"time"!==_.type&&(!i||i===_.coordDim)&&(c=_))}),c&&!r&&!u&&(r=!0),c){h="__\0ecstackresult_"+n.id,f="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var v=c.coordDim,p=c.type,g=0;D(a,function(_){_.coordDim===v&&g++});var m={name:h,coordDim:v,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:f,coordDim:f,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(f,p),y.storeDimIndex=s.ensureCalculationDimension(h,p)),o.appendCalculationDimension(m),o.appendCalculationDimension(y)):(a.push(m),a.push(y))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:f,stackResultDimension:h}}(t,{schema:h,store:v}),g=new Ft(h,t);g.setCalculationInfo(p);var m=null!=f&&function(n){if(n.sourceFormat===yn){var t=function(n){for(var t=0;t<n.length&&null==n[t];)t++;return n[t]}(n.data||[]);return!F(vo(t))}}(i)?function(y,_,S,x){return x===f?S:this.defaultDimValueGetter(y,_,S,x)}:null;return g.hasItemOption=!1,g.initData(a?i:v,null,m),g};var gF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return E(t,n),t.prototype.getInitialData=function(e){return Er(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var r=new ue,i=ot("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);r.add(i),i.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s="none"===a?"circle":a,l=.8*e.itemHeight,u=ot(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);return r.add(u),u.setStyle(e.itemStyle),u.rotation=("inherit"===e.iconRotate?o:e.iconRotate||0)*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}($e);const mF=gF;function Uo(n,t){var e=n.mapDimensionsAll("defaultedLabel"),r=e.length;if(1===r){var i=Io(n,t,e[0]);return null!=i?i+"":null}if(r){for(var a=[],o=0;o<e.length;o++)a.push(Io(n,t,e[o]));return a.join(" ")}}function vC(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!F(t))return t+"";for(var r=[],i=0;i<e.length;i++){var a=n.getDimensionIndex(e[i]);a>=0&&r.push(t[a])}return r.join(" ")}var yF=function(n){function t(e,r,i,a){var o=n.call(this)||this;return o.updateData(e,r,i,a),o}return E(t,n),t.prototype._createSymbol=function(e,r,i,a,o){this.removeAll();var s=ot(e,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=_F,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Lr(this.childAt(0))},t.prototype.downplay=function(){Or(this.childAt(0))},t.prototype.setZ=function(e,r){var i=this.childAt(0);i.zlevel=e,i.z=r},t.prototype.setDraggable=function(e,r){var i=this.childAt(0);i.draggable=e,i.cursor=!r&&e?"move":i.cursor},t.prototype.updateData=function(e,r,i,a){this.silent=!1;var o=e.getItemVisual(r,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,r),u=o!==this._symbolType,c=a&&a.disableAnimation;if(u){var h=e.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,e,r,l,h)}else{(f=this.childAt(0)).silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};c?f.attr(v):Ie(f,v,s,r),Nn(f)}if(this._updateCommon(e,r,l,i,a),u){var f=this.childAt(0);c||(v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}},f.scaleX=f.scaleY=0,f.style.opacity=0,Ue(f,v,s,r))}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,r,i,a,o){var u,c,h,f,v,p,g,m,y,s=this.childAt(0),l=e.hostModel;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,h=a.selectItemStyle,f=a.focus,v=a.blurScope,g=a.labelStatesModels,m=a.hoverScale,y=a.cursorStyle,p=a.emphasisDisabled),!a||e.hasItemOption){var _=a&&a.itemModel?a.itemModel:e.getItemModel(r),S=_.getModel("emphasis");u=S.getModel("itemStyle").getItemStyle(),h=_.getModel(["select","itemStyle"]).getItemStyle(),c=_.getModel(["blur","itemStyle"]).getItemStyle(),f=S.get("focus"),v=S.get("blurScope"),p=S.get("disabled"),g=ht(_),m=S.getShallow("scale"),y=_.getShallow("cursor")}var x=e.getItemVisual(r,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var b=xa(e.getItemVisual(r,"symbolOffset"),i);b&&(s.x=b[0],s.y=b[1]),y&&s.attr("cursor",y);var w=e.getItemVisual(r,"style"),C=w.fill;if(s instanceof St){var T=s.style;s.useStyle(V({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},w))}else s.useStyle(s.__isEmptyBrush?V({},w):w),s.style.decal=null,s.setColor(C,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var z=e.getItemVisual(r,"liftZ"),M=this._z2;null!=z?null==M&&(this._z2=s.z2,s.z2+=z):null!=M&&(s.z2=M,this._z2=null);var A=o&&o.useNameLabel;bt(s,g,{labelFetcher:l,labelDataIndex:r,defaultText:function(O){return A?e.getName(O):Uo(e,O)},inheritColor:C,defaultOpacity:w.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var P=s.ensureState("emphasis");P.style=u,s.ensureState("select").style=h,s.ensureState("blur").style=c;var L=null==m||!0===m?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;P.scaleX=this._sizeX*L,P.scaleY=this._sizeY*L,this.setSymbolScale(1),Je(this,f,v,p)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,r,i){var a=this.childAt(0),o=ce(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&ai(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();ai(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,r){return Vo(e.getItemVisual(r,"symbolSize"))},t}(ue);function _F(n,t){this.parent.drift(n,t)}const Ml=yF;function Xd(n,t,e,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(e))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(e,"symbol")}function pC(n){return null!=n&&!oe(n)&&(n={isIgnore:n}),n||{}}function dC(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:ht(t),cursorStyle:t.get("cursor")}}var SF=function(){function n(t){this.group=new ue,this._SymbolCtor=t||Ml}return n.prototype.updateData=function(t,e){this._progressiveEls=null,e=pC(e);var r=this.group,i=t.hostModel,a=this._data,o=this._SymbolCtor,s=e.disableAnimation,l=dC(t),u={disableAnimation:s},c=e.getSymbolPoint||function(h){return t.getItemLayout(h)};a||r.removeAll(),t.diff(a).add(function(h){var f=c(h);if(Xd(t,f,h,e)){var v=new o(t,h,l,u);v.setPosition(f),t.setItemGraphicEl(h,v),r.add(v)}}).update(function(h,f){var v=a.getItemGraphicEl(f),p=c(h);if(Xd(t,p,h,e)){var g=t.getItemVisual(h,"symbol")||"circle",m=v&&v.getSymbolType&&v.getSymbolType();if(!v||m&&m!==g)r.remove(v),(v=new o(t,h,l,u)).setPosition(p);else{v.updateData(t,h,l,u);var y={x:p[0],y:p[1]};s?v.attr(y):Ie(v,y,i)}r.add(v),t.setItemGraphicEl(h,v)}else r.remove(v)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&f.fadeOut(function(){r.remove(f)},i)}).execute(),this._getSymbolPoint=c,this._data=t},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(r,i){var a=t._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=dC(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,r){function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],r=pC(r);for(var a=t.start;a<t.end;a++){var o=e.getItemLayout(a);if(Xd(e,o,a,r)){var s=new this._SymbolCtor(e,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(t){fi(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var e=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},r.hostModel)}):e.removeAll()},n}();const Al=SF;function gC(n,t,e){var r=n.getBaseAxis(),i=n.getOtherAxis(r),a=function(n,t){var e=0,r=n.scale.getExtent();return"start"===t?e=r[0]:"end"===t?e=r[1]:De(t)&&!isNaN(t)?e=t:r[0]>0?e=r[0]:r[1]<0&&(e=r[1]),e}(i,e),o=r.dim,s=i.dim,l=t.mapDimension(s),u=t.mapDimension(o),c="x"===s||"radius"===s?1:0,h=G(n.dimensions,function(p){return t.mapDimension(p)}),f=!1,v=t.getCalculationInfo("stackResultDimension");return di(t,h[0])&&(f=!0,h[0]=v),di(t,h[1])&&(f=!0,h[1]=v),{dataDimsForPoint:h,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function mC(n,t,e,r){var i=NaN;n.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=n.valueStart);var a=n.baseDataOffset,o=[];return o[a]=e.get(n.baseDim,r),o[1-a]=i,t.dataToPoint(o)}var yC="undefined"!=typeof Float32Array,bF=yC?Float32Array:Array;function gr(n){return F(n)?yC?new Float32Array(n):n:new bF(n)}var gi=Math.min,mi=Math.max;function Pa(n,t){return isNaN(n)||isNaN(t)}function Qd(n,t,e,r,i,a,o,s,l){for(var u,c,h,f,v,p,g=e,m=0;m<r;m++){var y=t[2*g],_=t[2*g+1];if(g>=i||g<0)break;if(Pa(y,_)){if(l){g+=a;continue}break}if(g===e)n[a>0?"moveTo":"lineTo"](y,_),h=y,f=_;else{var S=y-u,x=_-c;if(S*S+x*x<.5){g+=a;continue}if(o>0){for(var b=g+a,w=t[2*b],C=t[2*b+1];w===y&&C===_&&m<r;)m++,w=t[2*(b+=a)],C=t[2*b+1],S=(y=t[2*(g+=a)])-u,x=(_=t[2*g+1])-c;var T=m+1;if(l)for(;Pa(w,C)&&T<r;)T++,w=t[2*(b+=a)],C=t[2*b+1];var z=.5,M=0,A=0,I=void 0,P=void 0;if(T>=r||Pa(w,C))v=y,p=_;else{M=w-u,A=C-c;var L=y-u,O=w-y,R=_-c,k=C-_,N=void 0,B=void 0;if("x"===s){var H=M>0?1:-1;v=y-H*(N=Math.abs(L))*o,p=_,I=y+H*(B=Math.abs(O))*o,P=_}else if("y"===s){var W=A>0?1:-1;v=y,p=_-W*(N=Math.abs(R))*o,I=y,P=_+W*(B=Math.abs(k))*o}else N=Math.sqrt(L*L+R*R),v=y-M*o*(1-(z=(B=Math.sqrt(O*O+k*k))/(B+N))),p=_-A*o*(1-z),P=_+A*o*z,I=gi(I=y+M*o*z,mi(w,y)),P=gi(P,mi(C,_)),I=mi(I,gi(w,y)),p=_-(A=(P=mi(P,gi(C,_)))-_)*N/B,v=gi(v=y-(M=I-y)*N/B,mi(u,y)),p=gi(p,mi(c,_)),I=y+(M=y-(v=mi(v,gi(u,y))))*B/N,P=_+(A=_-(p=mi(p,gi(c,_))))*B/N}n.bezierCurveTo(h,f,v,p,y,_),h=I,f=P}else n.lineTo(y,_)}u=y,c=_,g+=a}return m}var _C=function(){this.smooth=0,this.smoothConstraint=!0},TF=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-polyline",r}return E(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new _C},t.prototype.buildPath=function(e,r){var i=r.points,a=0,o=i.length/2;if(r.connectNulls){for(;o>0&&Pa(i[2*o-2],i[2*o-1]);o--);for(;a<o&&Pa(i[2*a],i[2*a+1]);a++);}for(;a<o;)a+=Qd(e,i,a,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(e,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s,l,a=this.path.data,o=lr.CMD,u="x"===r,c=[],h=0;h<a.length;){var v=void 0,p=void 0,g=void 0,m=void 0,y=void 0,_=void 0,S=void 0;switch(a[h++]){case o.M:s=a[h++],l=a[h++];break;case o.L:if(v=a[h++],p=a[h++],(S=u?(e-s)/(v-s):(e-l)/(p-l))<=1&&S>=0){var x=u?(p-l)*S+l:(v-s)*S+s;return u?[e,x]:[x,e]}s=v,l=p;break;case o.C:v=a[h++],p=a[h++],g=a[h++],m=a[h++],y=a[h++],_=a[h++];var b=u?Lu(s,v,g,y,e,c):Lu(l,p,m,_,e,c);if(b>0)for(var w=0;w<b;w++){var C=c[w];if(C<=1&&C>=0)return x=u?ct(l,p,m,_,C):ct(s,v,g,y,C),u?[e,x]:[x,e]}s=y,l=_}}},t}(be),zF=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t}(_C),SC=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-polygon",r}return E(t,n),t.prototype.getDefaultShape=function(){return new zF},t.prototype.buildPath=function(e,r){var i=r.points,a=r.stackedOnPoints,o=0,s=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&Pa(i[2*s-2],i[2*s-1]);s--);for(;o<s&&Pa(i[2*o],i[2*o+1]);o++);}for(;o<s;){var u=Qd(e,i,o,s,s,1,r.smooth,l,r.connectNulls);Qd(e,a,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,e.closePath()}},t}(be);function xC(n,t,e,r,i){var a=n.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,c=e.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var h=new Te({shape:{x:o,y:s,width:l,height:u}});if(t){var f=n.getBaseAxis(),v=f.isHorizontal(),p=f.inverse;v?(p&&(h.shape.x+=l),h.shape.width=0):(p||(h.shape.y+=u),h.shape.height=0);var g=ee(i)?function(m){i(m,h)}:null;Ue(h,{shape:{width:l,height:u,x:o,y:s}},e,null,r,g)}return h}function bC(n,t,e){var r=n.getArea(),i=Ke(r.r0,1),a=Ke(r.r,1),o=new Ut({shape:{cx:Ke(n.cx,1),cy:Ke(n.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return t&&("angle"===n.getBaseAxis().dim?o.shape.endAngle=r.startAngle:o.shape.r=i,Ue(o,{shape:{endAngle:r.endAngle,r:a}},e)),o}function Il(n,t,e,r,i){return n?"polar"===n.type?bC(n,t,e):"cartesian2d"===n.type?xC(n,t,e,r,i):null:null}function La(n,t){return n.type===t}function wC(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function CC(n){for(var t=1/0,e=1/0,r=-1/0,i=-1/0,a=0;a<n.length;){var o=n[a++],s=n[a++];isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r)),isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i))}return[[t,e],[r,i]]}function TC(n,t){var e=CC(n),r=e[0],i=e[1],a=CC(t),o=a[0],s=a[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function zC(n){return De(n)?n:n?.5:0}function yi(n,t,e,r,i){var a=e.getBaseAxis(),o="x"===a.dim||"radius"===a.dim?0:1,s=[],l=0,u=[],c=[],h=[],f=[];if(i){for(l=0;l<n.length;l+=2){var v=t||n;!isNaN(v[l])&&!isNaN(v[l+1])&&f.push(n[l],n[l+1])}n=f}for(l=0;l<n.length-2;l+=2)switch(h[0]=n[l+2],h[1]=n[l+3],c[0]=n[l],c[1]=n[l+1],s.push(c[0],c[1]),r){case"end":u[o]=h[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var g=[];u[o]=g[o]=(c[o]+h[o])/2,u[1-o]=c[1-o],g[1-o]=h[1-o],s.push(u[0],u[1]),s.push(g[0],g[1]);break;default:u[o]=c[o],u[1-o]=h[1-o],s.push(u[0],u[1])}return s.push(n[l++],n[l++]),s}function LF(n,t){return isNaN(n)||isNaN(t)}function DC(n,t){return[n[2*t],n[2*t+1]]}function MC(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<Et.length;t++)if(n.get([Et[t],"endLabel","show"]))return!0;return!1}function Jd(n,t,e,r){if(La(t,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=MC(r)?function(v,p){n._endLabelOnDuring(v,p,o,s,a,i,t)}:null,u=t.getBaseAxis().isHorizontal(),c=xC(t,e,r,function(){var v=n._endLabel;v&&e&&null!=s.originalX&&v.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);u?(h.y-=f,h.height+=2*f):(h.x-=f,h.width+=2*f)}return l&&l(1,c),c}return bC(t,e,r)}var kF=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.init=function(){var e=new ue,r=new Al;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=e,this._changePolyState=$(this._changePolyState,this)},t.prototype.render=function(e,r,i){var a=e.coordinateSystem,o=this.group,s=e.getData(),l=e.getModel("lineStyle"),u=e.getModel("areaStyle"),c=s.getLayout("points")||[],h="polar"===a.type,f=this._coordSys,v=this._symbolDraw,p=this._polyline,g=this._polygon,m=this._lineGroup,y=!r.ssr&&e.get("animation"),_=!u.isEmpty(),S=u.get("origin"),x=gC(a,s,S),b=_&&function(n,t,e){if(!e.valueDim)return[];for(var r=t.count(),i=gr(2*r),a=0;a<r;a++){var o=mC(e,n,t,a);i[2*a]=o[0],i[2*a+1]=o[1]}return i}(a,s,x),w=e.get("showSymbol"),C=e.get("connectNulls"),T=w&&!h&&function(n,t,e){var r=n.get("showAllSymbol"),i="auto"===r;if(!r||i){var a=e.getAxesByScale("ordinal")[0];if(a&&(!i||!function(n,t){var e=n.getExtent(),r=Math.abs(e[1]-e[0])/n.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(1.5*Ml.getSymbolSize(t,o)[n.isHorizontal()?1:0]>r)return!1;return!0}(a,t))){var o=t.mapDimension(a.dim),s={};return D(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}(e,s,a),z=this._data;z&&z.eachItemGraphicEl(function(he,Ee){he.__temp&&(o.remove(he),z.setItemGraphicEl(Ee,null))}),w||v.remove(),o.add(m);var A,M=!h&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&(null!=(A=a.getArea()).width?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r+=.5)),this._clipShapeForSymbol=A;var I=function(n,t,e){var r=n.getVisual("visualMeta");if(r&&r.length&&n.count()&&"cartesian2d"===t.type){for(var i,a,o=r.length-1;o>=0;o--){var s=n.getDimensionInfo(r[o].dimension);if("x"===(i=s&&s.coordDim)||"y"===i){a=r[o];break}}if(a){var l=t.getAxis(i),u=G(a.stops,function(S){return{coord:l.toGlobalCoord(l.dataToCoord(S.value)),color:S.color}}),c=u.length,h=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),h.reverse());var f=function(n,t){var i,a,e=[],r=n.length;function o(c,h,f){var v=c.coord,g=function(n,t,e){if(t&&t.length&&n>=0&&n<=1){var r=n*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=Wt(t[i]),s=Wt(t[a]),l=r-i;return er([Ln(Kr(o[0],s[0],l)),Ln(Kr(o[1],s[1],l)),Ln(Kr(o[2],s[2],l)),Cs(Kr(o[3],s[3],l))],"rgba")}}((f-v)/(h.coord-v),[c.color,h.color]);return{coord:f,color:g}}for(var s=0;s<r;s++){var l=n[s],u=l.coord;if(u<0)i=l;else{if(u>t){a?e.push(o(a,l,t)):i&&e.push(o(i,l,0),o(i,l,t));break}i&&(e.push(o(i,l,0)),i=null),e.push(l),a=l}}return e}(u,"x"===i?e.getWidth():e.getHeight()),v=f.length;if(!v&&c)return u[0].coord<0?h[1]?h[1]:u[c-1].color:h[0]?h[0]:u[0].color;var g=f[0].coord-10,m=f[v-1].coord+10,y=m-g;if(y<.001)return"transparent";D(f,function(S){S.offset=(S.coord-g)/y}),f.push({offset:v?f[v-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:v?f[0].offset:.5,color:h[0]||"transparent"});var _=new ol(0,0,0,0,f,!0);return _[i]=g,_[i+"2"]=m,_}}}(s,a,i)||s.getVisual("style")[s.getVisual("drawType")];if(p&&f.type===a.type&&M===this._step){_&&!g?g=this._newPolygon(c,b):g&&!_&&(m.remove(g),g=this._polygon=null),h||this._initOrUpdateEndLabel(e,a,ua(I));var P=m.getClipPath();P?Ue(P,{shape:Jd(this,a,!1,e).shape},e):m.setClipPath(Jd(this,a,!0,e)),w&&v.updateData(s,{isIgnore:T,clipShape:A,disableAnimation:!0,getSymbolPoint:function(he){return[c[2*he],c[2*he+1]]}}),(!wC(this._stackedOnPoints,b)||!wC(this._points,c))&&(y?this._doUpdateAnimation(s,b,a,i,M,S,C):(M&&(b&&(b=yi(b,c,a,M,C)),c=yi(c,null,a,M,C)),p.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:b})))}else w&&v.updateData(s,{isIgnore:T,clipShape:A,disableAnimation:!0,getSymbolPoint:function(he){return[c[2*he],c[2*he+1]]}}),y&&this._initSymbolLabelAnimation(s,a,A),M&&(b&&(b=yi(b,c,a,M,C)),c=yi(c,null,a,M,C)),p=this._newPolyline(c),_?g=this._newPolygon(c,b):g&&(m.remove(g),g=this._polygon=null),h||this._initOrUpdateEndLabel(e,a,ua(I)),m.setClipPath(Jd(this,a,!0,e));var O=e.getModel("emphasis"),R=O.get("focus"),k=O.get("blurScope"),N=O.get("disabled");p.useStyle(re(l.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),xt(p,e,"lineStyle"),p.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(p.getState("emphasis").style.lineWidth=+p.style.lineWidth+1),ce(p).seriesIndex=e.seriesIndex,Je(p,R,k,N);var H=zC(e.get("smooth")),W=e.get("smoothMonotone");if(p.setShape({smooth:H,smoothMonotone:W,connectNulls:C}),g){var Z=s.getCalculationInfo("stackedOnSeries"),K=0;g.useStyle(re(u.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),Z&&(K=zC(Z.get("smooth"))),g.setShape({smooth:H,stackedOnSmooth:K,smoothMonotone:W,connectNulls:C}),xt(g,e,"areaStyle"),ce(g).seriesIndex=e.seriesIndex,Je(g,R,k,N)}var te=this._changePolyState;s.eachItemGraphicEl(function(he){he&&(he.onHoverStateChange=te)}),this._polyline.onHoverStateChange=te,this._data=s,this._coordSys=a,this._stackedOnPoints=b,this._points=c,this._step=M,this._valueOrigin=S,e.get("triggerLineEvent")&&(this.packEventData(e,p),g&&this.packEventData(e,g))},t.prototype.packEventData=function(e,r){ce(r).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,r,i,a){var o=e.getData(),s=$i(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[2*s],h=l[2*s+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=e.get("zlevel")||0,v=e.get("z")||0;(u=new Ml(o,s)).x=c,u.y=h,u.setZ(f,v);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=v,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else He.prototype.highlight.call(this,e,r,i,a)},t.prototype.downplay=function(e,r,i,a){var o=e.getData(),s=$i(o,a);if(this._changePolyState("normal"),null!=s&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else He.prototype.downplay.call(this,e,r,i,a)},t.prototype._changePolyState=function(e){var r=this._polygon;oc(this._polyline,e),r&&oc(r,e)},t.prototype._newPolyline=function(e){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new TF({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(e,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new SC({shape:{points:e,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,r,i){var a,o,s=r.getBaseAxis(),l=s.inverse;"cartesian2d"===r.type?(a=s.isHorizontal(),o=!1):"polar"===r.type&&(a="angle"===s.dim,o=!0);var u=e.hostModel,c=u.get("animationDuration");ee(c)&&(c=c(null));var h=u.get("animationDelay")||0,f=ee(h)?h(null):h;e.eachItemGraphicEl(function(v,p){var g=v;if(g){var y=void 0,_=void 0,S=void 0;if(i)if(o){var x=i,b=r.pointToCoord([v.x,v.y]);a?(y=x.startAngle,_=x.endAngle,S=-b[1]/180*Math.PI):(y=x.r0,_=x.r,S=b[0])}else a?(y=i.x,_=i.x+i.width,S=v.x):(y=i.y+i.height,_=i.y,S=v.y);var C=_===y?0:(S-y)/(_-y);l&&(C=1-C);var T=ee(h)?h(p):c*C+f,z=g.getSymbolPath(),M=z.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:T}),M&&M.animateFrom({style:{opacity:0}},{duration:300,delay:T}),z.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,r,i){var a=e.getModel("endLabel");if(MC(e)){var o=e.getData(),s=this._polyline,l=o.getLayout("points");if(!l)return s.removeTextContent(),void(this._endLabel=null);var u=this._endLabel;u||((u=this._endLabel=new Me({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=function(n){for(var t=n.length/2;t>0&&LF(n[2*t-2],n[2*t-1]);t--);return t-1}(l);c>=0&&(bt(s,ht(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:c,defaultText:function(h,f,v){return null!=v?vC(o,v):Uo(o,h)},enableTextSetter:!0},function(n,t){var e=t.getBaseAxis(),r=e.isHorizontal(),i=e.inverse,a=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:n.get("align")||a,verticalAlign:n.get("verticalAlign")||o}}}(a,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,r,i,a,o,s,l){var u=this._endLabel,c=this._polyline;if(u){e<1&&null==a.originalX&&(a.originalX=u.x,a.originalY=u.y);var h=i.getLayout("points"),f=i.hostModel,v=f.get("connectNulls"),p=s.get("precision"),g=s.get("distance")||0,m=l.getBaseAxis(),y=m.isHorizontal(),_=m.inverse,S=r.shape,x=_?y?S.x:S.y+S.height:y?S.x+S.width:S.y,b=(y?g:0)*(_?-1:1),w=(y?0:-g)*(_?-1:1),C=y?"x":"y",T=function(n,t,e){for(var a,o,r=n.length/2,i="x"===e?0:1,s=0,l=-1,u=0;u<r;u++)if(o=n[2*u+i],!isNaN(o)&&!isNaN(n[2*u+1-i])){if(0===u){a=o;continue}if(a<=t&&o>=t||a>=t&&o<=t){l=u;break}s=u,a=o}return{range:[s,l],t:(t-a)/(o-a)}}(h,x,C),z=T.range,M=z[1]-z[0],A=void 0;if(M>=1){if(M>1&&!v){var I=DC(h,z[0]);u.attr({x:I[0]+b,y:I[1]+w}),o&&(A=f.getRawValue(z[0]))}else{(I=c.getPointOn(x,C))&&u.attr({x:I[0]+b,y:I[1]+w});var P=f.getRawValue(z[0]),L=f.getRawValue(z[1]);o&&(A=X_(i,p,P,L,T.t))}a.lastFrameIndex=z[0]}else{var O=1===e||a.lastFrameIndex>0?z[0]:0;I=DC(h,O),o&&(A=f.getRawValue(O)),u.attr({x:I[0]+b,y:I[1]+w})}if(o){var R=So(u);"function"==typeof R.setLabelText&&R.setLabelText(A)}}},t.prototype._doUpdateAnimation=function(e,r,i,a,o,s,l){var u=this._polyline,c=this._polygon,h=e.hostModel,f=function(n,t,e,r,i,a,o,s){for(var l=function(n,t){var e=[];return t.diff(n).add(function(r){e.push({cmd:"+",idx:r})}).update(function(r,i){e.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){e.push({cmd:"-",idx:r})}).execute(),e}(n,t),u=[],c=[],h=[],f=[],v=[],p=[],g=[],m=gC(i,t,o),y=n.getLayout("points")||[],_=t.getLayout("points")||[],S=0;S<l.length;S++){var x=l[S],b=!0,w=void 0,C=void 0;switch(x.cmd){case"=":var T=y[w=2*x.idx],z=y[w+1],M=_[C=2*x.idx1],A=_[C+1];(isNaN(T)||isNaN(z))&&(T=M,z=A),u.push(T,z),c.push(M,A),h.push(e[w],e[w+1]),f.push(r[C],r[C+1]),g.push(t.getRawIndex(x.idx1));break;case"+":var I=x.idx,P=m.dataDimsForPoint,L=i.dataToPoint([t.get(P[0],I),t.get(P[1],I)]);C=2*I,u.push(L[0],L[1]),c.push(_[C],_[C+1]);var O=mC(m,i,t,I);h.push(O[0],O[1]),f.push(r[C],r[C+1]),g.push(t.getRawIndex(I));break;case"-":b=!1}b&&(v.push(x),p.push(p.length))}p.sort(function(he,Ee){return g[he]-g[Ee]});var R=u.length,k=gr(R),N=gr(R),B=gr(R),H=gr(R),W=[];for(S=0;S<p.length;S++){var Z=p[S],K=2*S,te=2*Z;k[K]=u[te],k[K+1]=u[te+1],N[K]=c[te],N[K+1]=c[te+1],B[K]=h[te],B[K+1]=h[te+1],H[K]=f[te],H[K+1]=f[te+1],W[S]=v[Z]}return{current:k,next:N,stackedOnCurrent:B,stackedOnNext:H,status:W}}(this._data,e,this._stackedOnPoints,r,this._coordSys,0,this._valueOrigin),v=f.current,p=f.stackedOnCurrent,g=f.next,m=f.stackedOnNext;if(o&&(p=yi(f.stackedOnCurrent,f.current,i,o,l),v=yi(f.current,null,i,o,l),m=yi(f.stackedOnNext,f.next,i,o,l),g=yi(f.next,null,i,o,l)),TC(v,g)>3e3||c&&TC(p,m)>3e3)return u.stopAnimation(),u.setShape({points:g}),void(c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:m})));u.shape.__points=f.current,u.shape.points=v;var y={shape:{points:g}};f.current!==v&&(y.shape.__points=f.next),u.stopAnimation(),Ie(u,y,h),c&&(c.setShape({points:v,stackedOnPoints:p}),c.stopAnimation(),Ie(c,{shape:{stackedOnPoints:m}},h),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var _=[],S=f.status,x=0;x<S.length;x++)if("="===S[x].cmd){var w=e.getItemGraphicEl(S[x].idx1);w&&_.push({el:w,ptIdx:x})}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var C=u.shape.__points,T=0;T<_.length;T++){var z=_[T].el,M=2*_[T].ptIdx;z.x=C[M],z.y=C[M+1],z.markRedraw()}})},t.prototype.remove=function(e){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(r.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(He);const EF=kF;function Pl(n,t){return{seriesType:n,plan:Oo(),reset:function(e){var r=e.getData(),i=e.coordinateSystem,o=t||e.pipelineContext.large;if(i){var s=G(i.dimensions,function(v){return r.mapDimension(v)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");di(r,s[0])&&(s[0]=u),di(r,s[1])&&(s[1]=u);var c=r.getStore(),h=r.getDimensionIndex(s[0]),f=r.getDimensionIndex(s[1]);return l&&{progress:function(v,p){for(var m=o&&gr((v.end-v.start)*l),y=[],_=[],S=v.start,x=0;S<v.end;S++){var b=void 0;if(1===l){var w=c.get(h,S);b=i.dataToPoint(w,null,_)}else y[0]=c.get(h,S),y[1]=c.get(f,S),b=i.dataToPoint(y,null,_);o?(m[x++]=b[0],m[x++]=b[1]):p.setItemLayout(S,b.slice())}o&&p.setLayout("points",m)}}}}}}var BF={average:function(n){for(var t=0,e=0,r=0;r<n.length;r++)isNaN(n[r])||(t+=n[r],e++);return 0===e?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},VF=function(n){return Math.round(n.length/2)};function AC(n){return{seriesType:n,reset:function(t,e,r){var i=t.getData(),a=t.get("sampling"),o=t.coordinateSystem,s=i.count();if(s>10&&"cartesian2d"===o.type&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),h=r.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),v=Math.round(s/f);if(isFinite(v)&&v>1){"lttb"===a?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/v)):"minmax"===a&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/v));var p=void 0;U(a)?p=BF[a]:ee(a)&&(p=a),p&&t.setData(i.downSample(i.mapDimension(u.dim),1/v,p,VF))}}}}}var qd="__ec_stack_";function jd(n){return n.get("stack")||qd+n.seriesIndex}function Kd(n){return n.dim+n.index}function IC(n,t){var e=[];return t.eachSeriesByType(n,function(r){NC(r)&&e.push(r)}),e}function PC(n){var t=function(n){var t={};D(n,function(l){var c=l.coordinateSystem.getBaseAxis();if("time"===c.type||"value"===c.type)for(var h=l.getData(),f=c.dim+"_"+c.index,v=h.getDimensionIndex(h.mapDimension(c.dim)),p=h.getStore(),g=0,m=p.count();g<m;++g){var y=p.get(v,g);t[f]?t[f].push(y):t[f]=[y]}});var e={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort(function(l,u){return l-u});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=null===a?s:Math.min(a,s))}e[r]=a}}return e}(n),e=[];return D(n,function(r){var s,a=r.coordinateSystem.getBaseAxis(),o=a.getExtent();if("category"===a.type)s=a.getBandWidth();else if("value"===a.type||"time"===a.type){var u=t[a.dim+"_"+a.index],c=Math.abs(o[1]-o[0]),h=a.scale.getExtent(),f=Math.abs(h[1]-h[0]);s=u?c/f*u:c}else{var v=r.getData();s=Math.abs(o[1]-o[0])/v.count()}var p=Y(r.get("barWidth"),s),g=Y(r.get("barMaxWidth"),s),m=Y(r.get("barMinWidth")||(kC(r)?.5:1),s),y=r.get("barGap"),_=r.get("barCategoryGap");e.push({bandWidth:s,barWidth:p,barMaxWidth:g,barMinWidth:m,barGap:y,barCategoryGap:_,axisKey:Kd(a),stackId:jd(r)})}),LC(e)}function LC(n){var t={};D(n,function(r,i){var a=r.axisKey,o=r.bandWidth,s=t[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[a]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var h=r.barMaxWidth;h&&(l[u].maxWidth=h);var f=r.barMinWidth;f&&(l[u].minWidth=f);var v=r.barGap;null!=v&&(s.gap=v);var p=r.barCategoryGap;null!=p&&(s.categoryGap=p)});var e={};return D(t,function(r,i){e[i]={};var a=r.stacks,o=r.bandWidth,s=r.categoryGap;if(null==s){var l=we(a).length;s=Math.max(35-4*l,15)+"%"}var u=Y(s,o),c=Y(r.gap,1),h=r.remainedWidth,f=r.autoWidthCount,v=(h-u)/(f+(f-1)*c);v=Math.max(v,0),D(a,function(y){var _=y.maxWidth,S=y.minWidth;if(y.width){var x=y.width;_&&(x=Math.min(x,_)),S&&(x=Math.max(x,S)),y.width=x,h-=x+c*x,f--}else x=v,_&&_<x&&(x=Math.min(_,h)),S&&S>x&&(x=S),x!==v&&(y.width=x,h-=x+c*x,f--)}),v=(h-u)/(f+(f-1)*c),v=Math.max(v,0);var g,p=0;D(a,function(y,_){y.width||(y.width=v),g=y,p+=y.width*(1+c)}),g&&(p-=g.width*c);var m=-p/2;D(a,function(y,_){e[i][_]=e[i][_]||{bandWidth:o,offset:m,width:y.width},m+=y.width*(1+c)})}),e}function OC(n,t){var e=IC(n,t),r=PC(e);D(e,function(i){var a=i.getData(),s=i.coordinateSystem.getBaseAxis(),l=jd(i),u=r[Kd(s)][l];a.setLayout({bandWidth:u.bandWidth,offset:u.offset,size:u.width})})}function RC(n){return{seriesType:n,plan:Oo(),reset:function(t){if(NC(t)){var e=t.getData(),r=t.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),o=e.getDimensionIndex(e.mapDimension(a.dim)),s=e.getDimensionIndex(e.mapDimension(i.dim)),l=t.get("showBackground",!0),u=e.mapDimension(a.dim),c=e.getCalculationInfo("stackResultDimension"),h=di(e,u)&&!!e.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),v=function(n,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord("log"===t.type?e>0?e:1:e))}(0,a),p=kC(t),g=t.get("barMinHeight")||0,m=c&&e.getDimensionIndex(c),y=e.getLayout("size"),_=e.getLayout("offset");return{progress:function(S,x){for(var A,b=S.count,w=p&&gr(3*b),C=p&&l&&gr(3*b),T=p&&gr(b),z=r.master.getRect(),M=f?z.width:z.height,I=x.getStore(),P=0;null!=(A=S.next());){var L=I.get(h?m:o,A),O=I.get(s,A),R=v,k=void 0;h&&(k=+L-I.get(o,A));var N=void 0,B=void 0,H=void 0,W=void 0;if(f){var Z=r.dataToPoint([L,O]);h&&(R=r.dataToPoint([k,O])[0]),N=R,B=Z[1]+_,H=Z[0]-R,W=y,Math.abs(H)<g&&(H=(H<0?-1:1)*g)}else Z=r.dataToPoint([O,L]),h&&(R=r.dataToPoint([O,k])[1]),N=Z[0]+_,B=R,H=y,W=Z[1]-R,Math.abs(W)<g&&(W=(W<=0?-1:1)*g);p?(w[P]=N,w[P+1]=B,w[P+2]=f?H:W,C&&(C[P]=f?z.x:N,C[P+1]=f?B:z.y,C[P+2]=M),T[A]=A):x.setItemLayout(A,{x:N,y:B,width:H,height:W}),P+=3}p&&x.setLayout({largePoints:w,largeDataIndices:T,largeBackgroundPoints:C,valueAxisHorizontal:f})}}}}}}function NC(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function kC(n){return n.pipelineContext&&n.pipelineContext.large}var EC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.getInitialData=function(e,r){return Er(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(e),s=a.dataToPoint(o);if(i)D(a.getAxes(),function(f,v){if("category"===f.type&&null!=r){var p=f.getTicksCoords(),g=f.getTickModel().get("alignWithLabel"),m=o[v],y="x1"===r[v]||"y1"===r[v];if(y&&!g&&(m+=1),p.length<2)return;if(2===p.length)return void(s[v]=f.toGlobalCoord(f.getExtent()[y?1:0]));for(var _=void 0,S=void 0,x=1,b=0;b<p.length;b++){var w=p[b].coord,C=b===p.length-1?p[b-1].tickValue+x:p[b].tickValue;if(C===m){S=w;break}if(C<m)_=w;else if(null!=_&&C>m){S=(w+_)/2;break}1===b&&(x=C-p[0].tickValue)}null==S&&(_?_&&(S=p[p.length-1].coord):S=p[0].coord),s[v]=f.toGlobalCoord(S)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),h=a.getBaseAxis().isHorizontal()?0:1;s[h]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}($e);$e.registerClass(EC);const fh=EC;var ZF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.getInitialData=function(){return Er(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,i){return i.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=oi(fh.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(fh);const UF=ZF;var $F=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},XF=function(n){function t(e){var r=n.call(this,e)||this;return r.type="sausage",r}return E(t,n),t.prototype.getDefaultShape=function(){return new $F},t.prototype.buildPath=function(e,r){var i=r.cx,a=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=.5*(s-o),u=o+l,c=r.startAngle,h=r.endAngle,f=r.clockwise,v=2*Math.PI,p=f?h-c<v:c-h<v;p||(c=h-(f?v:-v));var g=Math.cos(c),m=Math.sin(c),y=Math.cos(h),_=Math.sin(h);p?(e.moveTo(g*o+i,m*o+a),e.arc(g*u+i,m*u+a,l,-Math.PI+c,c,!f)):e.moveTo(g*s+i,m*s+a),e.arc(i,a,s,c,h,!f),e.arc(y*u+i,_*u+a,l,h-2*Math.PI,h-Math.PI,!f),0!==o&&e.arc(i,a,o,h,c,f)},t}(be);const vh=XF;function ph(n,t,e){return t*Math.sin(n)*(e?-1:1)}function dh(n,t,e){return t*Math.cos(n)*(e?1:-1)}function Oa(n,t,e){var r=n.get("borderRadius");if(null==r)return e?{cornerRadius:0}:null;F(r)||(r=[r,r,r,r]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:G(r,function(a){return Rn(a,i)})}}var eg=Math.max,tg=Math.min,jF=function(n){function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return E(t,n),t.prototype.render=function(e,r,i,a){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,i):this._renderNormal(e,r,i,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){fi(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(null==this._isLargeDraw||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,i,a){var h,o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.getBaseAxis();"cartesian2d"===u.type?h=c.isHorizontal():"polar"===u.type&&(h="angle"===c.dim);var f=e.isAnimationEnabled()?e:null,v=function(n,t){var e=n.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&"category"===r.type&&"cartesian2d"===t.type)return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}(e,u);v&&this._enableRealtimeSort(v,s,i);var p=e.get("clip",!0)||v,g=function(n,t){var e=n.getArea&&n.getArea();if(La(n,"cartesian2d")){var r=n.getBaseAxis();if("category"!==r.type||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=i,e.width+=2*i):(e.y-=i,e.height+=2*i)}}return e}(u,s);o.removeClipPath();var m=e.get("roundCap",!0),y=e.get("showBackground",!0),_=e.getModel("backgroundStyle"),S=_.get("borderRadius")||0,x=[],b=this._backgroundEls,w=a&&a.isInitSort,C=a&&"changeAxisOrder"===a.type;function T(A){var I=gh[u.type](s,A),P=function(n,t,e){return new("polar"===n.type?Ut:Te)({shape:XC(t,e,n),silent:!0,z2:0})}(u,h,I);return P.useStyle(_.getItemStyle()),P.setShape("cartesian2d"===u.type?"r":"cornerRadius",S),x[A]=P,P}s.diff(l).add(function(A){var I=s.getItemModel(A),P=gh[u.type](s,A,I);if(y&&T(A),s.hasValue(A)&&HC[u.type](P)){var L=!1;p&&(L=BC[u.type](g,P));var O=VC[u.type](e,s,A,P,h,f,c.model,!1,m);v&&(O.forceLabelAnimation=!0),YC(O,s,A,I,P,e,h,"polar"===u.type),w?O.attr({shape:P}):v?FC(v,f,O,P,A,h,!1,!1):Ue(O,{shape:P},e,A),s.setItemGraphicEl(A,O),o.add(O),O.ignore=L}}).update(function(A,I){var P=s.getItemModel(A),L=gh[u.type](s,A,P);if(y){var O=void 0;0===b.length?O=T(I):((O=b[I]).useStyle(_.getItemStyle()),O.setShape("cartesian2d"===u.type?"r":"cornerRadius",S),x[A]=O);var R=gh[u.type](s,A);Ie(O,{shape:XC(h,R,u)},f,A)}var N=l.getItemGraphicEl(I);if(s.hasValue(A)&&HC[u.type](L)){var B=!1;if(p&&(B=BC[u.type](g,L))&&o.remove(N),N?Nn(N):N=VC[u.type](e,s,A,L,h,f,c.model,!!N,m),v&&(N.forceLabelAnimation=!0),C){var H=N.getTextContent();if(H){var W=So(H);null!=W.prevValue&&(W.prevValue=W.value)}}else YC(N,s,A,P,L,e,h,"polar"===u.type);w?N.attr({shape:L}):v?FC(v,f,N,L,A,h,!0,C):Ie(N,{shape:L},e,A,null),s.setItemGraphicEl(A,N),N.ignore=B,o.add(N)}else o.remove(N)}).remove(function(A){var I=l.getItemGraphicEl(A);I&&Us(I,e,A)}).execute();var z=this._backgroundGroup||(this._backgroundGroup=new ue);z.removeAll();for(var M=0;M<x.length;++M)z.add(x[M]);o.add(z),this._backgroundEls=x,this._data=s},t.prototype._renderLarge=function(e,r,i){this._clear(),UC(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),UC(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&Il(e.coordinateSystem,!1,e),i=this.group;r?i.setClipPath(r):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,i){var a=this;if(r.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,i),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,i){var a=[];return e.each(e.mapDimension(r.dim),function(o,s){var l=i(s);a.push({dataIndex:s,mappedValue:l=null==l?NaN:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:G(a,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,i){for(var a=i.scale,o=e.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=e.rawIndexOf(o,a.getRawOrdinalNumber(l)),h=c<0?Number.MIN_VALUE:r(e.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var i=r.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,r,i,a){if(this._isOrderChangedWithinSameData(e,r,i)){var o=this._dataSort(e,i,r);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,r,i){var a=r.baseAxis,o=this._dataSort(e,a,function(s){return e.get(e.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Us(a,e,ce(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(He),BC={cartesian2d:function(n,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=n.x+n.width,a=n.y+n.height,o=eg(t.x,n.x),s=tg(t.x+t.width,i),l=eg(t.y,n.y),u=tg(t.y+t.height,a),c=s<o,h=u<l;return t.x=c&&o>i?s:o,t.y=h&&l>a?u:l,t.width=c?0:s-o,t.height=h?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||h},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var i=tg(t.r,n.r),a=eg(t.r0,n.r0);t.r=i,t.r0=a;var o=i-a<0;return e<0&&(r=t.r,t.r=t.r0,t.r0=r),o}},VC={cartesian2d:function(n,t,e,r,i,a,o,s,l){var u=new Te({shape:V({},r),z2:1});return u.__dataIndex=e,u.name="item",a&&(u.shape[i?"height":"width"]=0),u},polar:function(n,t,e,r,i,a,o,s,l){var u=!i&&l?vh:Ut,c=new u({shape:r,z2:1});c.name="item";var h=WC(i);if(c.calculateTextPosition=function(n,t){var e=(t=t||{}).isRoundCap;return function(r,i,a){var o=i.position;if(!o||o instanceof Array)return Uu(r,i,a);var s=n(o),l=null!=i.distance?i.distance:5,u=this.shape,c=u.cx,h=u.cy,f=u.r,v=u.r0,p=(f+v)/2,g=u.startAngle,m=u.endAngle,y=(g+m)/2,_=e?Math.abs(f-v)/2:0,S=Math.cos,x=Math.sin,b=c+f*S(g),w=h+f*x(g),C="left",T="top";switch(s){case"startArc":b=c+(v-l)*S(y),w=h+(v-l)*x(y),C="center",T="top";break;case"insideStartArc":b=c+(v+l)*S(y),w=h+(v+l)*x(y),C="center",T="bottom";break;case"startAngle":b=c+p*S(g)+ph(g,l+_,!1),w=h+p*x(g)+dh(g,l+_,!1),C="right",T="middle";break;case"insideStartAngle":b=c+p*S(g)+ph(g,-l+_,!1),w=h+p*x(g)+dh(g,-l+_,!1),C="left",T="middle";break;case"middle":b=c+p*S(y),w=h+p*x(y),C="center",T="middle";break;case"endArc":b=c+(f+l)*S(y),w=h+(f+l)*x(y),C="center",T="bottom";break;case"insideEndArc":b=c+(f-l)*S(y),w=h+(f-l)*x(y),C="center",T="top";break;case"endAngle":b=c+p*S(m)+ph(m,l+_,!0),w=h+p*x(m)+dh(m,l+_,!0),C="left",T="middle";break;case"insideEndAngle":b=c+p*S(m)+ph(m,-l+_,!0),w=h+p*x(m)+dh(m,-l+_,!0),C="right",T="middle";break;default:return Uu(r,i,a)}return(r=r||{}).x=b,r.y=w,r.align=C,r.verticalAlign=T,r}}(h,{isRoundCap:u===vh}),a){var v=i?"r":"endAngle",p={};c.shape[v]=i?r.r0:r.startAngle,p[v]=r[v],(s?Ie:Ue)(c,{shape:p},a)}return c}};function FC(n,t,e,r,i,a,o,s){var l,u;a?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Ie:Ue)(e,{shape:l},t,i,null),(o?Ie:Ue)(e,{shape:u},t?n.baseAxis.model:null,i)}function GC(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var e3=["x","y","width","height"],t3=["cx","cy","r","startAngle","endAngle"],HC={cartesian2d:function(n){return!GC(n,e3)},polar:function(n){return!GC(n,t3)}},gh={cartesian2d:function(n,t,e){var r=n.getItemLayout(t),i=e?function(n,t){var e=n.get(["itemStyle","borderColor"]);if(!e||"none"===e)return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,a)}(e,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(n,t,e){var r=n.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function WC(n){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(n)}function YC(n,t,e,r,i,a,o,s){var l=t.getItemVisual(e,"style");if(s){if(!a.get("roundCap")){var c=n.shape;V(c,Oa(r.getModel("itemStyle"),c,!0)),n.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",u)}n.useStyle(l);var f=r.getShallow("cursor");f&&n.attr("cursor",f);var v=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=ht(r);bt(n,p,{labelFetcher:a,labelDataIndex:e,defaultText:Uo(a.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:v});var g=n.getTextContent();if(s&&g){var m=r.get(["label","position"]);n.textConfig.inside="middle"===m||null,function(n,t,e,r){if(De(r))n.setTextConfig({rotation:r});else if(F(t))n.setTextConfig({rotation:0});else{var l,i=n.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:return void n.setTextConfig({rotation:0})}var c=1.5*Math.PI-l;"middle"===u&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),n.setTextConfig({rotation:c})}}(n,"outside"===m?v:m,WC(o),r.get(["label","rotate"]))}qS(g,p,a.getRawValue(e),function(_){return vC(t,_)});var y=r.getModel(["emphasis"]);Je(n,y.get("focus"),y.get("blurScope"),y.get("disabled")),xt(n,r),function(n){return null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle}(i)&&(n.style.fill="none",n.style.stroke="none",D(n.states,function(_){_.style&&(_.style.fill=_.style.stroke="none")}))}var i3=function(){},ZC=function(n){function t(e){var r=n.call(this,e)||this;return r.type="largeBar",r}return E(t,n),t.prototype.getDefaultShape=function(){return new i3},t.prototype.buildPath=function(e,r){for(var i=r.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],e.rect(s[0],s[1],l[0],l[1])},t}(be);function UC(n,t,e,r){var i=n.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=n.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new ZC({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),e&&e.push(c)}var h=new ZC({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=o,h.barWidth=s,t.add(h),h.useStyle(i.getVisual("style")),h.style.stroke=null,ce(h).seriesIndex=n.seriesIndex,n.get("silent")||(h.on("mousedown",$C),h.on("mousemove",$C)),e&&e.push(h)}var $C=od(function(n){var e=function(n,t,e){for(var r=n.baseDimIdx,i=1-r,a=n.shape.points,o=n.largeDataIndices,s=[],l=[],u=n.barWidth,c=0,h=a.length/3;c<h;c++){var f=3*c;if(l[r]=u,l[i]=a[f+2],s[r]=a[f+r],s[i]=a[f+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[c]}return-1}(this,n.offsetX,n.offsetY);ce(this).dataIndex=e>=0?e:null},30,!1);function XC(n,t,e){if(La(e,"cartesian2d")){var r=t,i=e.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}return{cx:(i=e.getArea()).cx,cy:i.cy,r0:n?i.r0:t.r0,r:n?i.r:t.r,startAngle:n?t.startAngle:0,endAngle:n?t.endAngle:2*Math.PI}}const s3=jF;var QC=2*Math.PI,mh=Math.PI/180;function JC(n,t){return lt(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function qC(n,t){var e=JC(n,t),r=n.get("center"),i=n.get("radius");F(i)||(i=[0,i]);var c,h,a=Y(e.width,t.getWidth()),o=Y(e.height,t.getHeight()),s=Math.min(a,o),l=Y(i[0],s/2),u=Y(i[1],s/2),f=n.coordinateSystem;if(f){var v=f.dataToPoint(r);c=v[0]||0,h=v[1]||0}else F(r)||(r=[r,r]),c=Y(r[0],a)+e.x,h=Y(r[1],o)+e.y;return{cx:c,cy:h,r0:l,r:u}}function u3(n,t,e){t.eachSeriesByType(n,function(r){var i=r.getData(),a=i.mapDimension("value"),o=JC(r,e),s=qC(r,e),l=s.cx,u=s.cy,c=s.r,h=s.r0,f=-r.get("startAngle")*mh,v=r.get("endAngle"),p=r.get("padAngle")*mh;v="auto"===v?f-QC:-v*mh;var m=r.get("minAngle")*mh+p,y=0;i.each(a,function(k){!isNaN(k)&&y++});var _=i.getSum(a),S=Math.PI/(_||y)*2,x=r.get("clockwise"),b=r.get("roseType"),w=r.get("stillShowZeroSum"),C=i.getDataExtent(a);C[0]=0;var T=x?1:-1,z=[f,v],M=T*p/2;jv(z,!x),f=z[0],v=z[1];var A=jC(r);A.startAngle=f,A.endAngle=v,A.clockwise=x;var I=Math.abs(v-f),P=I,L=0,O=f;if(i.setLayout({viewRect:o,r:c}),i.each(a,function(k,N){var B;if(isNaN(k))i.setItemLayout(N,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:l,cy:u,r0:h,r:b?NaN:c});else{(B="area"!==b?0===_&&w?S:k*S:I/y)<m?(B=m,P-=m):L+=k;var H=O+T*B,W=0,Z=0;p>B?Z=W=O+T*B/2:(W=O+M,Z=H-M),i.setItemLayout(N,{angle:B,startAngle:W,endAngle:Z,clockwise:x,cx:l,cy:u,r0:h,r:b?Oe(k,C,[h,c]):c}),O=H}}),P<QC&&y)if(P<=.001){var R=I/y;i.each(a,function(k,N){if(!isNaN(k)){var B=i.getItemLayout(N);B.angle=R;var H=0,W=0;R<p?W=H=f+T*(N+.5)*R:(H=f+T*N*R+M,W=f+T*(N+1)*R-M),B.startAngle=H,B.endAngle=W}})}else S=P/L,O=f,i.each(a,function(k,N){if(!isNaN(k)){var B=i.getItemLayout(N),H=B.angle===m?m:k*S,W=0,Z=0;H<p?Z=W=O+T*H/2:(W=O+M,Z=O+T*H-M),B.startAngle=W,B.endAngle=Z,O+=T*H}})})}var jC=Ce();function Ll(n){return{seriesType:n,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(r&&r.length){var i=t.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var c3=Math.PI/180;function KC(n,t,e,r,i,a,o,s,l,u){if(!(n.length<2)){for(var f=n.length,v=0;v<f;v++)"outer"===n[v].position&&"labelLine"===n[v].labelAlignTo&&(n[v].linePoints[1][0]+=n[v].label.x-u,n[v].label.x=u);ww(n,l,l+o)&&function(g){for(var m={list:[],maxY:0},y={list:[],maxY:0},_=0;_<g.length;_++)if("none"===g[_].labelAlignTo){var S=g[_],x=S.label.y>e?y:m,b=Math.abs(S.label.y-e);if(b>=x.maxY){var w=S.label.x-t-S.len2*i,C=r+S.len,T=Math.abs(w)<C?Math.sqrt(b*b/(1-w*w/C/C)):C;x.rB=T,x.maxY=b}x.list.push(S)}c(m),c(y)}(n)}function c(g){for(var m=g.rB,y=m*m,_=0;_<g.list.length;_++){var S=g.list[_],x=Math.abs(S.label.y-e),b=r+S.len,C=Math.sqrt(Math.abs(b*b*(1-x*x/y))),T=t+(C+S.len2)*i;eT(S,S.targetTextWidth-(T-S.label.x)*i,!0),S.label.x=T}}}function eT(n,t,e){if(void 0===e&&(e=!1),null==n.labelStyleWidth){var r=n.label,i=r.style,a=n.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=a.width+(o?0:l);if(t<c||e){var h=a.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",o)}else{var v=t-l;r.setStyle("width",t<c?v:e?v>n.unconstrainedWidth?null:v:null)}var g=r.getBoundingRect();a.width=g.width,a.height=g.height+((r.style.margin||0)+2.1),a.y-=(a.height-h)/2}}}function ng(n){return"center"===n.position}var v3=function(n){function t(e,r,i){var a=n.call(this)||this;a.z2=2;var o=new Me;return a.setTextContent(o),a.updateData(e,r,i,!0),a}return E(t,n),t.prototype.updateData=function(e,r,i,a){var o=this,s=e.hostModel,l=e.getItemModel(r),u=l.getModel("emphasis"),c=e.getItemLayout(r),h=V(Oa(l.getModel("itemStyle"),c,!0),c);if(isNaN(h.startAngle))o.setShape(h);else{if(a){o.setShape(h);var f=s.getShallow("animationType");s.ecModel.ssr?(Ue(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):"scale"===f?(o.shape.r=c.r0,Ue(o,{shape:{r:c.r}},s,r)):null!=i?(o.setShape({startAngle:i,endAngle:i}),Ue(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,Ie(o,{shape:{endAngle:c.endAngle}},s,r))}else Nn(o),Ie(o,{shape:h},s,r);o.useStyle(e.getItemVisual(r,"style")),xt(o,l);var v=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),g=Math.cos(v)*p,m=Math.sin(v)*p,y=l.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,e,r),o.ensureState("emphasis").shape=V({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Oa(u.getModel("itemStyle"),c)),V(o.ensureState("select"),{x:g,y:m,shape:Oa(l.getModel(["select","itemStyle"]),c)}),V(o.ensureState("blur"),{shape:Oa(l.getModel(["blur","itemStyle"]),c)});var _=o.getTextGuideLine(),S=o.getTextContent();_&&V(_.ensureState("select"),{x:g,y:m}),V(S.ensureState("select"),{x:g,y:m}),Je(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))}},t.prototype._updateLabel=function(e,r,i){var a=this,o=r.getItemModel(i),s=o.getModel("labelLine"),l=r.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;bt(a,ht(o),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:e.getFormattedLabel(i,"normal")||r.getName(i)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=e.get(["label","position"]);if("outside"!==f&&"outer"!==f)a.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Xt,this.setTextGuideLine(v)),Ad(this,Id(o),{stroke:u,opacity:qn(s.get(["lineStyle","opacity"]),c,1)})}},t}(Ut),p3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return E(t,n),t.prototype.render=function(e,r,i,a){var u,o=e.getData(),s=this._data,l=this.group;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<o.count();++h)c=o.getItemLayout(h);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===o.count()&&e.get("showEmptyCircle")){var f=jC(e),v=new Ut({shape:V(qC(e,i),f)});v.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,l.add(v)}o.diff(s).add(function(p){var g=new v3(o,p,u);o.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var m=s.getItemGraphicEl(g);m.updateData(o,p,u),m.off("click"),l.add(m),o.setItemGraphicEl(p,m)}).remove(function(p){Us(s.getItemGraphicEl(p),e,p)}).execute(),function(n){var r,i,t=n.getData(),e=[],a=!1,o=(n.get("minShowLabelAngle")||0)*c3,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,h=s.y,f=s.height;function v(w){w.ignore=!0}t.each(function(w){var C=t.getItemGraphicEl(w),T=C.shape,z=C.getTextContent(),M=C.getTextGuideLine(),A=t.getItemModel(w),I=A.getModel("label"),P=I.get("position")||A.get(["emphasis","label","position"]),L=I.get("distanceToLabelLine"),O=I.get("alignTo"),R=Y(I.get("edgeDistance"),u),k=I.get("bleedMargin"),N=A.getModel("labelLine"),B=N.get("length");B=Y(B,u);var H=N.get("length2");if(H=Y(H,u),Math.abs(T.endAngle-T.startAngle)<o)return D(z.states,v),z.ignore=!0,void(M&&(D(M.states,v),M.ignore=!0));if(function(w){if(!w.ignore)return!0;for(var C in w.states)if(!1===w.states[C].ignore)return!0;return!1}(z)){var te,he,Ee,et,W=(T.startAngle+T.endAngle)/2,Z=Math.cos(W),K=Math.sin(W);r=T.cx,i=T.cy;var ye="inside"===P||"inner"===P;if("center"===P)te=T.cx,he=T.cy,et="center";else{var ae=(ye?(T.r+T.r0)/2*Z:T.r*Z)+r,xe=(ye?(T.r+T.r0)/2*K:T.r*K)+i;if(te=ae+3*Z,he=xe+3*K,!ye){var J=ae+Z*(B+l-T.r),fe=xe+K*(B+l-T.r),Ye=J+(Z<0?-1:1)*H;te="edge"===O?Z<0?c+R:c+u-R:Ye+(Z<0?-L:L),he=fe,Ee=[[ae,xe],[J,fe],[Ye,fe]]}et=ye?"center":"edge"===O?Z>0?"right":"left":Z>0?"left":"right"}var Ve=Math.PI,Qe=0,dt=I.get("rotate");if(De(dt))Qe=dt*(Ve/180);else if("center"===P)Qe=0;else if("radial"===dt||!0===dt)Qe=Z<0?-W+Ve:-W;else if("tangential"===dt&&"outside"!==P&&"outer"!==P){var Kt=Math.atan2(Z,K);Kt<0&&(Kt=2*Ve+Kt),K>0&&(Kt=Ve+Kt),Qe=Kt-Ve}if(a=!!Qe,z.x=te,z.y=he,z.rotation=Qe,z.setStyle({verticalAlign:"middle"}),ye){z.setStyle({align:et});var h0=z.states.select;h0&&(h0.x+=z.x,h0.y+=z.y)}else{var Oi=z.getBoundingRect().clone();Oi.applyTransform(z.getComputedTransform());var hP=(z.style.margin||0)+2.1;Oi.y-=hP/2,Oi.height+=hP,e.push({label:z,labelLine:M,position:P,len:B,len2:H,minTurnAngle:N.get("minTurnAngle"),maxSurfaceAngle:N.get("maxSurfaceAngle"),surfaceNormal:new ge(Z,K),linePoints:Ee,textAlign:et,labelDistance:L,labelAlignTo:O,edgeDistance:R,bleedMargin:k,rect:Oi,unconstrainedWidth:Oi.width,labelStyleWidth:z.style.width})}C.setTextConfig({inside:ye})}}),!a&&n.get("avoidLabelOverlap")&&function(n,t,e,r,i,a,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<n.length;f++){var v=n[f].label;ng(n[f])||(v.x<t?(c=Math.min(c,v.x),l.push(n[f])):(h=Math.max(h,v.x),u.push(n[f])))}for(f=0;f<n.length;f++)if(!ng(p=n[f])&&p.linePoints){if(null!=p.labelStyleWidth)continue;v=p.label;var m,g=p.linePoints;p.targetTextWidth=m="edge"===p.labelAlignTo?v.x<t?g[2][0]-p.labelDistance-o-p.edgeDistance:o+i-p.edgeDistance-g[2][0]-p.labelDistance:"labelLine"===p.labelAlignTo?v.x<t?c-o-p.bleedMargin:o+i-h-p.bleedMargin:v.x<t?v.x-o-p.bleedMargin:o+i-v.x-p.bleedMargin,eT(p,m)}for(KC(u,t,e,r,1,0,a,0,s,h),KC(l,t,e,r,-1,0,a,0,s,c),f=0;f<n.length;f++){var p;if(!ng(p=n[f])&&p.linePoints){var _=(v=p.label).style.padding,b=p.rect.width+(v.style.backgroundColor?0:_?_[1]+_[3]:0),w=(g=p.linePoints)[1][0]-g[2][0];"edge"===p.labelAlignTo?g[2][0]=v.x<t?o+p.edgeDistance+b+p.labelDistance:o+i-p.edgeDistance-b-p.labelDistance:(g[2][0]=v.x<t?v.x+p.labelDistance:v.x-p.labelDistance,g[1][0]=g[2][0]+w),g[1][1]=g[2][1]=v.y}}}(e,r,i,l,u,f,c,h);for(var g=0;g<e.length;g++){var m=e[g],y=m.label,_=m.labelLine,S=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),S&&(D(y.states,v),y.ignore=!0);var x=y.states.select;x&&(x.x+=y.x,x.y+=y.y)}if(_){var b=m.linePoints;S||!b?(D(_.states,v),_.ignore=!0):(Sw(b,m.minTurnAngle),XB(b,m.surfaceNormal,m.maxSurfaceAngle),_.setShape({points:b}),y.__hostTarget.textGuideLineConfig={anchor:new ge(b[0][0],b[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,r){var a=r.getData().getItemLayout(0);if(a){var o=e[0]-a.cx,s=e[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="pie",t}(He);const d3=p3;function $o(n,t,e){t=F(t)&&{coordDimensions:t}||V({encodeDefine:n.getEncode()},t);var r=n.getSource(),i=Yo(r,t).dimensions,a=new Ft(i,n);return a.initData(r,e),a}var g3=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},n.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},n.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},n}();const Ol=g3;var m3=Ce(),y3=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ol($(this.getData,this),$(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return $o(this,{coordDimensions:["value"],encodeDefaulter:pe(Dp,this)})},t.prototype.getDataParams=function(e){var r=this.getData(),i=m3(r),a=i.seats;if(!a){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),a=i.seats=function(n,t){var e=Jn(n,function(v,p){return v+(isNaN(p)?0:p)},0);if(0===e)return[];for(var r=Math.pow(10,t),i=G(n,function(v){return(isNaN(v)?0:v)/e*r*100}),a=100*r,o=G(i,function(v){return Math.floor(v)}),s=Jn(o,function(v,p){return v+p},0),l=G(i,function(v,p){return v-o[p]});s<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,h=0,f=l.length;h<f;++h)l[h]>u&&(u=l[h],c=h);++o[c],l[c]=0,++s}return G(o,function(v){return v/r})}(o,r.hostModel.get("percentPrecision"))}var s=n.prototype.getDataParams.call(this,e);return s.percent=a[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){Ui(e,"labelLine",["show"]);var r=e.labelLine,i=e.emphasis.labelLine;r.show=r.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}($e);const _3=y3;var b3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return E(t,n),t.prototype.getInitialData=function(e,r){return Er(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,r,i){return i.point(r.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}($e);const w3=b3;var C3=function(){},T3=function(n){function t(e){var r=n.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return E(t,n),t.prototype.getDefaultShape=function(){return new C3},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,r){var h,i=r.points,a=r.size,o=this.symbolProxy,s=o.shape,l=e.getContext?e.getContext():e,c=this.softClipShape;if(l&&a[0]<4)this._ctx=l;else{for(this._ctx=null,h=this._off;h<i.length;){var f=i[h++],v=i[h++];isNaN(f)||isNaN(v)||c&&!c.contain(f,v)||(s.x=f-a[0]/2,s.y=v-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(e,s,!0))}this.incremental&&(this._off=h,this.notClear=!0)}},t.prototype.afterBrush=function(){var s,e=this.shape,r=e.points,i=e.size,a=this._ctx,o=this.softClipShape;if(a){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(e,r){for(var i=this.shape,a=i.points,o=i.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=a.length/2-1;u>=0;u--){var c=2*u,h=a[c]-s/2,f=a[c+1]-l/2;if(e>=h&&r>=f&&e<=h+s&&r<=f+l)return u}return-1},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r);return this.getBoundingRect().contain(e=i[0],r=i[1])?(this.hoverDataIdx=this.findDataIndex(e,r))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var r=this.shape,i=r.points,a=r.size,o=a[0],s=a[1],l=1/0,u=1/0,c=-1/0,h=-1/0,f=0;f<i.length;){var v=i[f++],p=i[f++];l=Math.min(v,l),c=Math.max(v,c),u=Math.min(p,u),h=Math.max(p,h)}e=this._rect=new me(l-o/2,u-s/2,c-l+o,h-u+s)}return e},t}(be),z3=function(){function n(){this.group=new ue}return n.prototype.updateData=function(t,e){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,e)},n.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(r){null!=r.startIndex&&(e=new Float32Array(e.buffer,4*r.startIndex*2,2*(r.endIndex-r.startIndex))),r.setShape("points",e),r.reset()})},n.prototype.incrementalPrepareUpdate=function(t){this._clear()},n.prototype.incrementalUpdate=function(t,e,r){var i=this._newAdded[0],a=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,e,r)}},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new T3({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},n.prototype._setCommon=function(t,e,r){var i=e.hostModel;r=r||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=r.clipShape||null,t.symbolProxy=ot(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<4;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=ce(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(u.dataIndex=h+(t.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const D3=z3;var M3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){var a=e.getData();this._updateSymbolDraw(a,e).updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,i){var a=e.getData();this._updateSymbolDraw(a,e).incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,r,i){this._symbolDraw.incrementalUpdate(e,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=e.end===r.getData().count()},t.prototype.updateTransform=function(e,r,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=Pl("").reset(e,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var r=e.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,r){var i=this._symbolDraw,o=r.pipelineContext.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new D3:new Al,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(He);const A3=M3;var I3=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Ae);const P3=I3;var Rl=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),rg=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",it).models[0]},t.type="cartesian2dAxis",t}(Ae);rt(rg,Rl);var nT={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},L3=de({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},nT),ig=de({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},nT);const rT={category:L3,value:ig,time:de({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ig),log:re({logBase:10},ig)};var N3=0,k3=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++N3}return n.createByAxisModel=function(t){var e=t.option,r=e.data,i=r&&G(r,E3);return new n({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,r=this._needCollect;if(!U(t)&&!r)return t;if(r&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var i=this._getOrCreateMap();return null==(e=i.get(t))&&(r?(this.categories[e=this.categories.length]=t,i.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Q(this.categories))},n}();function E3(n){return oe(n)&&null!=n.value?n.value:n+""}const ag=k3;var B3={value:1,category:1,time:1,log:1};function Xo(n,t,e,r){D(B3,function(i,a){var o=de(de({},rT[a],!0),r,!0),s=function(l){function u(){var c=null!==l&&l.apply(this,arguments)||this;return c.type=t+"Axis."+a,c}return E(u,l),u.prototype.mergeDefaultAndTheme=function(c,h){var f=Js(this),v=f?zo(c):{};de(c,h.getTheme().get(a+"Axis")),de(c,this.getDefaultOption()),c.type=iT(c),f&&li(c,v,f)},u.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=ag.createByAxisModel(this))},u.prototype.getCategories=function(c){var h=this.option;if("category"===h.type)return c?h.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+a,u.defaultOption=o,u}(e);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(t+"Axis",iT)}function iT(n){return n.type||(n.data?"category":"value")}var aT=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(e)||(r[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();Xu(aT);const Br=aT;function og(n){return"interval"===n.type||"log"===n.type}function sg(n){var t=Math.pow(10,Lv(n)),e=n/t;return e?2===e?e=3:3===e?e=5:e*=2:e=1,Ke(e*t)}function oT(n){return nr(n)+2}function sT(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function yh(n,t){return n>=t[0]&&n<=t[1]}function _h(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function Sh(n,t){return n*(t[1]-t[0])+t[0]}var lT=function(n){function t(e){var r=n.call(this,e)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new ag({})),F(i)&&(i=new ag({categories:G(i,function(a){return oe(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return E(t,n),t.prototype.parse=function(e){return null==e?NaN:U(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return yh(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return _h(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(Sh(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],r=this._extent,i=r[0];i<=r[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var r=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];i[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;null!=a[c];)c++;i.push(c),a[c]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var r=this._ticksByOrdinalNumber;return r&&e>=0&&e<r.length?r[e]:e},t.prototype.getRawOrdinalNumber=function(e){var r=this._ordinalNumbersByTick;return r&&e>=0&&e<r.length?r[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var r=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[r];return null==i?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Br);Br.registerClass(lT);const lg=lT;var Ra=Ke,uT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return E(t,n),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return yh(e,this._extent)},t.prototype.normalize=function(e){return _h(e,this._extent)},t.prototype.scale=function(e){return Sh(e,this._extent)},t.prototype.setExtent=function(e,r){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(r)||(i[1]=parseFloat(r))},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=oT(e)},t.prototype.getTicks=function(e){var r=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;i[0]<a[0]&&s.push(e?{value:Ra(a[0]-r,o)}:{value:i[0]});for(var u=a[0];u<=a[1]&&(s.push({value:u}),(u=Ra(u+r,o))!==s[s.length-1].value);)if(s.length>1e4)return[];var c=s.length?s[s.length-1].value:a[1];return i[1]>c&&s.push(e?{value:Ra(c+r,o)}:{value:i[1]}),s},t.prototype.getMinorTicks=function(e){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<r.length;o++){for(var l=r[o-1],u=0,c=[],f=(r[o].value-l.value)/e;u<e-1;){var v=Ra(l.value+(u+1)*f);v>a[0]&&v<a[1]&&c.push(v),u++}i.push(c)}return i},t.prototype.getLabel=function(e,r){if(null==e)return"";var i=r&&r.precision;return null==i?i=nr(e.value)||0:"auto"===i&&(i=this._intervalPrecision),d1(Ra(e.value,i,!0))},t.prototype.calcNiceTicks=function(e,r,i){e=e||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=function(n,t,e,r){var i={},o=i.interval=N_((n[1]-n[0])/t,!0);null!=e&&o<e&&(o=i.interval=e),null!=r&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=oT(o);return function(n,t){!isFinite(n[0])&&(n[0]=t[0]),!isFinite(n[1])&&(n[1]=t[1]),sT(n,0,t),sT(n,1,t),n[0]>n[1]&&(n[0]=n[1])}(i.niceTickExtent=[Ke(Math.ceil(n[0]/o)*o,s),Ke(Math.floor(n[1]/o)*o,s)],n),i}(a,e,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var r=this._extent;if(r[0]===r[1])if(0!==r[0]){var i=Math.abs(r[0]);e.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;isFinite(r[1]-r[0])||(r[0]=0,r[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(r[0]=Ra(Math.floor(r[0]/o)*o)),e.fixMax||(r[1]=Ra(Math.ceil(r[1]/o)*o))},t.prototype.setNiceExtent=function(e,r){this._niceExtent=[e,r]},t.type="interval",t}(Br);Br.registerClass(uT);const _i=uT;var cT=function(n){function t(e){var r=n.call(this,e)||this;return r.type="time",r}return E(t,n),t.prototype.getLabel=function(e){var r=this.getSetting("useUTC");return fc(e.value,a1[function(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(wo(this._minLevelUnit))]||a1.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,r,i){var a=this.getSetting("useUTC");return function(n,t,e,r,i){var a=null;if(U(e))a=e;else if(ee(e))a=e(n.value,t,{level:n.level});else{var o=V({},Xs);if(n.level>0)for(var s=0;s<bp.length;++s)o[bp[s]]="{primary|"+o[bp[s]]+"}";var l=e?!1===e.inherit?e:re(e,o):o,u=s1(n.value,i);if(l[u])a=l[u];else if(l.inherit){for(s=o1.indexOf(u)-1;s>=0;--s)if(l[u]){a=l[u];break}a=a||o.none}if(F(a)){var h=null==n.level?0:n.level>=0?n.level:a.length+n.level;a=a[h=Math.min(h,a.length-1)]}}return fc(new Date(n.value),a,i,r)}(e,r,i,this.getSetting("locale"),a)},t.prototype.getTicks=function(){var r=this._extent,i=[];if(!this._interval)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),o=function(n,t,e,r){var a=o1,o=0;function s(M,A,I,P,L,O,R){for(var k=new Date(A),N=A,B=k[P]();N<I&&N<=r[1];)R.push({value:N}),k[L](B+=M),N=k.getTime();R.push({value:N,notAdd:!0})}function l(M,A,I){var P=[],L=!A.length;if(!function(n,t,e,r){var i=rr(t),a=rr(e),o=function(p){return l1(i,p,r)===l1(a,p,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},h=function(){return c()&&o("minute")},f=function(){return h()&&o("second")};switch(n){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return h();case"second":return f();case"millisecond":return f()&&o("millisecond")}}(wo(M),r[0],r[1],e)){L&&(A=[{value:$3(new Date(r[0]),M,e)},{value:r[1]}]);for(var O=0;O<A.length-1;O++){var R=A[O].value,k=A[O+1].value;if(R!==k){var N=void 0,B=void 0,H=void 0;switch(M){case"year":N=Math.max(1,Math.round(t/mn/365)),B=wp(e),H=sN(e);break;case"half-year":case"quarter":case"month":N=Y3(t),B=Co(e),H=u1(e);break;case"week":case"half-week":case"day":N=W3(t),B=vc(e),H=c1(e),!0;break;case"half-day":case"quarter-day":case"hour":N=Z3(t),B=Qs(e),H=h1(e);break;case"minute":N=hT(t,!0),B=pc(e),H=f1(e);break;case"second":N=hT(t,!1),B=dc(e),H=v1(e);break;case"millisecond":N=U3(t),B=gc(e),H=p1(e)}s(N,R,k,B,H,0,P),"year"===M&&I.length>1&&0===O&&I.unshift({value:I[0].value-N})}}for(O=0;O<P.length;O++)I.push(P[O]);return P}}for(var u=[],c=[],h=0,f=0,v=0;v<a.length&&o++<1e4;++v){var p=wo(a[v]);if(iN(a[v])&&(l(a[v],u[u.length-1]||[],c),p!==(a[v+1]?wo(a[v+1]):null))){if(c.length){f=h,c.sort(function(M,A){return M.value-A.value});for(var m=[],y=0;y<c.length;++y){var _=c[y].value;(0===y||c[y-1].value!==_)&&(m.push(c[y]),_>=r[0]&&_<=r[1]&&h++)}var S=(r[1]-r[0])/t;if(h>1.5*S&&f>S/1.5||(u.push(m),h>S||n===a[v]))break}c=[]}}var x=Pe(G(u,function(M){return Pe(M,function(A){return A.value>=r[0]&&A.value<=r[1]&&!A.notAdd})}),function(M){return M.length>0}),b=[],w=x.length-1;for(v=0;v<x.length;++v)for(var C=x[v],T=0;T<C.length;++T)b.push({value:C[T].value,level:w-v});b.sort(function(M,A){return M.value-A.value});var z=[];for(v=0;v<b.length;++v)(0===v||b[v].value!==b[v-1].value)&&z.push(b[v]);return z}(this._minLevelUnit,this._approxInterval,a,r);return(i=i.concat(o)).push({value:r[1],level:0}),i},t.prototype.calcNiceExtent=function(e){var r=this._extent;if(r[0]===r[1]&&(r[0]-=mn,r[1]+=mn),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-mn}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,r,i){var a=this._extent;this._approxInterval=(a[1]-a[0])/(e=e||10),null!=r&&this._approxInterval<r&&(this._approxInterval=r),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var s=xh.length,l=Math.min(function(n,t,e,r){for(;e<r;){var i=e+r>>>1;n[i][1]<t?e=i+1:r=i}return e}(xh,this._approxInterval,0,s),s-1);this._interval=xh[l][1],this._minLevelUnit=xh[Math.max(l-1,0)][0]},t.prototype.parse=function(e){return De(e)?e:+rr(e)},t.prototype.contain=function(e){return yh(this.parse(e),this._extent)},t.prototype.normalize=function(e){return _h(this.parse(e),this._extent)},t.prototype.scale=function(e){return Sh(e,this._extent)},t.type="time",t}(_i),xh=[["second",1e3],["minute",6e4],["hour",$s],["quarter-day",6*$s],["half-day",12*$s],["day",1.2*mn],["half-week",3.5*mn],["week",7*mn],["month",31*mn],["quarter",95*mn],["half-year",r1/2],["year",r1]];function W3(n,t){return(n/=mn)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Y3(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function Z3(n){return(n/=$s)>12?12:n>6?6:n>3.5?4:n>2?2:1}function hT(n,t){return(n/=t?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function U3(n){return N_(n,!0)}function $3(n,t,e){var r=new Date(n);switch(wo(t)){case"year":case"month":r[u1(e)](0);case"day":r[c1(e)](1);case"hour":r[h1(e)](0);case"minute":r[f1(e)](0);case"second":r[v1(e)](0),r[p1(e)](0)}return r.getTime()}Br.registerClass(cT);const fT=cT;var vT=Br.prototype,Nl=_i.prototype,Q3=Ke,J3=Math.floor,q3=Math.ceil,bh=Math.pow,Wn=Math.log,ug=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new _i,e._interval=0,e}return E(t,n),t.prototype.getTicks=function(e){var i=this._extent,a=this._originalScale.getExtent();return G(Nl.getTicks.call(this,e),function(s){var l=s.value,u=Ke(bh(this.base,l));return u=l===i[0]&&this._fixMin?wh(u,a[0]):u,{value:u=l===i[1]&&this._fixMax?wh(u,a[1]):u}},this)},t.prototype.setExtent=function(e,r){var i=Wn(this.base);e=Wn(Math.max(0,e))/i,r=Wn(Math.max(0,r))/i,Nl.setExtent.call(this,e,r)},t.prototype.getExtent=function(){var e=this.base,r=vT.getExtent.call(this);r[0]=bh(e,r[0]),r[1]=bh(e,r[1]);var a=this._originalScale.getExtent();return this._fixMin&&(r[0]=wh(r[0],a[0])),this._fixMax&&(r[1]=wh(r[1],a[1])),r},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var r=this.base;e[0]=Wn(e[0])/Wn(r),e[1]=Wn(e[1])/Wn(r),vT.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(e){e=e||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=function(n){return Math.pow(10,Lv(n))}(i);for(e/i*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[Ke(q3(r[0]/a)*a),Ke(J3(r[1]/a)*a)];this._interval=a,this._niceExtent=s}},t.prototype.calcNiceExtent=function(e){Nl.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return yh(e=Wn(e)/Wn(this.base),this._extent)},t.prototype.normalize=function(e){return _h(e=Wn(e)/Wn(this.base),this._extent)},t.prototype.scale=function(e){return e=Sh(e,this._extent),bh(this.base,e)},t.type="log",t}(Br),pT=ug.prototype;function wh(n,t){return Q3(n,nr(t))}pT.getMinorTicks=Nl.getMinorTicks,pT.getLabel=Nl.getLabel,Br.registerClass(ug);const j3=ug;var K3=function(){function n(t,e,r){this._prepareParams(t,e,r)}return n.prototype._prepareParams=function(t,e,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=e.get("min",!0);null==a&&(a=e.get("startValue",!0));var o=this._modelMinRaw=a;ee(o)?this._modelMinNum=Ch(t,o({min:r[0],max:r[1]})):"dataMin"!==o&&(this._modelMinNum=Ch(t,o));var s=this._modelMaxRaw=e.get("max",!0);if(ee(s)?this._modelMaxNum=Ch(t,s({min:r[0],max:r[1]})):"dataMax"!==s&&(this._modelMaxNum=Ch(t,s)),i)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),u=F(l)?l:[l||0,l||0];this._boundaryGapInner="boolean"==typeof u[0]||"boolean"==typeof u[1]?[0,0]:[Rn(u[0],1),Rn(u[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=t?null:r-e||Math.abs(e),s="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?r:this._modelMaxNum,u=null!=s,c=null!=l;null==s&&(s=t?i?0:NaN:e-a[0]*o),null==l&&(l=t?i?i-1:NaN:r+a[1]*o),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var h=ps(s)||ps(l)||t&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var f=this._determinedMin,v=this._determinedMax;return null!=f&&(s=f,u=!0),null!=v&&(l=v,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:h}},n.prototype.modifyDataMinMax=function(t,e){this[t5[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){this[e5[t]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),e5={min:"_determinedMin",max:"_determinedMax"},t5={min:"_dataMin",max:"_dataMax"};function dT(n,t,e){var r=n.rawExtentInfo;return r||(r=new K3(n,t,e),n.rawExtentInfo=r,r)}function Ch(n,t){return null==t?null:ps(t)?NaN:n.parse(t)}function gT(n,t){var e=n.type,r=dT(n,t,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,a=r.max,o=t.ecModel;if(o&&"time"===e){var s=IC("bar",o),l=!1;if(D(s,function(h){l=l||h.getBaseAxis()===t.axis}),l){var u=PC(s),c=function(n,t,e,r){var i=e.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=function(n,t,e){if(n&&t){var r=n[Kd(t)];return r}}(r,e.axis);if(void 0===o)return{min:n,max:t};var s=1/0;D(o,function(v){s=Math.min(v.offset,s)});var l=-1/0;D(o,function(v){l=Math.max(v.offset+v.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-n,f=c/(1-(s+l)/a)-c;return{min:n-=f*(s/u),max:t+=f*(l/u)}}(i,a,t,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function Qo(n,t){var e=t,r=gT(n,e),i=r.extent,a=e.get("splitNumber");n instanceof j3&&(n.base=e.get("logBase"));var o=n.type,s=e.get("interval"),l="interval"===o||"time"===o;n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?e.get("minInterval"):null,maxInterval:l?e.get("maxInterval"):null}),null!=s&&n.setInterval&&n.setInterval(s)}function Th(n,t){if(t=t||n.get("type"))switch(t){case"category":return new lg({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new fT({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Br.getClass(t)||_i)}}function Jo(n){var r,t=n.getLabelModel().get("formatter"),e="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(r=t,function(i,a){return n.scale.getFormattedLabel(i,a,r)}):U(t)?function(r){return function(i){var a=n.scale.getLabel(i);return r.replace("{value}",null!=a?a:"")}}(t):ee(t)?function(r){return function(i,a){return null!=e&&(a=i.value-e),r(cg(n,i),a,null!=i.level?{level:i.level}:null)}}(t):function(r){return n.scale.getLabel(r)}}function cg(n,t){return"category"===n.type?n.scale.getLabel(t):t.value}function a5(n,t){var e=t*Math.PI/180,r=n.width,i=n.height,a=r*Math.abs(Math.cos(e))+Math.abs(i*Math.sin(e)),o=r*Math.abs(Math.sin(e))+Math.abs(i*Math.cos(e));return new me(n.x,n.y,a,o)}function hg(n){var t=n.get("interval");return null==t?"auto":t}function mT(n){return"category"===n.type&&0===hg(n.getLabelModel())}function zh(n,t){var e={};return D(n.mapDimensionsAll(t),function(r){e[fC(n,r)]=!0}),we(e)}var s5=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return G(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Pe(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),fg=["x","y"];function yT(n){return"interval"===n.type||"time"===n.type}var u5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=fg,e}return E(t,n),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(yT(e)&&yT(r)){var i=e.getExtent(),a=r.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(l&&u){var c=(s[0]-o[0])/l,h=(s[1]-o[1])/u,p=this._transform=[c,0,0,h,o[0]-i[0]*c,o[1]-a[0]*h];this._invTransform=ao([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,r){var i=this.dataToPoint(e),a=this.dataToPoint(r),o=this.getArea(),s=new me(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,r,i){i=i||[];var a=e[0],o=e[1];if(this._transform&&null!=a&&isFinite(a)&&null!=o&&isFinite(o))return _t(i,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},t.prototype.clampData=function(e,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(e[0]),u=a.parse(e[1]);return(r=r||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(e,r){var i=[];if(this._invTransform)return _t(i,e,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),r),i[1]=o.coordToData(o.toLocalCoord(e[1]),r),i},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(e){e=e||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1])-e,o=Math.min(i[0],i[1])-e,s=Math.max(r[0],r[1])-a+e,l=Math.max(i[0],i[1])-o+e;return new me(a,o,s,l)},t}(s5);const c5=u5;var kl=Ce();function _T(n,t){var e=G(t,function(r){return n.scale.parse(r)});return"time"===n.type&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function ST(n,t){var a,o,e=xT(n,"labels"),r=hg(t);return bT(e,r)||(ee(r)?a=TT(n,r):(o="auto"===r?function(n){var t=kl(n).autoInterval;return null!=t?t:kl(n).autoInterval=n.calculateCategoryInterval()}(n):r,a=CT(n,o)),wT(e,r,{labels:a,labelCategoryInterval:o}))}function xT(n,t){return kl(n)[t]||(kl(n)[t]=[])}function bT(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function wT(n,t,e){return n.push({key:t,value:e}),e}function CT(n,t,e){var r=Jo(n),i=n.scale,a=i.getExtent(),o=n.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=a[0],c=i.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=mT(n),f=o.get("showMinLabel")||h,v=o.get("showMaxLabel")||h;f&&u!==a[0]&&g(a[0]);for(var p=u;p<=a[1];p+=l)g(p);function g(m){var y={value:m};s.push(e?m:{formattedLabel:r(y),rawLabel:i.getLabel(y),tickValue:m})}return v&&p-l!==a[1]&&g(a[1]),s}function TT(n,t,e){var r=n.scale,i=Jo(n),a=[];return D(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;t(o.value,s)&&a.push(e?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),a}var zT=[0,1],_5=function(){function n(t,e,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=r||[0,0]}return n.prototype.contain=function(t){var e=this._extent,r=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=r&&t<=i},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return P_(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t,r[1]=e},n.prototype.dataToCoord=function(t,e){var r=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&DT(r=r.slice(),i.count()),Oe(t,zT,r,e)},n.prototype.coordToData=function(t,e){var r=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&DT(r=r.slice(),i.count());var a=Oe(t,r,zT,e);return this.scale.scale(a)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),a=G(function(n,t){var e=n.getTickModel().get("customValues");if(e){var r=n.scale.getExtent();return{ticks:Pe(_T(n,e),function(a){return a>=r[0]&&a<=r[1]})}}return"category"===n.type?function(n,t){var a,o,e=xT(n,"ticks"),r=hg(t),i=bT(e,r);if(i)return i;if((!t.get("show")||n.scale.isBlank())&&(a=[]),ee(r))a=TT(n,r,!0);else if("auto"===r){var s=ST(n,n.getLabelModel());o=s.labelCategoryInterval,a=G(s.labels,function(l){return l.tickValue})}else a=CT(n,o=r,!0);return wT(e,r,{ticks:a,tickCategoryInterval:o})}(n,t):{ticks:G(n.scale.getTicks(),function(a){return a.value})}}(this,e).ticks,function(s){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this);return function(n,t,e,r){var i=t.length;if(n.onBand&&!e&&i){var o,a=n.getExtent();if(1===i)t[0].coord=a[0],o=t[1]={coord:a[1],tickValue:t[0].tickValue};else{var u=(t[i-1].coord-t[0].coord)/(t[i-1].tickValue-t[0].tickValue);D(t,function(v){v.coord-=u/2});var c=n.scale.getExtent();t.push(o={coord:t[i-1].coord+u*(1+c[1]-t[i-1].tickValue),tickValue:c[1]+1})}var h=a[0]>a[1];f(t[0].coord,a[0])&&(r?t[0].coord=a[0]:t.shift()),r&&f(a[0],t[0].coord)&&t.unshift({coord:a[0]}),f(a[1],o.coord)&&(r?o.coord=a[1]:t.pop()),r&&f(o.coord,a[1])&&t.push({coord:a[1]})}function f(v,p){return v=Ke(v),p=Ke(p),h?v>p:v<p}}(this,a,e.get("alignWithLabel"),t.clamp),a},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),G(this.scale.getMinorTicks(e),function(a){return G(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this)},n.prototype.getViewLabels=function(){return function(n){var t=n.getLabelModel().get("customValues");if(t){var e=Jo(n),r=n.scale.getExtent();return{labels:G(Pe(_T(n,t),function(o){return o>=r[0]&&o<=r[1]}),function(o){var s={value:o};return{formattedLabel:e(s),rawLabel:n.scale.getLabel(s),tickValue:o}})}}return"category"===n.type?function(n){var t=n.getLabelModel(),e=ST(n,t);return!t.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}(n):function(n){var t=n.scale.getTicks(),e=Jo(n);return{labels:G(t,function(r,i){return{level:r.level,formattedLabel:e(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),r=e[1]-e[0]+(this.onBand?1:0);0===r&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return function(n){var t=function(n){var t=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(n),e=Jo(n),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=n.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],u=n.dataToCoord(l+1)-n.dataToCoord(l),c=Math.abs(u*Math.cos(r)),h=Math.abs(u*Math.sin(r)),f=0,v=0;l<=a[1];l+=s){var g,m=Ps(e({value:l}),t.font,"center","top");g=1.3*m.height,f=Math.max(f,1.3*m.width,7),v=Math.max(v,g,7)}var y=f/c,_=v/h;isNaN(y)&&(y=1/0),isNaN(_)&&(_=1/0);var S=Math.max(0,Math.floor(Math.min(y,_))),x=kl(n.model),b=n.getExtent(),w=x.lastAutoInterval,C=x.lastTickCount;return null!=w&&null!=C&&Math.abs(w-S)<=1&&Math.abs(C-o)<=1&&w>S&&x.axisExtent0===b[0]&&x.axisExtent1===b[1]?S=w:(x.lastTickCount=o,x.lastAutoInterval=S,x.axisExtent0=b[0],x.axisExtent1=b[1]),S}(this)},n}();function DT(n,t){var i=(n[1]-n[0])/t/2;n[0]+=i,n[1]-=i}const Yn=_5;var x5=function(n){function t(e,r,i,a,o){var s=n.call(this,e,r,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return E(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),r)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Yn);const b5=x5;function vg(n,t,e){e=e||{};var r=n.coordinateSystem,i=t.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,c=r.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},v=t.get("offset")||0,p="x"===u?[h[2]-v,h[3]+v]:[h[0]-v,h[1]+v];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));p[f.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=["y"===u?p[f[l]]:h[0],"x"===u?p[f[l]]:h[3]],a.rotation=Math.PI/2*("x"===u?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=o?p[f[s]]-p[f.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),gt(e.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=t.get(["axisLabel","rotate"]);return a.labelRotate="top"===l?-y:y,a.z2=1,a}function MT(n){return"cartesian2d"===n.get("coordinateSystem")}function AT(n){var t={xAxisModel:null,yAxisModel:null};return D(t,function(e,r){var i=r.replace(/Model$/,""),a=n.getReferringComponents(i,it).models[0];t[r]=a}),t}var pg=Math.log;function IT(n,t,e){var r=_i.prototype,i=r.getTicks.call(e),a=r.getTicks.call(e,!0),o=i.length-1,s=r.getInterval.call(e),l=gT(n,t),u=l.extent,c=l.fixMin,h=l.fixMax;if("log"===n.type){var f=pg(n.base);u=[pg(u[0])/f,pg(u[1])/f]}n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:h});var v=r.getExtent.call(n);c&&(u[0]=v[0]),h&&(u[1]=v[1]);var p=r.getInterval.call(n),g=u[0],m=u[1];if(c&&h)p=(m-g)/o;else if(c)for(m=u[0]+p*o;m<u[1]&&isFinite(m)&&isFinite(u[1]);)p=sg(p),m=u[0]+p*o;else if(h)for(g=u[1]-p*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=sg(p),g=u[1]-p*o;else{n.getTicks().length-1>o&&(p=sg(p));var _=p*o;(g=Ke((m=Math.ceil(u[1]/p)*p)-_))<0&&u[0]>=0?(g=0,m=Ke(_)):m>0&&u[1]<=0&&(m=0,g=-Ke(_))}var S=(i[0].value-a[0].value)/s,x=(i[o].value-a[o].value)/s;r.setExtent.call(n,g+p*S,m+p*x),r.setInterval.call(n,p),(S||x)&&r.setNiceExtent.call(n,g+p,m-p)}var w5=function(){function n(t,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=fg,this._initCartesian(t,e,r),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var r=this._axesMap;function i(o){var s,l=we(o),u=l.length;if(u){for(var c=[],h=u-1;h>=0;h--){var v=o[+l[h]],p=v.model,g=v.scale;og(g)&&p.get("alignTicks")&&null==p.get("interval")?c.push(v):(Qo(g,p),og(g)&&(s=v))}c.length&&(s||Qo((s=c.pop()).scale,s.model),D(c,function(m){IT(m.scale,m.model,s.scale)}))}}this._updateScale(t,this.model),i(r.x),i(r.y);var a={};D(r.x,function(o){PT(r,"y",o,a)}),D(r.y,function(o){PT(r,"x",o,a)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,r){var i=t.getBoxLayoutParams(),a=!r&&t.get("containLabel"),o=lt(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;function l(){D(s,function(u){var c=u.isHorizontal(),h=c?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(h[f],h[1-f]),function(n,t){var e=n.getExtent(),r=e[0]+e[1];n.toGlobalCoord="x"===n.dim?function(i){return i+t}:function(i){return r-i+t},n.toLocalCoord="x"===n.dim?function(i){return i-t}:function(i){return r-i+t}}(u,c?o.x:o.y)})}l(),a&&(D(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=function(n){var e=n.scale;if(n.model.get(["axisLabel","show"])&&!e.isBlank()){var r,i,a=e.getExtent();i=e instanceof lg?e.count():(r=e.getTicks()).length;var l,o=n.getLabelModel(),s=Jo(n),u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=s(r?r[c]:{value:a[0]+c},c),p=a5(o.getTextRect(f),o.get("rotate")||0);l?l.union(p):l=p}return l}}(u);if(c){var h=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[h]-=c[h]+f,"top"===u.position?o.y+=c.height+f:"left"===u.position&&(o.x+=c.width+f)}}}),l()),D(this._coordsList,function(u){u.calcAffineTransform()})},n.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(null!=r)return r[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];oe(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(t){var s,l,e=t.seriesModel,r=t.xAxisModel||e&&e.getReferringComponents("xAxis",it).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",it).models[0],a=t.gridModel;return e?_e(this._coordsList,s=e.coordinateSystem)<0&&(s=null):r&&i?s=this.getCartesian(r.componentIndex,i.componentIndex):r?l=this.getAxis("x",r.componentIndex):i?l=this.getAxis("y",i.componentIndex):a&&a.coordinateSystem===this&&(s=this._coordsList[0]),{cartesian:s,axis:l}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,r){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function u(c){return function(h,f){if(dg(h,t)){var v=h.get("position");"x"===c?"top"!==v&&"bottom"!==v&&(v=o.bottom?"top":"bottom"):"left"!==v&&"right"!==v&&(v=o.left?"right":"left"),o[v]=!0;var p=new b5(c,Th(h),[0,0],h.get("type"),v);p.onBand="category"===p.type&&h.get("boundaryGap"),p.inverse=h.get("inverse"),h.axis=p,p.model=h,p.grid=a,p.index=f,a._axesList.push(p),s[c][f]=p,l[c]++}}}this._axesMap=s,D(s.x,function(c,h){D(s.y,function(f,v){var p="x"+h+"y"+v,g=new c5(p);g.master=i,g.model=t,i._coordsMap[p]=g,i._coordsList.push(g),g.addAxis(c),g.addAxis(f)})})},n.prototype._updateScale=function(t,e){function r(i,a){D(zh(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}D(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),"category"===i.type){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(MT(i)){var a=AT(i),o=a.xAxisModel,s=a.yAxisModel;if(!dg(o,e)||!dg(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),h=l.getAxis("y");r(u,c),r(u,h)}},this)},n.prototype.getTooltipAxes=function(t){var e=[],r=[];return D(this.getCartesians(),function(i){var a=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(a);_e(e,a)<0&&e.push(a),_e(r,o)<0&&r.push(o)}),{baseAxes:e,otherAxes:r}},n.create=function(t,e){var r=[];return t.eachComponent("grid",function(i,a){var o=new n(i,t,e);o.name="grid_"+a,o.resize(i,e,!0),i.coordinateSystem=o,r.push(o)}),t.eachSeries(function(i){if(MT(i)){var a=AT(i),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel();i.coordinateSystem=l.coordinateSystem.getCartesian(o.componentIndex,s.componentIndex)}}),r},n.dimensions=fg,n}();function dg(n,t){return n.getCoordSysModel()===t}function PT(n,t,e,r){e.getAxesOnZeroOf=function(){return a?[a]:[]};var a,i=n[t],o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)LT(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&LT(i[u])&&!r[c(i[u])]){a=i[u];break}a&&(r[c(a)]=!0)}function c(h){return h.dim+"_"+h.index}}function LT(n){return n&&"category"!==n.type&&"time"!==n.type&&function(n){var t=n.scale.getExtent(),e=t[0],r=t[1];return!(e>0&&r>0||e<0&&r<0)}(n)}const T5=w5;var Si=Math.PI,Na=function(){function n(t,e){this.group=new ue,this.opt=e,this.axisModel=t,re(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new ue({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(t){return!!OT[t]},n.prototype.add=function(t){OT[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,r){var a,o,i=R_(e-t);return Os(i)?(o=r>0?"top":"bottom",a="center"):Os(i-Si)?(o=r>0?"bottom":"top",a="center"):(o="middle",a=i>0&&i<Si?r>0?"right":"left":r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),OT={axisLine:function(n,t,e,r){var i=t.get(["axisLine","show"]);if("auto"===i&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),i){var a=t.axis.getExtent(),o=r.transform,s=[a[0],0],l=[a[1],0],u=s[0]>l[0];o&&(_t(s,s,o),_t(l,l,o));var c=V({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new yt({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});ko(h.shape,h.style.lineWidth),h.anid="line",e.add(h);var f=t.get(["axisLine","symbol"]);if(null!=f){var v=t.get(["axisLine","symbolSize"]);U(f)&&(f=[f,f]),(U(v)||De(v))&&(v=[v,v]);var p=xa(t.get(["axisLine","symbolOffset"])||0,v),g=v[0],m=v[1];D([{rotate:n.rotation+Math.PI/2,offset:p[0],r:0},{rotate:n.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,_){if("none"!==f[_]&&null!=f[_]){var S=ot(f[_],-g/2,-m/2,g,m,c.stroke,!0),x=y.r+y.offset,b=u?l:s;S.attr({rotation:y.rotate,x:b[0]+x*Math.cos(n.rotation),y:b[1]-x*Math.sin(n.rotation),silent:!0,z2:11}),e.add(S)}})}}},axisTickLabel:function(n,t,e,r){var i=function(n,t,e,r){var i=e.axis,a=e.getModel("axisTick"),o=a.get("show");if("auto"===o&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),o&&!i.scale.isBlank()){for(var s=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),c=kT(i.getTicksCoords(),t.transform,l,re(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)n.add(c[h]);return c}}(e,r,t,n),a=function(n,t,e,r){var i=e.axis;if(gt(r.axisLabelShow,e.get(["axisLabel","show"]))&&!i.scale.isBlank()){var o=e.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),u=(gt(r.labelRotate,o.get("rotate"))||0)*Si/180,c=Na.innerTextLayout(r.rotation,u,r.labelDirection),h=e.getCategories&&e.getCategories(!0),f=[],v=Na.isLabelSilent(e),p=e.get("triggerEvent");return D(l,function(g,m){var y="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,_=g.formattedLabel,S=g.rawLabel,x=o;if(h&&h[y]){var b=h[y];oe(b)&&b.textStyle&&(x=new Ge(b.textStyle,o,e.ecModel))}var w=x.getTextColor()||e.get(["axisLine","lineStyle","color"]),C=i.dataToCoord(y),T=x.getShallow("align",!0)||c.textAlign,z=ve(x.getShallow("alignMinLabel",!0),T),M=ve(x.getShallow("alignMaxLabel",!0),T),A=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,I=ve(x.getShallow("verticalAlignMinLabel",!0),A),P=ve(x.getShallow("verticalAlignMaxLabel",!0),A),L=new Me({x:C,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:v,z2:10+(g.level||0),style:Fe(x,{text:_,align:0===m?z:m===l.length-1?M:T,verticalAlign:0===m?I:m===l.length-1?P:A,fill:ee(w)?w("category"===i.type?S:"value"===i.type?y+"":y,m):w})});if(L.anid="label_"+y,_a({el:L,componentModel:e,itemName:_,formatterParamsExtra:{isTruncated:function(){return L.isTruncated},value:S,tickIndex:m}}),p){var O=Na.makeAxisEventDataBase(e);O.targetType="axisLabel",O.value=S,O.tickIndex=m,"category"===i.type&&(O.dataIndex=y),ce(L).eventData=O}t.add(L),L.updateTransform(),f.push(L),n.add(L),L.decomposeTransform()}),f}}(e,r,t,n);(function(n,t,e){if(!mT(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]),a=(t=t||[])[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=(e=e||[])[0],c=e[1],h=e[e.length-1],f=e[e.length-2];!1===r?(wn(a),wn(u)):RT(a,o)&&(r?(wn(o),wn(c)):(wn(a),wn(u))),!1===i?(wn(s),wn(h)):RT(l,s)&&(i?(wn(l),wn(f)):(wn(s),wn(h)))}})(t,a,i),function(n,t,e,r){var i=e.axis,a=e.getModel("minorTick");if(a.get("show")&&!i.scale.isBlank()){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),l=r*a.get("length"),u=re(s.getLineStyle(),re(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var h=kT(o[c],t.transform,l,u,"minorticks_"+c),f=0;f<h.length;f++)n.add(h[f])}}(e,r,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])&&Cw(xw(G(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(n,t,e,r){var i=gt(n.axisName,t.get("name"));if(i){var f,p,a=t.get("nameLocation"),o=n.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,h=["start"===a?u[0]-c*l:"end"===a?u[1]+c*l:(u[0]+u[1])/2,NT(a)?n.labelOffset+o*l:0],v=t.get("nameRotate");null!=v&&(v=v*Si/180),NT(a)?f=Na.innerTextLayout(n.rotation,null!=v?v:n.rotation,o):(f=function(n,t,e,r){var a,o,i=R_(e-n),s=r[0]>r[1],l="start"===t&&!s||"start"!==t&&s;return Os(i-Si/2)?(o=l?"bottom":"top",a="center"):Os(i-1.5*Si)?(o=l?"top":"bottom",a="center"):(o="middle",a=i<1.5*Si&&i>Si/2?l?"left":"right":l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}(n.rotation,a,v||0,u),null!=(p=n.axisNameAvailableWidth)&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var g=s.getFont(),m=t.get("nameTruncate",!0)||{},y=m.ellipsis,_=gt(n.nameTruncateMaxWidth,m.maxWidth,p),S=new Me({x:h[0],y:h[1],rotation:f.rotation,silent:Na.isLabelSilent(t),style:Fe(s,{text:i,font:g,overflow:"truncate",width:_,ellipsis:y,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(_a({el:S,componentModel:t,itemName:i}),S.__fullText=i,S.anid="name",t.get("triggerEvent")){var x=Na.makeAxisEventDataBase(t);x.targetType="axisName",x.name=i,ce(S).eventData=x}r.add(S),S.updateTransform(),e.add(S),S.decomposeTransform()}}};function wn(n){n&&(n.ignore=!0)}function RT(n,t){var e=n&&n.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(e&&r){var i=Cu([]);return Ei(i,i,-n.rotation),e.applyTransform(Tr([],i,n.getLocalTransform())),r.applyTransform(Tr([],i,t.getLocalTransform())),e.intersect(r)}}function NT(n){return"middle"===n||"center"===n}function kT(n,t,e,r,i){for(var a=[],o=[],s=[],l=0;l<n.length;l++){var u=n[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=e,t&&(_t(o,o,t),_t(s,s,t));var c=new yt({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});ko(c.shape,c.style.lineWidth),c.anid=i+"_"+n[l].tickValue,a.push(c)}return a}const Vr=Na;function gg(n,t){return"all"===n||F(n)&&_e(n,t)>=0||n===t}function k5(n){var t=mg(n);if(t){var e=t.axisPointerModel,r=t.axis.scale,i=e.option,a=e.get("status"),o=e.get("value");null!=o&&(o=r.parse(o));var s=yg(e);null==a&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function mg(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[El(n)]}function yg(n){return!!n.get(["handle","show"])}function El(n){return n.type+"||"+n.id}var ET={},B5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i,a){this.axisPointerClass&&k5(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,r,i,a){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,r){var i=this._axisPointer;i&&i.remove(r)},t.prototype.dispose=function(e,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,r,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var o=function(n){var t=mg(n);return t&&t.axisPointerModel}(e);o?(this._axisPointer||(this._axisPointer=new a)).render(e,o,r,i):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,r){ET[e]=r},t.getAxisPointerClass=function(e){return e&&ET[e]},t.type="axis",t}(je);const ka=B5;var _g=Ce();function BT(n,t,e,r){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var c=s.length,h=_g(n).splitAreaColors,f=Q(),v=0;if(h)for(var p=0;p<u.length;p++){var g=h.get(u[p].tickValue);if(null!=g){v=(g+(c-1)*p)%c;break}}var m=i.toGlobalCoord(u[0].coord),y=o.getAreaStyle();for(s=F(s)?s:[s],p=1;p<u.length;p++){var _=i.toGlobalCoord(u[p].coord),S=void 0,x=void 0,b=void 0,w=void 0;i.isHorizontal()?(x=l.y,w=l.height,m=(S=m)+(b=_-S)):(S=l.x,b=l.width,m=(x=m)+(w=_-x));var C=u[p-1].tickValue;null!=C&&f.set(C,v),t.add(new Te({anid:null!=C?"area_"+C:null,shape:{x:S,y:x,width:b,height:w},style:re({fill:s[v]},y),autoBatch:!0,silent:!0})),v=(v+1)%c}_g(n).splitAreaColors=f}}}function VT(n){_g(n).splitAreaColors=null}var V5=["axisLine","axisTickLabel","axisName"],F5=["splitArea","splitLine","minorSplitLine"],FT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return E(t,n),t.prototype.render=function(e,r,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ue,this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),l=vg(s,e),u=new Vr(e,V({handleAutoShown:function(h){for(var f=s.coordinateSystem.getCartesians(),v=0;v<f.length;v++)if(og(f[v].getOtherAxis(e.axis).scale))return!0;return!1}},l));D(V5,u.add,u),this._axisGroup.add(u.getGroup()),D(F5,function(h){e.get([h,"show"])&&G5[h](this,this._axisGroup,e,s)},this),a&&"changeAxisOrder"===a.type&&a.isInitSort||sl(o,this._axisGroup,e),n.prototype.render.call(this,e,r,i,a)}},t.prototype.remove=function(){VT(this)},t.type="cartesianAxis",t}(ka),G5={splitLine:function(n,t,e,r){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color"),l=!1!==a.get("showMinLine"),u=!1!==a.get("showMaxLine");s=F(s)?s:[s];for(var c=r.coordinateSystem.getRect(),h=i.isHorizontal(),f=0,v=i.getTicksCoords({tickModel:a}),p=[],g=[],m=o.getLineStyle(),y=0;y<v.length;y++){var _=i.toGlobalCoord(v[y].coord);if((0!==y||l)&&(y!==v.length-1||u)){var S=v[y].tickValue;h?(p[0]=_,p[1]=c.y,g[0]=_,g[1]=c.y+c.height):(p[0]=c.x,p[1]=_,g[0]=c.x+c.width,g[1]=_);var x=f++%s.length,b=new yt({anid:null!=S?"line_"+S:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:re({stroke:s[x]},m),silent:!0});ko(b.shape,m.lineWidth),t.add(b)}}}},minorSplitLine:function(n,t,e,r){var i=e.axis,o=e.getModel("minorSplitLine").getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],h=[],f=o.getLineStyle(),v=0;v<u.length;v++)for(var p=0;p<u[v].length;p++){var g=i.toGlobalCoord(u[v][p].coord);l?(c[0]=g,c[1]=s.y,h[0]=g,h[1]=s.y+s.height):(c[0]=s.x,c[1]=g,h[0]=s.x+s.width,h[1]=g);var m=new yt({anid:"minor_line_"+u[v][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0});ko(m.shape,f.lineWidth),t.add(m)}},splitArea:function(n,t,e,r){BT(n,t,e,r)}},GT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="xAxis",t}(FT),H5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=GT.type,e}return E(t,n),t.type="yAxis",t}(FT),W5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return E(t,n),t.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new Te({shape:e.coordinateSystem.getRect(),style:re({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(je),HT={offset:0};function WT(n){n.registerComponentView(W5),n.registerComponentModel(P3),n.registerCoordinateSystem("cartesian2d",T5),Xo(n,"x",rg,HT),Xo(n,"y",rg,HT),n.registerComponentView(GT),n.registerComponentView(H5),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function Z5(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),r=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();D(a,function(o,s){e.each(e.mapDimension(a[s].dim),function(l,u){r[u]=r[u]||[];var c=i.dataToPoint(l,s);r[u][s]=YT(c)?c:ZT(i)})}),e.each(function(o){var s=function(n,t,e){if(n&&t)for(var r=0,i=n.length;r<i;r++)if(t.call(undefined,n[r],r,n))return n[r]}(r[o],function(l){return YT(l)})||ZT(i);r[o].push(s.slice()),e.setItemLayout(o,r[o])})}})}function YT(n){return!isNaN(n[0])&&!isNaN(n[1])}function ZT(n){return[n.cx,n.cy]}function U5(n){var t=n.polar;if(t){F(t)||(t=[t]);var e=[];D(t,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],F(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):e.push(r)}),n.polar=e}D(n.series,function(r){r&&"radar"===r.type&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var $5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){var a=e.coordinateSystem,o=this.group,s=e.getData(),l=this._data;function u(f,v){var p=f.getItemVisual(v,"symbol")||"circle";if("none"!==p){var g=Vo(f.getItemVisual(v,"symbolSize")),m=ot(p,-1,-1,2,2),y=f.getItemVisual(v,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:y*Math.PI/180||0}),m}}function c(f,v,p,g,m,y){p.removeAll();for(var _=0;_<v.length-1;_++){var S=u(g,m);S&&(S.__dimIdx=_,f[_]?(S.setPosition(f[_]),br[y?"initProps":"updateProps"](S,{x:v[_][0],y:v[_][1]},e,m)):S.setPosition(v[_]),p.add(S))}}function h(f){return G(f,function(v){return[a.cx,a.cy]})}s.diff(l).add(function(f){var v=s.getItemLayout(f);if(v){var p=new $t,g=new Xt,m={shape:{points:v}};p.shape.points=h(v),g.shape.points=h(v),Ue(p,m,e,f),Ue(g,m,e,f);var y=new ue,_=new ue;y.add(g),y.add(p),y.add(_),c(g.shape.points,v,_,s,f,!0),s.setItemGraphicEl(f,y)}}).update(function(f,v){var p=l.getItemGraphicEl(v),g=p.childAt(0),m=p.childAt(1),y=p.childAt(2),_={shape:{points:s.getItemLayout(f)}};!_.shape.points||(c(g.shape.points,_.shape.points,y,s,f,!1),Nn(m),Nn(g),Ie(g,_,e),Ie(m,_,e),s.setItemGraphicEl(f,p))}).remove(function(f){o.remove(l.getItemGraphicEl(f))}).execute(),s.eachItemGraphicEl(function(f,v){var p=s.getItemModel(v),g=f.childAt(0),m=f.childAt(1),y=f.childAt(2),_=s.getItemVisual(v,"style"),S=_.fill;o.add(f),g.useStyle(re(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),xt(g,p,"lineStyle"),xt(m,p,"areaStyle");var x=p.getModel("areaStyle"),b=x.isEmpty()&&x.parentModel.isEmpty();m.ignore=b,D(["emphasis","select","blur"],function(T){var z=p.getModel([T,"areaStyle"]),M=z.isEmpty()&&z.parentModel.isEmpty();m.ensureState(T).ignore=M&&b}),m.useStyle(re(x.getAreaStyle(),{fill:S,opacity:.7,decal:_.decal}));var w=p.getModel("emphasis"),C=w.getModel("itemStyle").getItemStyle();y.eachChild(function(T){if(T instanceof St){var z=T.style;T.useStyle(V({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},_))}else T.useStyle(_),T.setColor(S),T.style.strokeNoScale=!0;T.ensureState("emphasis").style=se(C);var A=s.getStore().get(s.getDimensionIndex(T.__dimIdx),v);(null==A||isNaN(A))&&(A=""),bt(T,ht(p),{labelFetcher:s.hostModel,labelDataIndex:v,labelDimIndex:T.__dimIdx,defaultText:A,inheritColor:S,defaultOpacity:_.opacity})}),Je(f,w.get("focus"),w.get("blurScope"),w.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(He);const X5=$5;var Q5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return E(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ol($(this.getData,this),$(this.getRawData,this))},t.prototype.getInitialData=function(e,r){return $o(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,r,i){var a=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(e),u=""===l?this.name:l,c=zx(this,e);return ft("section",{header:u,sortBlocks:!0,blocks:G(s,function(h){var f=a.get(a.mapDimension(h.dim),e);return ft("nameValue",{markerType:"subItem",markerColor:c,name:h.name,value:f,sortParam:f})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var r=this.getData(),i=this.coordinateSystem,a=r.getValues(G(i.dimensions,function(u){return r.mapDimension(u)}),e),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=i.getIndicatorAxes();return i.coordToPoint(l[o].dataToCoord(a[o]),o)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}($e);const J5=Q5;var Bl=rT.value;function Dh(n,t){return re({show:t},n)}var q5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),f=this.get("triggerEvent"),v=G(this.get("indicator")||[],function(p){null!=p.max&&p.max>0&&!p.min?p.min=0:null!=p.min&&p.min<0&&!p.max&&(p.max=0);var g=l;null!=p.color&&(g=re({color:p.color},l));var m=de(se(p),{boundaryGap:e,splitNumber:r,scale:i,axisLine:a,axisTick:o,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:h,nameTextStyle:g,triggerEvent:f},!1);if(U(c)){var y=m.name;m.name=c.replace("{value}",null!=y?y:"")}else ee(c)&&(m.name=c(m.name,m));var _=new Ge(m,null,this.ecModel);return rt(_,Rl.prototype),_.mainType="radar",_.componentIndex=this.componentIndex,_},this);this._indicatorModels=v},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:de({lineStyle:{color:"#bbb"}},Bl.axisLine),axisLabel:Dh(Bl.axisLabel,!1),axisTick:Dh(Bl.axisTick,!1),splitLine:Dh(Bl.splitLine,!0),splitArea:Dh(Bl.splitArea,!0),indicator:[]},t}(Ae);const j5=q5;var K5=["axisLine","axisTickLabel","axisName"],e6=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var r=e.coordinateSystem;D(G(r.getIndicatorAxes(),function(o){var s=o.model.get("showName")?o.name:"";return new Vr(o.model,{axisName:s,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(o){D(K5,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var r=e.coordinateSystem,i=r.getIndicatorAxes();if(i.length){var a=e.get("shape"),o=e.getModel("splitLine"),s=e.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),h=s.get("show"),f=l.get("color"),v=u.get("color"),p=F(f)?f:[f],g=F(v)?v:[v],m=[],y=[];if("circle"===a)for(var S=i[0].getTicksCoords(),x=r.cx,b=r.cy,w=0;w<S.length;w++)c&&m[_(m,p,w)].push(new hi({shape:{cx:x,cy:b,r:S[w].coord}})),h&&w<S.length-1&&y[_(y,g,w)].push(new Pc({shape:{cx:x,cy:b,r0:S[w].coord,r:S[w+1].coord}}));else{var T,z=G(i,function(O,R){var k=O.getTicksCoords();return T=null==T?k.length-1:Math.min(k.length-1,T),G(k,function(N){return r.coordToPoint(N.coord,R)})}),M=[];for(w=0;w<=T;w++){for(var A=[],I=0;I<i.length;I++)A.push(z[I][w]);A[0]&&A.push(A[0].slice()),c&&m[_(m,p,w)].push(new Xt({shape:{points:A}})),h&&M&&y[_(y,g,w-1)].push(new $t({shape:{points:A.concat(M)}})),M=A.slice().reverse()}}var P=l.getLineStyle(),L=u.getAreaStyle();D(y,function(O,R){this.group.add(xn(O,{style:re({stroke:"none",fill:g[R%g.length]},L),silent:!0}))},this),D(m,function(O,R){this.group.add(xn(O,{style:re({fill:"none",stroke:p[R%p.length]},P),silent:!0}))},this)}function _(O,R,k){var N=k%R.length;return O[N]=O[N]||[],N}},t.type="radar",t}(je);const t6=e6;var n6=function(n){function t(e,r,i){var a=n.call(this,e,r,i)||this;return a.type="value",a.angle=0,a.name="",a}return E(t,n),t}(Yn);const r6=n6;var i6=function(){function n(t,e,r){this.dimensions=[],this._model=t,this._indicatorAxes=G(t.getIndicatorModels(),function(i,a){var o="indicator_"+a,s=new r6(o,new _i);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(t,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=Math.sqrt(e*e+r*r);e/=i,r/=i;for(var s,a=Math.atan2(-r,e),o=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],h=Math.abs(a-c.angle);h<o&&(s=c,l=u,o=h)}return[l,+(s&&s.coordToData(i))]},n.prototype.resize=function(t,e){var r=t.get("center"),i=e.getWidth(),a=e.getHeight(),o=Math.min(i,a)/2;this.cx=Y(r[0],i),this.cy=Y(r[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(U(s)||De(s))&&(s=[0,s]),this.r0=Y(s[0],o),this.r=Y(s[1],o),D(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},n.prototype.update=function(t,e){var r=this._indicatorAxes,i=this._model;D(r,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&t.getComponent("radar",s.get("radarIndex"))===i){var u=s.getData();D(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),o=new _i;o.setExtent(0,a),o.setInterval(1),D(r,function(s,l){IT(s.scale,s.model,o)})},n.prototype.convertToPixel=function(t,e,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var r=[];return t.eachComponent("radar",function(i){var a=new n(i,t,e);r.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){"radar"===i.get("coordinateSystem")&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},n.dimensions=[],n}();const a6=i6;function o6(n){n.registerCoordinateSystem("radar",a6),n.registerComponentModel(j5),n.registerComponentView(t6),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(r){e.setItemVisual(r,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var UT="\0_ec_interaction_mutex";function $T(n,t){return!!Sg(n)[t]}function Sg(n){return n[UT]||(n[UT]={})}fr({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},tt);var c6=function(n){function t(e){var r=n.call(this)||this;r._zr=e;var i=$(r._mousedownHandler,r),a=$(r._mousemoveHandler,r),o=$(r._mouseupHandler,r),s=$(r._mousewheelHandler,r),l=$(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=re(se(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==u&&(u=!0),(!0===u||"move"===u||"pan"===u)&&(e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",o)),(!0===u||"scale"===u||"zoom"===u)&&(e.on("mousewheel",s),e.on("pinch",l))},r.disable=function(){e.off("mousedown",i),e.off("mousemove",a),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},r}return E(t,n),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!O0(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=e.offsetX,a=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&Mh("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!$T(this._zr,"globalPan")){var r=e.offsetX,i=e.offsetY,a=this._x,o=this._y,s=r-a,l=i-o;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Cr(e.event),XT(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:a,oldY:o,newX:r,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){O0(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=Mh("zoomOnMouseWheel",e,this._opt),i=Mh("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,o=Math.abs(a),s=e.offsetX,l=e.offsetY;if(0!==a&&(r||i)){if(r){var u=o>3?1.4:o>1?1.2:1.1;xg(this,"zoom","zoomOnMouseWheel",e,{scale:a>0?u:1/u,originX:s,originY:l,isAvailableBehavior:null})}if(i){var h=Math.abs(a);xg(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(a>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){$T(this._zr,"globalPan")||xg(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(cn);function xg(n,t,e,r,i){n.pointerChecker&&n.pointerChecker(r,i.originX,i.originY)&&(Cr(r.event),XT(n,t,e,r,i))}function XT(n,t,e,r,i){i.isAvailableBehavior=$(Mh,null,e,r),n.trigger(t,i)}function Mh(n,t,e){var r=e[n];return!n||r&&(!U(r)||t.event[r+"Key"])}const Vl=c6;function bg(n,t,e){var r=n.target;r.x+=t,r.y+=e,r.dirty()}function wg(n,t,e,r){var i=n.target,a=n.zoomLimit,o=n.zoom=n.zoom||1;if(o*=t,a){var s=a.min||0;o=Math.max(Math.min(a.max||1/0,o),s)}var u=o/n.zoom;n.zoom=o,i.x-=(e-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var h6={axisPointer:1,tooltip:1,brush:1};function Ah(n,t,e){var r=t.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==e&&!h6.hasOwnProperty(r.mainType)&&i&&i.model!==e}function QT(n){U(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var e=n;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var Cg,Ih={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},JT=we(Ih),Ph={"alignment-baseline":"textBaseline","stop-color":"stopColor"},qT=we(Ph),f6=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var r=QT(t);this._defsUsePending=[];var i=new ue;this._root=i;var c,h,a=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||e.width),l=parseFloat(r.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),on(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;if(function(n,t){for(var e=0;e<t.length;e++){var r=t[e];r[0].style[r[1]]=n[r[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var f=Lh(o);f.length>=4&&(c={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(c&&null!=s&&null!=l&&(h=az(c,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var v=i;(i=new ue).add(v),v.scaleX=v.scaleY=h.scale,v.x=h.x,v.y=h.y}return!e.ignoreRootClip&&null!=s&&null!=l&&i.setClipPath(new Te({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:h,named:a}},n.prototype._parseNode=function(t,e,r,i,a,o){var l,s=t.nodeName.toLowerCase(),u=i;if("defs"===s&&(a=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)l=e;else{if(!a){var c=Cg[s];if(c&&X(Cg,s)){l=c.call(this,t,e);var h=t.getAttribute("name");if(h){var f={name:h,namedFrom:null,svgNodeTagLower:s,el:l};r.push(f),"g"===s&&(u=f)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});e.add(l)}}var v=jT[s];if(v&&X(jT,s)){var p=v.call(this,t),g=t.getAttribute("id");g&&(this._defs[g]=p)}}if(l&&l.isGroup)for(var m=t.firstChild;m;)1===m.nodeType?this._parseNode(m,l,r,u,a,o):3===m.nodeType&&o&&this._parseText(m,l),m=m.nextSibling},n.prototype._parseText=function(t,e){var r=new Fs({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Cn(e,r),on(t,r,this._defsUsePending,!1,!1),function(n,t){var e=t.__selfStyle;if(e){var r=e.textBaseline,i=r;r&&"auto"!==r&&"baseline"!==r?"before-edge"===r||"text-before-edge"===r?i="top":"after-edge"===r||"text-after-edge"===r?i="bottom":("central"===r||"mathematical"===r)&&(i="middle"):i="alphabetic",n.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&("middle"===o&&(s="center"),n.style.textAlign=s)}}(r,e);var i=r.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=r.getBoundingRect();return this._textX+=s.width,e.add(r),r},n.internalField=void(Cg={g:function(t,e){var r=new ue;return Cn(e,r),on(t,r,this._defsUsePending,!1,!1),r},rect:function(t,e){var r=new Te;return Cn(e,r),on(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,e){var r=new hi;return Cn(e,r),on(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,e){var r=new yt;return Cn(e,r),on(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,e){var r=new jp;return Cn(e,r),on(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,e){var i,r=t.getAttribute("points");r&&(i=tz(r));var a=new $t({shape:{points:i||[]},silent:!0});return Cn(e,a),on(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var i,r=t.getAttribute("points");r&&(i=tz(r));var a=new Xt({shape:{points:i||[]},silent:!0});return Cn(e,a),on(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var r=new St;return Cn(e,r),on(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,e){var r=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var s=new ue;return Cn(e,s),on(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var r=t.getAttribute("x"),i=t.getAttribute("y");null!=r&&(this._textX=parseFloat(r)),null!=i&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new ue;return Cn(e,s),on(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(t,e){var i=Vx(t.getAttribute("d")||"");return Cn(e,i),on(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),jT={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),a=new ol(t,e,r,i);return KT(n,a),ez(n,a),a},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),i=new eb(t,e,r);return KT(n,i),ez(n,i),i}};function KT(n,t){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(t.global=!0)}function ez(n,t){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var i,r=e.getAttribute("offset");i=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var a={};iz(e,a,a);var o=a.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:o})}e=e.nextSibling}}function Cn(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),re(t.__inheritedStyle,n.__inheritedStyle))}function tz(n){for(var t=Lh(n),e=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),a=parseFloat(t[r+1]);e.push([i,a])}return e}function on(n,t,e,r,i){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};1===n.nodeType&&(function(n,t){var e=n.getAttribute("transform");if(e){e=e.replace(/,/g," ");var r=[],i=null;e.replace(m6,function(h,f,v){return r.push(f,v),""});for(var a=r.length-1;a>0;a-=2){var s=r[a-1],l=Lh(r[a]);switch(i=i||[1,0,0,1,0,0],s){case"translate":jn(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":$f(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ei(i,i,-parseFloat(l[0])*Tg,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":Tr(i,[1,0,Math.tan(parseFloat(l[0])*Tg),1,0,0],i);break;case"skewY":Tr(i,[1,Math.tan(parseFloat(l[0])*Tg),0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5])}}t.setLocalTransform(i)}}(n,t),iz(n,o,s),r||function(n,t,e){for(var r=0;r<JT.length;r++)null!=(a=n.getAttribute(i=JT[r]))&&(t[Ih[i]]=a);for(r=0;r<qT.length;r++){var i,a;null!=(a=n.getAttribute(i=qT[r]))&&(e[Ph[i]]=a)}}(n,o,s)),a.style=a.style||{},null!=o.fill&&(a.style.fill=nz(a,"fill",o.fill,e)),null!=o.stroke&&(a.style.stroke=nz(a,"stroke",o.stroke,e)),D(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){null!=o[l]&&(a.style[l]=parseFloat(o[l]))}),D(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){null!=o[l]&&(a.style[l]=o[l])}),i&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=G(Lh(o.lineDash),function(l){return parseFloat(l)})),("hidden"===o.visibility||"collapse"===o.visibility)&&(a.invisible=!0),"none"===o.display&&(a.ignore=!0)}var p6=/^url\(\s*#(.*?)\)/;function nz(n,t,e,r){var i=e&&e.match(p6);if(!i)return"none"===e&&(e=null),e;var a=Pn(i[1]);r.push([n,t,a])}var g6=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Lh(n){return n.match(g6)||[]}var m6=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Tg=Math.PI/180,rz=/([^\s:;]+)\s*:\s*([^:;]+)/g;function iz(n,t,e){var r=n.getAttribute("style");if(r){rz.lastIndex=0;for(var i;null!=(i=rz.exec(r));){var a=i[1],o=X(Ih,a)?Ih[a]:null;o&&(t[o]=i[2]);var s=X(Ph,a)?Ph[a]:null;s&&(e[s]=i[2])}}}function az(n,t){var i=Math.min(t.width/n.width,t.height/n.height);return{scale:i,x:-(n.x+n.width/2)*i+(t.x+t.width/2),y:-(n.y+n.height/2)*i+(t.y+t.height/2)}}function oz(n,t){return Math.abs(n-t)<1e-8}function Ea(n,t,e){var r=0,i=n[0];if(!i)return!1;for(var a=1;a<n.length;a++){var o=n[a];r+=Ir(i[0],i[1],o[0],o[1],t,e),i=o}var s=n[0];return(!oz(i[0],s[0])||!oz(i[1],s[1]))&&(r+=Ir(i[0],i[1],s[0],s[1],t,e)),0!==r}var b6=[];function zg(n,t){for(var e=0;e<n.length;e++)_t(n[e],n[e],t)}function sz(n,t,e,r){for(var i=0;i<n.length;i++){var a=n[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Xr(t,t,a),Qr(e,e,a))}}var lz=function(){function n(t){this.name=t}return n.prototype.setCenter=function(t){this._center=t},n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},n}(),uz=function(t,e){this.type="polygon",this.exterior=t,this.interiors=e},cz=function(t){this.type="linestring",this.points=t},hz=function(n){function t(e,r,i){var a=n.call(this,e)||this;return a.type="geoJSON",a.geometries=r,a._center=i&&[i[0],i[1]],a}return E(t,n),t.prototype.calcCenter=function(){for(var r,e=this.geometries,i=0,a=0;a<e.length;a++){var o=e[a],s=o.exterior,l=s&&s.length;l>i&&(r=o,i=l)}if(r)return function(n){for(var t=0,e=0,r=0,i=n.length,a=n[i-1][0],o=n[i-1][1],s=0;s<i;s++){var l=n[s][0],u=n[s][1],c=a*u-l*o;t+=c,e+=(a+l)*c,r+=(o+u)*c,a=l,o=u}return t?[e/t/3,r/t/3,t]:[n[0][0]||0,n[0][1]||0]}(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(e){var r=this._rect;if(r&&!e)return r;var i=[1/0,1/0],a=[-1/0,-1/0];return D(this.geometries,function(s){"polygon"===s.type?sz(s.exterior,i,a,e):D(s.points,function(l){sz(l,i,a,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),r=new me(i[0],i[1],a[0]-i[0],a[1]-i[1]),e||(this._rect=r),r},t.prototype.contain=function(e){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var a=0,o=i.length;a<o;a++){var s=i[a];if("polygon"===s.type){var u=s.interiors;if(Ea(s.exterior,e[0],e[1])){for(var c=0;c<(u?u.length:0);c++)if(Ea(u[c],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,r,i,a){var o=this.getBoundingRect(),s=o.width/o.height;i?a||(a=i/s):i=s*a;for(var l=new me(e,r,i,a),u=o.calculateTransform(l),c=this.geometries,h=0;h<c.length;h++){var f=c[h];"polygon"===f.type?(zg(f.exterior,u),D(f.interiors,function(v){zg(v,u)})):D(f.points,function(v){zg(v,u)})}(o=this._rect).copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var r=new t(e,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(lz),C6=function(n){function t(e,r){var i=n.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return E(t,n),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,r=e.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],a=Cu(b6),o=e;o&&!o.isGeoSVGGraphicRoot;)Tr(a,o.getLocalTransform(),a),o=o.parent;return ao(a,a),_t(i,i,a),i},t}(lz),T6=Q(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),z6=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=Q(),this._freedGraphics=[],this._mapName=t,this._parsedXML=QT(e)}return n.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function(n){var t=[],e=Q();return D(n,function(r){if(null==r.namedFrom){var i=new C6(r.name,r.el);t.push(i),e.set(r.name,i)}}),{regions:t,regionsMap:e}}(t.named),i=e.regionsMap;this._regions=e.regions,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,r;try{e=t&&function(n,t){return(new f6).parse(n,{ignoreViewBox:!0,ignoreRootClip:!0})}(t)||{},Rt(null!=(r=e.root))}catch(m){throw new Error("Invalid svg format\n"+m.message)}var i=new ue;i.add(r),i.isGeoSVGGraphicRoot=!0;var a=e.width,o=e.height,s=e.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,h=void 0,f=void 0;if(null!=a?(u=0,h=a):s&&(u=s.x,h=s.width),null!=o?(c=0,f=o):s&&(c=s.y,f=s.height),null==u||null==c){var v=r.getBoundingRect();null==u&&(u=v.x,h=v.width),null==c&&(c=v.y,f=v.height)}l=this._boundingRect=new me(u,c,h,f)}if(s){var p=az(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}i.setClipPath(new Te({shape:l.plain()}));var g=[];return D(e.named,function(m){null!=T6.get(m.svgNodeTagLower)&&(g.push(m),function(n){n.silent=!1,n.isGroup&&n.traverse(function(t){t.silent=!1})}(m.el))}),{root:i,boundingRect:l,named:g}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,r),r)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);r&&(e.removeKey(t),this._freedGraphics.push(r))},n}();function Dg(n,t,e){for(var r=0;r<n.length;r++)n[r]=fz(n[r],t[r],e)}function fz(n,t,e){for(var r=[],i=t[0],a=t[1],o=0;o<n.length;o+=2){var s=n.charCodeAt(o)-64,l=n.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),i=s+=i,a=l+=a,r.push([s/e,l/e])}return r}for(var Mg=[126,25],Ba=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Va=0;Va<Ba.length;Va++)for(var qo=0;qo<Ba[Va].length;qo++)Ba[Va][qo][0]/=10.5,Ba[Va][qo][1]/=-14,Ba[Va][qo][0]+=Mg[0],Ba[Va][qo][1]+=Mg[1];var L6={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},R6=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],E6=function(){function n(t,e,r){this.type="geoJSON",this._parsedMap=Q(),this._mapName=t,this._specialAreas=r,this._geoJSON=function(n){return U(n)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}(e)}return n.prototype.load=function(t,e){var r=this._parsedMap.get(e=e||"name");if(!r){var i=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:i,boundingRect:B6(i)})}var a=Q(),o=[];return D(r.regions,function(s){var l=s.name;t&&X(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new me(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(t){var i,e=this._mapName,r=this._geoJSON;try{i=r?function(n,t){return n=function(n){if(!n.UTF8Encoding)return n;var t=n,e=t.UTF8Scale;return null==e&&(e=1024),D(t.features,function(i){var a=i.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=fz(s,o,e);break;case"Polygon":case"MultiLineString":Dg(s,o,e);break;case"MultiPolygon":D(s,function(l,u){return Dg(l,o[u],e)})}}),t.UTF8Encoding=!1,t}(n),G(Pe(n.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,i=e.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new uz(o[0],o.slice(1)));break;case"MultiPolygon":D(i.coordinates,function(l){l[0]&&a.push(new uz(l[0],l.slice(1)))});break;case"LineString":a.push(new cz([i.coordinates]));break;case"MultiLineString":a.push(new cz(i.coordinates))}var s=new hz(r[t||"name"],a,r.cp);return s.properties=r,s})}(r,t):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return function(n,t){if("china"===n){for(var e=0;e<t.length;e++)if("\u5357\u6d77\u8bf8\u5c9b"===t[e].name)return;t.push(new hz("\u5357\u6d77\u8bf8\u5c9b",G(Ba,function(r){return{type:"polygon",exterior:r}}),Mg))}}(e,i),D(i,function(a){var o=a.name;(function(n,t){if("china"===n){var e=L6[t.name];if(e){var r=t.getCenter();r[0]+=e[0]/10.5,r[1]+=-e[1]/14,t.setCenter(r)}}})(e,a),function(n,t){"china"===n&&"\u53f0\u6e7e"===t.name&&t.geometries.push({type:"polygon",exterior:R6[0]})}(e,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),i},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function B6(n){for(var t,e=0;e<n.length;e++){var r=n[e].getBoundingRect();(t=t||r.clone()).union(r)}return t}var Fl=Q();const Fr_getGeoResource=function(n){return Fl.get(n)},Fr_load=function(n,t,e){var r=Fl.get(n);if(r)return r.load(t,e)};var Ag=["rect","circle","line","ellipse","polygon","polyline","path"],F6=Q(Ag),G6=Q(Ag.concat(["g"])),H6=Q(Ag.concat(["g"])),pz=Ce();function Oh(n){var t=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(t.fill=e),t}function dz(n){var t=n.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var W6=function(){function n(t){var e=new ue;this.uid=xo("ec_map_draw"),this._controller=new Vl(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new ue),e.add(this._svgGroup=new ue)}return n.prototype.draw=function(t,e,r,i,a){var o="geo"===t.mainType,s=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(y){!s&&y.getHostGeoModel()===t&&(s=y.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this.group,h=l.getTransformInfo(),f=h.raw,v=h.roam;!u.childAt(0)||a?(c.x=v.x,c.y=v.y,c.scaleX=v.scaleX,c.scaleY=v.scaleY,c.dirty()):Ie(c,v,t);var g=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,m={api:r,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:g,isGeo:o,transformInfoRaw:f};"geoJSON"===l.resourceType?this._buildGeoJSON(m):"geoSVG"===l.resourceType&&this._buildSVG(m),this._updateController(t,e,r),this._updateMapSelectHandler(t,u,r,i)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Q(),r=Q(),i=this._regionsGroup,a=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(v,p){return p&&(v=p(v)),v&&[v[0]*a.scaleX+a.x,v[1]*a.scaleY+a.y]}function h(v){for(var p=[],g=!u&&l&&l.project,m=0;m<v.length;++m){var y=c(v[m],g);y&&p.push(y)}return p}function f(v){return{shape:{points:h(v)}}}i.removeAll(),D(t.geo.regions,function(v){var p=v.name,g=e.get(p),m=r.get(p)||{},y=m.dataIdx,_=m.regionModel;if(!g){g=e.set(p,new ue),i.add(g),y=s?s.indexOfName(p):null;var S=(_=t.isGeo?o.getRegionModel(p):s?s.getItemModel(y):null).get("silent",!0);null!=S&&(g.silent=S),r.set(p,{dataIdx:y,regionModel:_})}var x=[],b=[];D(v.geometries,function(T){if("polygon"===T.type){var z=[T.exterior].concat(T.interiors||[]);u&&(z=xz(z,u)),D(z,function(A){x.push(new $t(f(A)))})}else{var M=T.points;u&&(M=xz(M,u,!0)),D(M,function(A){b.push(new Xt(f(A)))})}});var w=c(v.getCenter(),l&&l.project);function C(T,z){if(T.length){var M=new td({culling:!0,segmentIgnoreThreshold:1,shape:{paths:T}});g.add(M),gz(t,M,y,_),mz(t,M,p,_,o,y,w),z&&(dz(M),D(M.states,dz))}}C(x),C(b,!0)}),e.each(function(v,p){var g=r.get(p),y=g.regionModel;yz(t,v,p,y,o,g.dataIdx),_z(t,v,p,y,o),Sz(t,v,p,y,o)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=Q(),a=!1;D(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,c=o.svgNodeTagLower,h=o.el,f=u?u.indexOfName(s):null,v=l.getRegionModel(s);null!=F6.get(c)&&h instanceof dn&&gz(t,h,f,v),h instanceof dn&&(h.culling=!0);var p=v.get("silent",!0);null!=p&&(h.silent=p),h.z2EmphasisLift=0,o.namedFrom||(null!=H6.get(c)&&mz(t,h,s,v,l,f,null),yz(t,h,s,v,l,f),_z(t,h,s,v,l),null==G6.get(c))||("self"===Sz(t,h,s,v,l)&&(a=!0),(i.get(s)||i.set(s,[])).push(h))},this),this._enableBlurEntireSVG(a,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var i=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){aa(a);var o=a.ensureState("blur").style||{};null==o.opacity&&null!=i&&(o.opacity=i),a.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var r=e.coordinateSystem;if("geoJSON"===r.resourceType){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if("geoSVG"===r.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=Fr_getGeoResource(t);if(e&&"geoSVG"===e.type){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Fr_getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,r){var i=t.coordinateSystem,a=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=i.getZoom(),a.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}a.off("pan").on("pan",function(u){this._mouseDownFlag=!1,bg(o,u.dx,u.dy),r.dispatchAction(V(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,wg(o,u.scale,u.originX,u.originY),r.dispatchAction(V(l(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(u,c,h){return i.containPoint([c,h])&&!Ah(u,r,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=pz(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,r,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(o){!a._mouseDownFlag||(a._mouseDownFlag=!1)}))},n}();function gz(n,t,e,r){var i=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=Oh(i),u=Oh(a),c=Oh(s),h=Oh(o),f=n.data;if(f){var v=f.getItemVisual(e,"style"),p=f.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&v.fill&&(l.fill=v.fill),p&&(l.decal=Go(p,n.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=h,aa(t)}function mz(n,t,e,r,i,a,o){var s=n.data,l=n.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var h=l?e:a,f=void 0;(!s||a>=0)&&(f=i);var v=o?{normal:{align:"center",verticalAlign:"middle"}}:null;bt(t,ht(r),{labelFetcher:f,labelDataIndex:h,defaultText:e},v);var p=t.getTextContent();if(p&&(pz(p).ignore=p.ignore,t.textConfig&&o)){var g=t.getBoundingRect().clone();t.textConfig.layoutRect=g,t.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function yz(n,t,e,r,i,a){n.data?n.data.setItemGraphicEl(a,t):ce(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:r&&r.option||{}}}function _z(n,t,e,r,i){n.data||_a({el:t,componentModel:i,itemName:e,itemTooltipOption:r.get("tooltip")})}function Sz(n,t,e,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=r.getModel("emphasis"),o=a.get("focus");return Je(t,o,a.get("blurScope"),a.get("disabled")),n.isGeo&&function(n,t,e){var r=ce(n);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=e}(t,i,e),o}function xz(n,t,e){var i,r=[];function a(){i=[]}function o(){i.length&&(r.push(i),i=[])}var s=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!e&&s.polygonStart(),D(n,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!e&&s.polygonEnd(),r}const bz=W6;var Y6=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===e.id)(s=this._mapDraw)&&o.add(s.group);else if(e.needsDrawMap){var s=this._mapDraw||new bz(i);o.add(s.group),s.draw(e,r,i,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,r,i){var a=e.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=a.getItemLayout(l);if(u&&u.point){var c=u.point,h=u.offset,f=new hi({style:{fill:e.getData().getVisual("style").fill},shape:{cx:c[0]+9*h,cy:c[1],r:3},silent:!0,z2:8+(h?0:11)});if(!h){var v=e.mainSeries.getData(),p=a.getName(l),g=v.indexOfName(p),m=a.getItemModel(l),y=m.getModel("label"),_=v.getItemGraphicEl(g);bt(f,ht(m),{labelFetcher:{getFormattedLabel:function(S,x){return e.getFormattedLabel(g,x)}},defaultText:p}),f.disableLabelAnimation=!0,y.get("position")||f.setTextConfig({position:"bottom"}),_.onHoverStateChange=function(S){oc(f,S)}}o.add(f)}}})},t.type="map",t}(He);const Z6=Y6;var U6=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(r){if(null!=r){var i=this.getData().getName(r),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},e}return E(t,n),t.prototype.getInitialData=function(e){for(var r=$o(this,{coordDimensions:["value"],encodeDefaulter:pe(Dp,this)}),i=Q(),a=[],o=0,s=r.count();o<s;o++){var l=r.getName(o);i.set(l,o)}return D(Fr_load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(c){var p,h=c.name,f=i.get(h),v=c.properties&&c.properties.echartsStyle;null==f?a.push(p={name:h}):p=r.getRawDataItem(f),v&&de(p,v)}),r.appendData(a),r},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},t.prototype.formatTooltip=function(e,r,i){for(var a=this.getData(),o=this.getRawValue(e),s=a.getName(e),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var h=l[c].originalData.indexOfName(s),f=a.mapDimension("value");isNaN(l[c].originalData.get(f,h))||u.push(l[c].name)}return ft("section",{header:u.join(", "),noHeader:!u.length,blocks:[ft("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var r=e.icon||"roundRect",i=ot(r,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}($e);const $6=U6;function Q6(n){var t={};n.eachSeriesByType("map",function(e){var r=e.getHostGeoModel(),i=r?"o"+r.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),D(t,function(e,r){for(var i=function(n,t){var e={};return D(n,function(r){r.each(r.mapDimension("value"),function(i,a){var o="ec-"+r.getName(a);e[o]=e[o]||[],isNaN(i)||e[o].push(i)})}),n[0].map(n[0].mapDimension("value"),function(r,i){for(var a="ec-"+n[0].getName(i),o=0,s=1/0,l=-1/0,u=e[a].length,c=0;c<u;c++)s=Math.min(s,e[a][c]),l=Math.max(l,e[a][c]),o+=e[a][c];return 0===u?NaN:"min"===t?s:"max"===t?l:"average"===t?o/u:o})}(G(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(i.cloneShallow()),e[a].mainSeries=e[0]})}function J6(n){var t={};n.eachSeriesByType("map",function(e){var r=e.getMapType();if(!e.getHostGeoModel()&&!t[r]){var i={};D(e.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var h=l.getName(c),f=s.getRegion(h);if(f&&!isNaN(u)){var v=i[h]||0,p=s.dataToPoint(f.getCenter());i[h]=v+1,l.setItemLayout(c,{point:p,offset:v})}})});var a=e.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!i[s],a.setItemLayout(o,l)}),t[r]=!0}})}var wz=_t,q6=function(n){function t(e){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Dr,r._rawTransformable=new Dr,r.name=e,r}return E(t,n),t.prototype.setBoundingRect=function(e,r,i,a){return this._rect=new me(e,r,i,a),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,r,i,a){this._transformTo(e,r,i,a),this._viewRect=new me(e,r,i,a)},t.prototype._transformTo=function(e,r,i,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new me(e,r,i,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e,r){!e||(this._center=[Y(e[0],r.getWidth()),Y(e[1],r.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var r=this.zoomLimit;r&&(null!=r.max&&(e=Math.min(r.max,e)),null!=r.min&&(e=Math.max(r.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=_t([],a,e),i=_t([],i,e),r.originX=a[0],r.originY=a[1],r.x=i[0]-a[0],r.y=i[1]-a[1],r.scaleX=r.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,r=this._rawTransformable;r.parent=e,e.updateTransform(),r.updateTransform(),Uf(this.transform||(this.transform=[]),r.transform||[1,0,0,1,0,0]),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],ao(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,r=this._roamTransformable,i=new Dr;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?wz(i,e,a):Nt(i,e)},t.prototype.pointToData=function(e){var r=this.invTransform;return r?wz([],e,r):[e[0],e[1]]},t.prototype.convertToPixel=function(e,r,i){var a=Cz(r);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var a=Cz(r);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Dr);function Cz(n){var t=n.seriesModel;return t?t.coordinateSystem:null}const Gl=q6;var j6={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Tz=["lng","lat"],zz=function(n){function t(e,r,i){var a=n.call(this,e)||this;a.dimensions=Tz,a.type="geo",a._nameCoordMap=Q(),a.map=r;var f,o=i.projection,s=Fr_load(r,i.nameMap,i.nameProperty),l=Fr_getGeoResource(r),c=(a.resourceType=l?l.type:null,a.regions=s.regions),h=j6[l.type];if(a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o,o)for(var v=0;v<c.length;v++){var p=c[v].getBoundingRect(o);(f=f||p.clone()).union(p)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:ve(i.aspectScale,h.aspectScale),a._invertLongitute=!o&&h.invertLongitute,a}return E(t,n),t.prototype._transformTo=function(e,r,i,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new me(e,r,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var r=this.regions,i=0;i<r.length;i++){var a=r[i];if("geoJSON"===a.type&&a.contain(e))return r[i]}},t.prototype.addGeoCoord=function(e,r){this._nameCoordMap.set(e,r)},t.prototype.getGeoCoord=function(e){var r=this._regionsMap.get(e);return this._nameCoordMap.get(e)||r&&r.getCenter()},t.prototype.dataToPoint=function(e,r,i){if(U(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,r,i)}},t.prototype.pointToData=function(e){var r=this.projection;return r&&(e=r.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return n.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,r,i){return n.prototype.dataToPoint.call(this,e,r,i)},t.prototype.convertToPixel=function(e,r,i){var a=Dz(r);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var a=Dz(r);return a===this?a.pointToData(i):null},t}(Gl);function Dz(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",it).models[0]||{}).coordinateSystem:null}rt(zz,Gl);const Mz=zz;function Az(n,t){var e=n.get("boundingCoords");if(null!=e){var r=e[0],i=e[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=r[0],s=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(w,C,T,z){for(var M=T-w,A=z-C,I=0;I<=100;I++){var P=I/100,L=a.project([w+M*P,C+A*P]);Xr(r,r,L),Qr(i,i,L)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var _,S,x,h=this.getBoundingRect(),f=n.get("layoutCenter"),v=n.get("layoutSize"),p=t.getWidth(),g=t.getHeight(),m=h.width/h.height*this.aspectScale,y=!1;if(f&&v&&(_=[Y(f[0],p),Y(f[1],g)],S=Y(v,Math.min(p,g)),!isNaN(_[0])&&!isNaN(_[1])&&!isNaN(S)&&(y=!0)),y)x={},m>1?(x.width=S,x.height=S/m):(x.height=S,x.width=S*m),x.y=_[1]-x.height/2,x.x=_[0]-x.width/2;else{var b=n.getBoxLayoutParams();b.aspect=m,x=lt(b,{width:p,height:g})}this.setViewRect(x.x,x.y,x.width,x.height),this.setCenter(n.get("center"),t),this.setZoom(n.get("zoom"))}var eG=function(){function n(){this.dimensions=Tz}return n.prototype.create=function(t,e){var r=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new Mz(l+s,l,V({nameMap:o.get("nameMap")},i(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=Az,u.resize(o,e)}),t.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var l=o.get("geoIndex")||0;o.coordinateSystem=r[l]}});var a={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),D(a,function(o,s){var l=G(o,function(c){return c.get("nameMap")}),u=new Mz(s,s,V({nameMap:If(l)},i(o[0])));u.zoomLimit=gt.apply(null,G(o,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=Az,u.resize(o[0],e),D(o,function(c){c.coordinateSystem=u,function(n,t){D(t.get("geoCoord"),function(e,r){n.addGeoCoord(r,e)})}(u,c)})}),r},n.prototype.getFilledRegions=function(t,e,r,i){for(var a=(t||[]).slice(),o=Q(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);return D(Fr_load(e,r,i).regions,function(u){var c=u.name,h=o.get(c),f=u.properties&&u.properties.echartsStyle;h||a.push(h={name:c}),f&&de(h,f)}),a},n}();const Iz=new eG;var nG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e,r,i){var a=Fr_getGeoResource(e.map);if(a&&"geoJSON"===a.type){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,i),Ui(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,r=this.option;r.regions=Iz.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=Jn(r.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new Ge(o,e,e.ecModel)),o.selected&&(i[s]=!0)),a},Q()),r.selectedMap||(r.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Ge(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,r){var a=this.getRegionModel(e).get("normal"===r?["label","formatter"]:["emphasis","label","formatter"]),o={name:e};return ee(a)?(o.status=r,a(o)):U(a)?a.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var r=this.option,i=r.selectedMode;i&&("multiple"!==i&&(r.selectedMap=null),(r.selectedMap||(r.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var r=this.option.selectedMap;r&&(r[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var r=this.option.selectedMap;return!(!r||!r[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Ae);const rG=nG;function Pz(n,t){return n.pointToProjected?n.pointToProjected(t):n.pointToData(t)}function Ig(n,t,e,r){var i=n.getZoom(),a=n.getCenter(),o=t.zoom,s=n.projectedToPoint?n.projectedToPoint(a):n.dataToPoint(a);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,n.setCenter(Pz(n,s),r)),null!=o){if(e){var l=e.min||0;o=Math.max(Math.min(i*o,e.max||1/0),l)/i}n.scaleX*=o,n.scaleY*=o;var h=(t.originY-n.y)*(o-1);n.x-=(t.originX-n.x)*(o-1),n.y-=h,n.updateTransform(),n.setCenter(Pz(n,s),r),n.setZoom(o*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var iG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return E(t,n),t.prototype.init=function(e,r){this._api=r},t.prototype.render=function(e,r,i,a){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new bz(i));var o=this._mapDraw;o.draw(e,r,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,r,i)},t.prototype._handleRegionClick=function(e){var r;Sa(e.target,function(i){return null!=(r=ce(i).eventData)},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(e,r,i){var a=this;this._mapDraw.group.traverse(function(o){var s=ce(o).eventData;if(s)return a._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(je);const aG=iG;function oG(n,t,e){!function(n,t,e){if(t.svg){var r=new z6(n,t.svg);Fl.set(n,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t,r=new E6(n,i,e),Fl.set(n,r)}}(n,t,e)}function Lz(n){function t(e,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(i,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[e](i.name),D(l.coordinateSystem.regions,function(h){o[h.name]=l.isSelected(h.name)||!1});var c=[];D(o,function(h,f){o[f]&&c.push(f)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:i.name}})}n.registerCoordinateSystem("geo",Iz),n.registerComponentModel(rG),n.registerComponentView(aG),n.registerImpl("registerMap",oG),n.registerImpl("getMap",function(e){return function(n){var t=Fl.get(n);return t&&"geoJSON"===t.type&&t.getMapForUser()}(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r,i){var a=e.componentType||"series";r.eachComponent({mainType:a,query:e},function(o){var s=o.coordinateSystem;if("geo"===s.type){var l=Ig(s,e,o.get("scaleLimit"),i);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),"series"===a&&D(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function uG(n,t){var e=n.isExpand?n.children:[],r=n.parentNode.children,i=n.hierNode.i?r[n.hierNode.i-1]:null;if(e.length){!function(n){for(var t=n.children,e=t.length,r=0,i=0;--e>=0;){var a=t[e];a.hierNode.prelim+=r,a.hierNode.modifier+=r,r+=a.hierNode.shift+(i+=a.hierNode.change)}}(n);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+t(n,i),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else i&&(n.hierNode.prelim=i.hierNode.prelim+t(n,i));n.parentNode.hierNode.defaultAncestor=function(n,t,e,r){if(t){for(var i=n,a=n,o=a.parentNode.children[0],s=t,l=i.hierNode.modifier,u=a.hierNode.modifier,c=o.hierNode.modifier,h=s.hierNode.modifier;s=Pg(s),a=Lg(a),s&&a;){i=Pg(i),o=Lg(o),i.hierNode.ancestor=n;var f=s.hierNode.prelim+h-a.hierNode.prelim-u+r(s,a);f>0&&(dG(pG(s,n,e),n,f),u+=f,l+=f),h+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=o.hierNode.modifier}s&&!Pg(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=h-l),a&&!Lg(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-c,e=n)}return e}(n,i,n.parentNode.hierNode.defaultAncestor||r[0],t)}function cG(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function Oz(n){return arguments.length?n:gG}function Hl(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function Pg(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function Lg(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function pG(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function dG(n,t,e){var r=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=r}function gG(n,t){return n.parentNode===t.parentNode?1:2}var mG=function(){this.parentPoint=[],this.childPoints=[]},yG=function(n){function t(e){return n.call(this,e)||this}return E(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new mG},t.prototype.buildPath=function(e,r){var i=r.childPoints,a=i.length,o=r.parentPoint,s=i[0],l=i[a-1];if(1===a)return e.moveTo(o[0],o[1]),void e.lineTo(s[0],s[1]);var u=r.orient,c="TB"===u||"BT"===u?0:1,h=1-c,f=Y(r.forkPosition,1),v=[];v[c]=o[c],v[h]=o[h]+(l[h]-o[h])*f,e.moveTo(o[0],o[1]),e.lineTo(v[0],v[1]),e.moveTo(s[0],s[1]),v[c]=s[c],e.lineTo(v[0],v[1]),v[c]=l[c],e.lineTo(v[0],v[1]),e.lineTo(l[0],l[1]);for(var p=1;p<a-1;p++){var g=i[p];e.moveTo(g[0],g[1]),v[c]=g[c],e.lineTo(v[0],v[1])}},t}(be),_G=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new ue,e}return E(t,n),t.prototype.init=function(e,r){this._controller=new Vl(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,r,i){var a=e.getData(),o=e.layoutInfo,s=this._mainGroup;"radial"===e.get("layout")?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(e,i),this._updateController(e,r,i);var u=this._data;a.diff(u).add(function(c){Rz(a,c)&&Nz(a,c,null,s,e)}).update(function(c,h){var f=u.getItemGraphicEl(h);Rz(a,c)?Nz(a,c,f,s,e):f&&Bz(u,h,f,s,e)}).remove(function(c){var h=u.getItemGraphicEl(c);h&&Bz(u,c,h,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&a.eachItemGraphicEl(function(c,h){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,r){var i=e.getData(),a=[];i.each(function(h){var f=i.getItemLayout(h);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var o=[],s=[];ec(a,o,s);var l=this._min,u=this._max;s[0]-o[0]==0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]==0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=e.coordinateSystem=new Gl;c.zoomLimit=e.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(e.get("center"),r),c.setZoom(e.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},t.prototype._updateController=function(e,r,i){var a=this,o=this._controller,s=this._controllerHost,l=this.group;o.setPointerChecker(function(u,c,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(c,h)&&!Ah(u,i,e)}),o.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){bg(s,u.dx,u.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){wg(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(e),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var r=e.getData(),i=this._getNodeGlobalScale(e);r.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var r=e.coordinateSystem;if("view"!==r.type)return 1;var i=this._nodeScaleRatio,a=r.scaleX||1;return((r.getZoom()-1)*i+1)/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(He);function Rz(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function Nz(n,t,e,r,i){var a=!e,o=n.tree.getNodeByDataIndex(t),s=o.getModel(),l=o.getVisual("style").fill,u=!1===o.isExpand&&0!==o.children.length?l:"#fff",c=n.tree.root,h=o.parentNode===c?o:o.parentNode||o,f=n.getItemGraphicEl(h.dataIndex),v=h.getLayout(),p=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:v,g=o.getLayout();a?((e=new Ml(n,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=p.x,e.y=p.y):e.updateData(n,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=g.rawX,e.__radialRawY=g.rawY,r.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Ie(e,{x:g.x,y:g.y},i);var m=e.getSymbolPath();if("radial"===i.get("layout")){var y=c.children[0],_=y.getLayout(),S=y.children.length,x=void 0,b=void 0;if(g.x===_.x&&!0===o.isExpand&&y.children.length){var w={x:(y.children[0].getLayout().x+y.children[S-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[S-1].getLayout().y)/2};(x=Math.atan2(w.y-_.y,w.x-_.x))<0&&(x=2*Math.PI+x),(b=w.x<_.x)&&(x-=Math.PI)}else(x=Math.atan2(g.y-_.y,g.x-_.x))<0&&(x=2*Math.PI+x),0===o.children.length||0!==o.children.length&&!1===o.isExpand?(b=g.x<_.x)&&(x-=Math.PI):(b=g.x>_.x)||(x-=Math.PI);var C=b?"left":"right",T=s.getModel("label"),z=T.get("rotate"),M=z*(Math.PI/180),A=m.getTextContent();A&&(m.setTextConfig({position:T.get("position")||C,rotation:null==z?-x:M,origin:"center"}),A.setStyle("verticalAlign","middle"))}var I=s.get(["emphasis","focus"]),P="relative"===I?gs(o.getAncestorsIndices(),o.getDescendantIndices()):"ancestor"===I?o.getAncestorsIndices():"descendant"===I?o.getDescendantIndices():null;P&&(ce(e).focus=P),function(n,t,e,r,i,a,o,s){var l=t.getModel(),u=n.get("edgeShape"),c=n.get("layout"),h=n.getOrient(),f=n.get(["lineStyle","curveness"]),v=n.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),g=r.__edge;if("curve"===u)t.parentNode&&t.parentNode!==e&&(g||(g=r.__edge=new Lc({shape:Og(c,h,f,i,i)})),Ie(g,{shape:Og(c,h,f,a,o)},n));else if("polyline"===u&&"orthogonal"===c&&t!==e&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var m=t.children,y=[],_=0;_<m.length;_++){var S=m[_].getLayout();y.push([S.x,S.y])}g||(g=r.__edge=new yG({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:v}})),Ie(g,{shape:{parentPoint:[o.x,o.y],childPoints:y}},n)}g&&("polyline"!==u||t.isExpand)&&(g.useStyle(re({strokeNoScale:!0,fill:null},p)),xt(g,l,"lineStyle"),aa(g),s.add(g))}(i,o,c,e,p,v,g,r),e.__edge&&(e.onHoverStateChange=function(L){if("blur"!==L){var O=o.parentNode&&n.getItemGraphicEl(o.parentNode.dataIndex);O&&1===O.hoverState||oc(e.__edge,L)}})}function kz(n,t,e,r,i){var o=Ez(t.tree.root,n),s=o.source,l=o.sourceLayout,u=t.getItemGraphicEl(n.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),f=u.__edge||(!1===s.isExpand||1===s.children.length?c.__edge:void 0),v=r.get("edgeShape"),p=r.get("layout"),g=r.get("orient"),m=r.get(["lineStyle","curveness"]);f&&("curve"===v?ai(f,{shape:Og(p,g,m,l,l),style:{opacity:0}},r,{cb:function(){e.remove(f)},removeOpt:i}):"polyline"===v&&"orthogonal"===r.get("layout")&&ai(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){e.remove(f)},removeOpt:i}))}}function Ez(n,t){for(var r,e=t.parentNode===n?t:t.parentNode||t;null==(r=e.getLayout());)e=e.parentNode===n?e:e.parentNode||e;return{source:e,sourceLayout:r}}function Bz(n,t,e,r,i){var a=n.tree.getNodeByDataIndex(t),s=Ez(n.tree.root,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};ai(e,{x:s.x+1,y:s.y+1},i,{cb:function(){r.remove(e),n.setItemGraphicEl(t,null)},removeOpt:l}),e.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){kz(u,n,r,i,l)}),kz(a,n,r,i,l)}function Og(n,t,e,r,i){var a,o,s,l,u,c,h,f;if("radial"===n){c=i.rawX,f=i.rawY;var v=Hl(u=r.rawX,h=r.rawY),p=Hl(u,h+(f-h)*e),g=Hl(c,f+(h-f)*e),m=Hl(c,f);return{x1:v.x||0,y1:v.y||0,x2:m.x||0,y2:m.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}return u=r.x,h=r.y,c=i.x,f=i.y,("LR"===t||"RL"===t)&&(a=u+(c-u)*e,o=h,s=c+(u-c)*e,l=f),("TB"===t||"BT"===t)&&(a=u,o=h+(f-h)*e,s=c,l=f+(h-f)*e),{x1:u,y1:h,x2:c,y2:f,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}const xG=_G;var Tn=Ce();function wG(n,t){if(function(n){return Tn(n).mainData===n}(this)){var e=V({},Tn(this).datas);e[this.dataType]=t,Vz(t,e,n)}else Rg(t,this.dataType,Tn(this).mainData,n);return t}function CG(n,t){return n.struct&&n.struct.update(),t}function TG(n,t){return D(Tn(t).datas,function(e,r){e!==t&&Rg(e.cloneShallow(),r,t,n)}),t}function zG(n){var t=Tn(this).mainData;return null==n||null==t?t:Tn(t).datas[n]}function DG(){var n=Tn(this).mainData;return null==n?[{data:n}]:G(we(Tn(n).datas),function(t){return{type:t,data:Tn(n).datas[t]}})}function Vz(n,t,e){Tn(n).datas={},D(t,function(r,i){Rg(r,i,n,e)})}function Rg(n,t,e,r){Tn(e).datas[t]=n,Tn(n).mainData=e,n.dataType=t,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=n),n.getLinkedData=zG,n.getLinkedDataAll=DG}const Fz=function(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,Vz(t,e,n),D(e,function(r){D(t.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,pe(wG,n))})}),t.wrapMethod("cloneShallow",pe(TG,n)),D(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,pe(CG,n))}),Rt(e[t.dataType]===t)};var AG=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,r){ee(t)&&(r=e,e=t,t=null),U(t=t||{})&&(t={order:t});var o,i=t.order||"preorder",a=this[t.attr||"children"];"preorder"===i&&(o=e.call(r,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(t,e,r);"postorder"===i&&e.call(r,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].getNodeById(t);if(a)return a}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].contains(t);if(a)return a}},n.prototype.getAncestors=function(t){for(var e=[],r=t?this:this.parentNode;r;)e.push(r),r=r.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),IG=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,r){this.root.eachNode(t,e,r)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,r=0,i=e.length;r<i;r++)e[r].dataIndex=-1;for(r=0,i=t.count();r<i;r++)e[t.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,r){var i=new n(e),a=[],o=1;!function s(c,h){var f=c.value;o=Math.max(o,F(f)?f.length:1),a.push(c);var v=new AG(st(c.name,""),i);h?function(n,t){n.parentNode!==t&&(t.children.push(n),n.parentNode=t)}(v,h):i.root=v,i._nodes.push(v);var p=c.children;if(p)for(var g=0;g<p.length;g++)s(p[g],v)}(t),i.root.updateDepthAndHeight(0);var l=Yo(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Ft(l,e);return u.initData(a),r&&r(u),Fz({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},n}();const Ng=IG;function Wl(n,t,e){if(n&&_e(t,n.type)>=0){var r=e.getData().tree.root,i=n.targetNode;if(U(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=n.targetNodeId;if(null!=a&&(i=r.getNodeById(a)))return{node:i}}}function Gz(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function kg(n,t){return _e(Gz(n),t)>=0}function Rh(n,t){for(var e=[];n;){var r=n.dataIndex;e.push({name:n.name,dataIndex:r,value:t.getRawValue(r)}),n=n.parentNode}return e.reverse(),e}var LG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return E(t,n),t.prototype.getInitialData=function(e){var r={name:e.name,children:e.data},a=new Ge(e.leaves||{},this,this.ecModel),o=Ng.createTree(r,this,function(h){h.wrapMethod("getItemModel",function(f,v){var p=o.getNodeByDataIndex(v);return p&&p.children.length&&p.isExpand||(f.parentModel=a),f})}),l=0;o.eachNode("preorder",function(h){h.depth>l&&(l=h.depth)});var c=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:l;return o.root.eachNode("preorder",function(h){var f=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=f&&null!=f.collapsed?!f.collapsed:h.depth<=c}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,r,i){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return ft("nameValue",{name:u,value:l,noValue:isNaN(l)||null==l})},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=Rh(i,this),r.collapsed=!i.isExpand,r},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}($e);const OG=LG;function Yl(n,t){for(var r,e=[n];r=e.pop();)if(t(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)e.push(i[a])}}function NG(n,t){n.eachSeriesByType("tree",function(e){!function(n,t){var e=function(n,t){return lt(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(n,t);n.layoutInfo=e;var r=n.get("layout"),i=0,a=0,o=null;"radial"===r?(i=2*Math.PI,a=Math.min(e.height,e.width)/2,o=Oz(function(S,x){return(S.parentNode===x.parentNode?1:2)/S.depth})):(i=e.width,a=e.height,o=Oz());var s=n.getData().tree.root,l=s.children[0];if(l){(function(n){var t=n;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r,i,e=[t];r=e.pop();)if(i=r.children,r.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(s)}})(s),function(n,t,e){for(var a,r=[n],i=[];a=r.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}for(;a=i.pop();)t(a,e)}(l,uG,o),s.hierNode.modifier=-l.hierNode.prelim,Yl(l,cG);var u=l,c=l,h=l;Yl(l,function(S){var x=S.getLayout().x;x<u.getLayout().x&&(u=S),x>c.getLayout().x&&(c=S),S.depth>h.depth&&(h=S)});var f=u===c?1:o(u,c)/2,v=f-u.getLayout().x,p=0,g=0,m=0,y=0;if("radial"===r)p=i/(c.getLayout().x+f+v),g=a/(h.depth-1||1),Yl(l,function(S){var x=Hl(m=(S.getLayout().x+v)*p,y=(S.depth-1)*g);S.setLayout({x:x.x,y:x.y,rawX:m,rawY:y},!0)});else{var _=n.getOrient();"RL"===_||"LR"===_?(g=a/(c.getLayout().x+f+v),p=i/(h.depth-1||1),Yl(l,function(S){y=(S.getLayout().x+v)*g,S.setLayout({x:m="LR"===_?(S.depth-1)*p:i-(S.depth-1)*p,y},!0)})):("TB"===_||"BT"===_)&&(p=i/(c.getLayout().x+f+v),g=a/(h.depth-1||1),Yl(l,function(S){m=(S.getLayout().x+v)*p,S.setLayout({x:m,y:y="TB"===_?(S.depth-1)*g:a-(S.depth-1)*g},!0)}))}}}(e,t)})}function EG(n){n.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(i){var o=i.getModel().getModel("itemStyle").getItemStyle();V(e.ensureUniqueItemVisual(i.dataIndex,"style"),o)})})}var Hz=["treemapZoomToNode","treemapRender","treemapMove"];function Wz(n){var t=n.getData(),r={};t.tree.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=Pp(n.ecModel,a.name||a.dataIndex+"",r);i.setVisual("decal",o)})}var GG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return E(t,n),t.prototype.getInitialData=function(e,r){var i={name:e.name,children:e.data};Yz(i);var a=e.levels||[],o=this.designatedVisualItemStyle={},s=new Ge({itemStyle:o},this,r);a=e.levels=function(n,t){var e=ke(t.get("color")),r=ke(t.get(["aria","decal","decals"]));if(e){var i,a;D(n=n||[],function(s){var l=new Ge(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&"none"!==u)&&(i=!0),(l.get(["itemStyle","decal"])||c&&"none"!==c)&&(a=!0)});var o=n[0]||(n[0]={});return i||(o.color=e.slice()),!a&&r&&(o.decal=r.slice()),n}}(a,r);var l=G(a||[],function(h){return new Ge(h,s,r)},this),u=Ng.createTree(i,this,function(h){h.wrapMethod("getItemModel",function(f,v){var p=u.getNodeByDataIndex(v);return f.parentModel=(p?l[p.depth]:null)||s,f})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,r,i){var a=this.getData(),o=this.getRawValue(e);return ft("nameValue",{name:a.getName(e),value:o})},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=Rh(i,this),r.treePathInfo=r.treeAncestors,r},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},V(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var r=this._idIndexMap;r||(r=this._idIndexMap=Q(),this._idIndexMapCount=0);var i=r.get(e);return null==i&&r.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){Wz(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}($e);function Yz(n){var t=0;D(n.children,function(r){Yz(r);var i=r.value;F(i)&&(i=i[0]),t+=i});var e=n.value;F(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),F(n.value)?n.value[0]=e:n.value=e}const WG=GG;var ZG=function(){function n(t){this.group=new ue,t.add(this.group)}return n.prototype.render=function(t,e,r,i){var a=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),a.get("show")&&r){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),h={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,h,u),this._renderContent(t,h,s,l,u,c,i),_c(o,h.pos,h.box)}},n.prototype._prepare=function(t,e,r){for(var i=t;i;i=i.parentNode){var a=st(i.getModel().get("name"),""),o=r.getTextRect(a),s=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=s+8,e.renderList.push({node:i,text:a,width:s})}},n.prototype._renderContent=function(t,e,r,i,a,o,s){for(var l=0,u=e.emptyItemWidth,c=t.get(["breadcrumb","height"]),h=function(n,t,e){var r=t.width,i=t.height,a=Y(n.left,r),o=Y(n.top,i),s=Y(n.right,r),l=Y(n.bottom,i);return(isNaN(a)||isNaN(parseFloat(n.left)))&&(a=0),(isNaN(s)||isNaN(parseFloat(n.right)))&&(s=r),(isNaN(o)||isNaN(parseFloat(n.top)))&&(o=0),(isNaN(l)||isNaN(parseFloat(n.bottom)))&&(l=i),e=To(e||0),{width:Math.max(s-a-e[1]-e[3],0),height:Math.max(l-o-e[0]-e[2],0)}}(e.pos,e.box),f=e.totalWidth,v=e.renderList,p=i.getModel("itemStyle").getItemStyle(),g=v.length-1;g>=0;g--){var m=v[g],y=m.node,_=m.width,S=m.text;f>h.width&&(f-=_-u,_=u,S=null);var x=new $t({shape:{points:UG(l,0,_,c,g===v.length-1,0===g)},style:re(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Me({style:Fe(a,{text:S})}),textConfig:{position:"inside"},z2:1e5,onclick:pe(s,y)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=Fe(o,{text:S}),x.ensureState("emphasis").style=p,Je(x,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(x),$G(x,t,y),l+=_+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function UG(n,t,e,r,i,a){var o=[[i?n:n-5,t],[n+e,t],[n+e,t+r],[i?n:n-5,t+r]];return!a&&o.splice(2,0,[n+e+5,t+r/2]),!i&&o.push([n,t+r/2]),o}function $G(n,t,e){ce(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&Rh(e,t)}}const XG=ZG;var QG=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,r,i,a){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:r,delay:i,easing:a}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,r=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:r,aborted:r})}return this},n}(),Bg=ue,Uz=Te,Qz="upperLabel",Fa=Qi([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Jz=function(n){var t=Fa(n);return t.stroke=t.fill=t.lineWidth=null,t},Nh=Ce(),e4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return E(t,n),t.prototype.render=function(e,r,i,a){if(!(_e(r.findComponents({mainType:"series",subType:"treemap",query:a}),e)<0)){this.seriesModel=e,this.api=i,this.ecModel=r;var l=Wl(a,["treemapZoomToNode","treemapRootToNode"],e),u=a&&a.type,c=e.layoutInfo,h=!this._oldTree,f=this._storage,v="treemapRootToNode"===u&&l&&f?{rootNodeGroup:f.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,p=this._giveContainerGroup(c),g=e.get("animation"),m=this._doRender(p,e,v);!g||h||u&&"treemapZoomToNode"!==u&&"treemapRootToNode"!==u?m.renderFinally():this._doAnimation(p,m,e,v),this._resetController(i),this._renderBreadcrumb(e,i,l)}},t.prototype._giveContainerGroup=function(e){var r=this._containerGroup;return r||(r=this._containerGroup=new Bg,this._initEvents(r),this.group.add(r)),r.x=e.x,r.y=e.y,r},t.prototype._doRender=function(e,r,i){var a=r.getData().tree,o=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,c=[];function h(_,S,x,b){return function(n,t,e,r,i,a,o,s,l,u){if(o){var c=o.getLayout(),h=n.getData(),f=o.getModel();if(h.setItemGraphicEl(o.dataIndex,null),c&&c.isInView){var v=c.width,p=c.height,g=c.borderWidth,m=c.invisible,y=o.getRawIndex(),_=s&&s.getRawIndex(),S=o.viewChildren,x=c.upperHeight,b=S&&S.length,w=f.getModel("itemStyle"),C=f.getModel(["emphasis","itemStyle"]),T=f.getModel(["blur","itemStyle"]),z=f.getModel(["select","itemStyle"]),M=w.get("borderRadius")||0,A=he("nodeGroup",Bg);if(A){if(l.add(A),A.x=c.x||0,A.y=c.y||0,A.markRedraw(),Nh(A).nodeWidth=v,Nh(A).nodeHeight=p,c.isAboveViewRoot)return A;var I=he("background",Uz,u,20);I&&function(ye,ae,xe){var J=ce(ae);if(J.dataIndex=o.dataIndex,J.seriesIndex=n.seriesIndex,ae.setShape({x:0,y:0,width:v,height:p,r:M}),m)Z(ae);else{ae.invisible=!1;var fe=o.getVisual("style"),Ye=fe.stroke,Ne=Jz(w);Ne.fill=Ye;var Ve=Fa(C);Ve.fill=C.get("borderColor");var Qe=Fa(T);Qe.fill=T.get("borderColor");var dt=Fa(z);dt.fill=z.get("borderColor"),xe?K(ae,Ye,fe.opacity,{x:g,y:0,width:v-2*g,height:x}):ae.removeTextContent(),ae.setStyle(Ne),ae.ensureState("emphasis").style=Ve,ae.ensureState("blur").style=Qe,ae.ensureState("select").style=dt,aa(ae)}ye.add(ae)}(A,I,b&&c.upperLabelHeight);var P=f.getModel("emphasis"),L=P.get("focus"),O=P.get("blurScope"),R=P.get("disabled"),k="ancestor"===L?o.getAncestorsIndices():"descendant"===L?o.getDescendantIndices():L;if(b)Zs(A)&&sa(A,!1),I&&(sa(I,!R),h.setItemGraphicEl(o.dataIndex,I),cp(I,k,O));else{var N=he("content",Uz,u,30);N&&function(ye,ae){var xe=ce(ae);xe.dataIndex=o.dataIndex,xe.seriesIndex=n.seriesIndex;var J=Math.max(v-2*g,0),fe=Math.max(p-2*g,0);if(ae.culling=!0,ae.setShape({x:g,y:g,width:J,height:fe,r:M}),m)Z(ae);else{ae.invisible=!1;var Ye=o.getVisual("style"),Ne=Ye.fill,Ve=Jz(w);Ve.fill=Ne,Ve.decal=Ye.decal;var Qe=Fa(C),dt=Fa(T),un=Fa(z);K(ae,Ne,Ye.opacity,null),ae.setStyle(Ve),ae.ensureState("emphasis").style=Qe,ae.ensureState("blur").style=dt,ae.ensureState("select").style=un,aa(ae)}ye.add(ae)}(A,N),I.disableMorphing=!0,I&&Zs(I)&&sa(I,!1),sa(A,!R),h.setItemGraphicEl(o.dataIndex,A);var B=f.getShallow("cursor");B&&N.attr("cursor",B),cp(A,k,O)}return A}}}function Z(ye){!ye.invisible&&a.push(ye)}function K(ye,ae,xe,J){var fe=f.getModel(J?Qz:"label"),Ye=st(f.get("name"),null),Ne=fe.getShallow("show");bt(ye,ht(f,J?Qz:"label"),{defaultText:Ne?Ye:null,inheritColor:ae,defaultOpacity:xe,labelFetcher:n,labelDataIndex:o.dataIndex});var Ve=ye.getTextContent();if(Ve){var Qe=Ve.style,dt=Of(Qe.padding||0);J&&(ye.setTextConfig({layoutRect:J}),Ve.disableLabelLayout=!0),Ve.beforeUpdate=function(){var Kt=Math.max((J?J.width:ye.shape.width)-dt[1]-dt[3],0),eo=Math.max((J?J.height:ye.shape.height)-dt[0]-dt[2],0);(Qe.width!==Kt||Qe.height!==eo)&&Ve.setStyle({width:Kt,height:eo})},Qe.truncateMinChar=2,Qe.lineOverflow="truncate",te(Qe,J,c);var un=Ve.getState("emphasis");te(un?un.style:null,J,c)}}function te(ye,ae,xe){var J=ye?ye.text:null;if(!ae&&xe.isLeafRoot&&null!=J){var fe=n.get("drillDownIcon",!0);ye.text=fe?fe+" "+J:J}}function he(ye,ae,xe,J){var fe=null!=_&&e[ye][_],Ye=i[ye];return fe?(e[ye][_]=null,function(ye,ae){var xe=ye[y]={};ae instanceof Bg?(xe.oldX=ae.x,xe.oldY=ae.y):xe.oldShape=V({},ae.shape)}(Ye,fe)):m||((fe=new ae)instanceof dn&&(fe.z2=function(n,t){return 100*n+t}(xe,J)),function(ye,ae){var xe=ye[y]={},J=o.parentNode,fe=ae instanceof ue;if(J&&(!r||"drillDown"===r.direction)){var Ye=0,Ne=0,Ve=i.background[J.getRawIndex()];!r&&Ve&&Ve.oldShape&&(Ye=Ve.oldShape.width,Ne=Ve.oldShape.height),fe?(xe.oldX=0,xe.oldY=Ne):xe.oldShape={x:Ye,y:Ne,width:0,height:0}}xe.fadein=!fe}(Ye,fe)),t[ye][y]=fe}}(r,l,u,i,s,c,_,S,x,b)}!function g(_,S,x,b,w){function C(z){return z.getId()}function T(z,M){var A=null!=z?_[z]:null,I=null!=M?S[M]:null,P=h(A,I,x,w);P&&g(A&&A.viewChildren||[],I&&I.viewChildren||[],P,b,w+1)}b?(S=_,D(_,function(z,M){!z.isRemoved()&&T(M,M)})):new kr(S,_,C,C).add(T).update(T).remove(pe(T,null)).execute()}(a.root?[a.root]:[],o&&o.root?[o.root]:[],e,a===o||!o,0);var _,S,f=(S={nodeGroup:[],background:[],content:[]},(_=u)&&D(_,function(x,b){var w=S[b];D(x,function(C){C&&(w.push(C),Nh(C).willDelete=!0)})}),S);if(this._oldTree=a,this._storage=l,this._controllerHost){var v=this.seriesModel.layoutInfo,p=a.root.getLayout();p.width===v.width&&p.height===v.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:f,renderFinally:function(){D(f,function(_){D(_,function(S){S.parent&&S.parent.remove(S)})}),D(c,function(_){_.invisible=!0,_.dirty()})}}},t.prototype._doAnimation=function(e,r,i,a){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(ee(o)?0:o)||0,u=(ee(s)?null:s)||"cubicOut",c=new QG;D(r.willDeleteEls,function(h,f){D(h,function(v,p){if(!v.invisible){var m,g=v.parent,y=Nh(g);if(a&&"drillDown"===a.direction)m=g===a.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var _=0,S=0;y.willDelete||(_=y.nodeWidth/2,S=y.nodeHeight/2),m="nodeGroup"===f?{x:_,y:S,style:{opacity:0}}:{shape:{x:_,y:S,width:0,height:0},style:{opacity:0}}}m&&c.add(v,m,l,0,u)}})}),D(this._storage,function(h,f){D(h,function(v,p){var g=r.lastsForAnimation[f][p],m={};!g||(v instanceof ue?null!=g.oldX&&(m.x=v.x,m.y=v.y,v.x=g.oldX,v.y=g.oldY):(g.oldShape&&(m.shape=V({},v.shape),v.setShape(g.oldShape)),g.fadein?(v.setStyle("opacity",0),m.style={opacity:1}):1!==v.style.opacity&&(m.style={opacity:1})),c.add(v,m,l,0,u))})},this),this._state="animating",c.finished($(function(){this._state="ready",r.renderFinally()},this)).start()},t.prototype._resetController=function(e){var r=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),r||((r=this._controller=new Vl(e.getZr())).enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),r.on("pan",$(this._onPan,this)),r.on("zoom",$(this._onZoom,this)));var a=new me(0,0,e.getWidth(),e.getHeight());r.setPointerChecker(function(o,s,l){return a.contain(s,l)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var r=e.originX,i=e.originY,a=e.scale;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var u,l=new me(s.x,s.y,s.width,s.height),c=this._controllerHost;u=c.zoomLimit;var h=c.zoom=c.zoom||1;if(h*=a,u){var f=u.min||0;h=Math.max(Math.min(u.max||1/0,h),f)}var p=h/c.zoom;c.zoom=h;var g=this.seriesModel.layoutInfo,m=[1,0,0,1,0,0];jn(m,m,[-(r-=g.x),-(i-=g.y)]),$f(m,m,[p,p]),jn(m,m,[r,i]),l.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var r=this;e.on("click",function(i){if("ready"===r._state){var a=r.seriesModel.get("nodeClick",!0);if(a){var o=r.findTarget(i.offsetX,i.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)r._rootToNode(o);else if("zoomToNode"===a)r._zoomToNode(o);else if("link"===a){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&mc(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(e,r,i){var a=this;i||(i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2))||(i={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new XG(this.group))).render(e,r,i.node,function(o){"animating"!==a._state&&(kg(e.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,r){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(e,r),u=s.shape;if(!(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height))return!1;i={node:o,offsetX:l[0],offsetY:l[1]}}},this),i},t.type="treemap",t}(He);const r4=e4;var Ul=D,i4=oe,Vg=function(){function n(t){var e=t.mappingMethod,r=t.type,i=this.option=se(t);this.type=r,this.mappingMethod=e,this._normalizeData=s4[e];var a=n.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],"piecewise"===e?(Fg(i),function(n){var t=n.pieceList;n.hasSpecialVisual=!1,D(t,function(e,r){e.originIndex=r,null!=e.visual&&(n.hasSpecialVisual=!0)})}(i)):"category"===e?i.categories?function(n){var t=n.categories,e=n.categoryMap={},r=n.visual;if(Ul(t,function(o,s){e[o]=s}),!F(r)){var i=[];oe(r)?Ul(r,function(o,s){var l=e[s];i[null!=l?l:-1]=o}):i[-1]=r,r=jz(n,i)}for(var a=t.length-1;a>=0;a--)null==r[a]&&(delete e[t[a]],t.pop())}(i):Fg(i,!0):(Rt("linear"!==e||i.dataExtent),Fg(i))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return $(this._normalizeData,this)},n.listVisualTypes=function(){return we(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,r){oe(t)?D(t,e,r):e.call(r,t)},n.mapVisual=function(t,e,r){var i,a=F(t)?[]:oe(t)?{}:(i=!0,null);return n.eachVisual(t,function(o,s){var l=e.call(r,o,s);i?a=l:a[s]=l}),a},n.retrieveVisuals=function(t){var r,e={};return t&&Ul(n.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(e[a]=t[a],r=!0)}),r?e:null},n.prepareVisualTypes=function(t){if(F(t))t=t.slice();else{if(!i4(t))return[];var e=[];Ul(t,function(r,i){e.push(i)}),t=e}return t.sort(function(r,i){return"color"===i&&"color"!==r&&0===r.indexOf("color")?1:-1}),t},n.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},n.findPieceIndex=function(t,e,r){for(var i,a=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(null!=l){if(l===t||U(l)&&l===t+"")return o;r&&f(l,o)}}for(o=0,s=e.length;o<s;o++){var u=e[o],c=u.interval,h=u.close;if(c){if(c[0]===-1/0){if(Bh(h[1],t,c[1]))return o}else if(c[1]===1/0){if(Bh(h[0],c[0],t))return o}else if(Bh(h[0],c[0],t)&&Bh(h[1],t,c[1]))return o;r&&f(c[0],o),r&&f(c[1],o)}}if(r)return t===1/0?e.length-1:t===-1/0?0:i;function f(v,p){var g=Math.abs(v-t);g<a&&(a=g,i=p)}},n.visualHandlers={color:{applyVisual:$l("color"),getColorMapper:function(){var t=this.option;return $("category"===t.mappingMethod?function(e,r){return!r&&(e=this._normalizeData(e)),Xl.call(this,e)}:function(e,r,i){var a=!!i;return!r&&(e=this._normalizeData(e)),i=ov(e,t.parsedVisual,i),a?i:er(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return er(ov(t,this.option.parsedVisual),"rgba")},category:Xl,piecewise:function(t,e){var r=Hg.call(this,e);return null==r&&(r=er(ov(t,this.option.parsedVisual),"rgba")),r},fixed:Ga}},colorHue:Eh(function(t,e){return Ts(t,e)}),colorSaturation:Eh(function(t,e){return Ts(t,null,e)}),colorLightness:Eh(function(t,e){return Ts(t,null,null,e)}),colorAlpha:Eh(function(t,e){return Ru(t,e)}),decal:{applyVisual:$l("decal"),_normalizedToVisual:{linear:null,category:Xl,piecewise:null,fixed:null}},opacity:{applyVisual:$l("opacity"),_normalizedToVisual:Gg([0,1])},liftZ:{applyVisual:$l("liftZ"),_normalizedToVisual:{linear:Ga,category:Ga,piecewise:Ga,fixed:Ga}},symbol:{applyVisual:function(t,e,r){r("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:qz,category:Xl,piecewise:function(t,e){var r=Hg.call(this,e);return null==r&&(r=qz.call(this,t)),r},fixed:Ga}},symbolSize:{applyVisual:$l("symbolSize"),_normalizedToVisual:Gg([0,1])}},n}();function Fg(n,t){var e=n.visual,r=[];oe(e)?Ul(e,function(a){r.push(a)}):null!=e&&r.push(e),!t&&1===r.length&&!{color:1,symbol:1}.hasOwnProperty(n.type)&&(r[1]=r[0]),jz(n,r)}function Eh(n){return{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("color",n(e("color"),i))},_normalizedToVisual:Gg([0,1])}}function qz(n){var t=this.option.visual;return t[Math.round(Oe(n,[0,1],[0,t.length-1],!0))]||{}}function $l(n){return function(t,e,r){r(n,this.mapValueToVisual(t))}}function Xl(n){var t=this.option.visual;return t[this.option.loop&&-1!==n?n%t.length:n]}function Ga(){return this.option.visual[0]}function Gg(n){return{linear:function(t){return Oe(t,n,this.option.visual,!0)},category:Xl,piecewise:function(t,e){var r=Hg.call(this,e);return null==r&&(r=Oe(t,n,this.option.visual,!0)),r},fixed:Ga}}function Hg(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var i=e[Vg.findPieceIndex(n,e)];if(i&&i.visual)return i.visual[this.type]}}function jz(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=G(t,function(e){return Wt(e)||[0,0,0,1]})),t}var s4={linear:function(n){return Oe(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=Vg.findPieceIndex(n,t,!0);if(null!=e)return Oe(e,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return null==t?-1:t},fixed:tt};function Bh(n,t,e){return n?t<=e:t<e}const Ct=Vg;var Kz=Ce();const u4={seriesType:"treemap",reset:function(n){var e=n.getData().tree.root;e.isRemoved()||eD(e,{},n.getViewRoot().getAncestors(),n)}};function eD(n,t,e,r){var i=n.getModel(),a=n.getLayout(),o=n.hostTree.data;if(a&&!a.invisible&&a.isInView){var f,s=i.getModel("itemStyle"),l=function(n,t,e){var r=V({},t),i=e.designatedVisualItemStyle;return D(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var o=n.get(a);i[a]=null,null!=o&&(r[a]=o)}),r}(s,t,r),u=o.ensureUniqueItemVisual(n.dataIndex,"style"),c=s.get("borderColor"),h=s.get("borderColorSaturation");null!=h&&(c=function(n,t){return null!=t?Ts(t,null,null,n):null}(h,f=tD(l))),u.stroke=c;var v=n.viewChildren;if(v&&v.length){var p=function(n,t,e,r,i,a){if(a&&a.length){var o=Yg(t,"color")||null!=i.color&&"none"!==i.color&&(Yg(t,"colorAlpha")||Yg(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=e.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),h={type:o.name,dataExtent:u,visual:o.range};"color"!==h.type||"index"!==c&&"id"!==c?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var f=new Ct(h);return Kz(f).drColorMappingBy=c,f}}}(0,i,a,0,l,v);D(v,function(g,m){if(g.depth>=e.length||g===e[g.depth]){var y=function(n,t,e,r,i,a){var o=V({},t);if(i){var s=i.type,l="color"===s&&Kz(i).drColorMappingBy,u="index"===l?r:"id"===l?a.mapIdToIndex(e.getId()):e.getValue(n.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}(i,l,g,m,p,r);eD(g,y,e,r)}})}else f=tD(l),u.fill=f}}function tD(n){var t=Wg(n,"color");if(t){var e=Wg(n,"colorAlpha"),r=Wg(n,"colorSaturation");return r&&(t=Ts(t,null,null,r)),e&&(t=Ru(t,e)),t}}function Wg(n,t){var e=n[t];if(null!=e&&"none"!==e)return e}function Yg(n,t){var e=n.get(t);return F(e)&&e.length?{name:t,range:e}:null}var Ql=Math.max,Vh=Math.min,nD=gt,Zg=D,rD=["itemStyle","borderWidth"],p4=["itemStyle","gapWidth"],d4=["upperLabel","show"],g4=["upperLabel","height"];const m4={seriesType:"treemap",reset:function(n,t,e,r){var i=e.getWidth(),a=e.getHeight(),o=n.option,s=lt(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=o.size||[],u=Y(nD(s.width,l[0]),i),c=Y(nD(s.height,l[1]),a),h=r&&r.type,v=Wl(r,["treemapZoomToNode","treemapRootToNode"],n),p="treemapRender"===h||"treemapMove"===h?r.rootRect:null,g=n.getViewRoot(),m=Gz(g);if("treemapMove"!==h){var y="treemapZoomToNode"===h?function(n,t,e,r,i){var a=(t||{}).node,o=[r,i];if(!a||a===e)return o;for(var s,l=r*i,u=l*n.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,h=s.children,f=0,v=h.length;f<v;f++)c+=h[f].getValue();var p=a.getValue();if(0===p)return o;u*=c/p;var g=s.getModel(),m=g.get(rD);(u+=4*m*m+(3*m+Math.max(m,sD(g)))*Math.pow(u,.5))>O_&&(u=O_),a=s}u<l&&(u=l);var _=Math.pow(u/l,.5);return[r*_,i*_]}(n,v,g,u,c):p?[p.width,p.height]:[u,c],_=o.sort;_&&"asc"!==_&&"desc"!==_&&(_="desc");var S={squareRatio:o.squareRatio,sort:_,leafDepth:o.leafDepth};g.hostTree.clearLayouts();var x={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};g.setLayout(x),iD(g,S,!1,0),x=g.getLayout(),Zg(m,function(w,C){var T=(m[C+1]||g).getValue();w.setLayout(V({dataExtent:[T,T],borderWidth:0,upperHeight:0},x))})}var b=n.getData().tree.root;b.setLayout(function(n,t,e){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!e)return r;var i=e.node,a=i.getLayout();if(!a)return r;for(var o=[a.width/2,a.height/2],s=i;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:n.width/2-o[0],y:n.height/2-o[1]}}(s,p,v),!0),n.setLayoutInfo(s),oD(b,new me(-s.x,-s.y,i,a),m,g,0)}};function iD(n,t,e,r){var i,a;if(!n.isRemoved()){var o=n.getLayout();i=o.width,a=o.height;var s=n.getModel(),l=s.get(rD),u=s.get(p4)/2,c=sD(s),h=Math.max(l,c),f=l-u,v=h-u;n.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:c},!0);var p=(i=Ql(i-2*f,0))*(a=Ql(a-f-v,0)),g=function(n,t,e,r,i,a){var o=n.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=r.leafDepth&&r.leafDepth<=a;if(i&&!l)return n.viewChildren=[];o=Pe(o,function(v){return!v.isRemoved()}),function(n,t){t&&n.sort(function(e,r){var i="asc"===t?e.getValue()-r.getValue():r.getValue()-e.getValue();return 0===i?"asc"===t?e.dataIndex-r.dataIndex:r.dataIndex-e.dataIndex:i})}(o,s);var u=function(n,t,e){for(var r=0,i=0,a=t.length;i<a;i++)r+=t[i].getValue();var s,o=n.get("visualDimension");return t&&t.length?"value"===o&&e?(s=[t[t.length-1].getValue(),t[0].getValue()],"asc"===e&&s.reverse()):(s=[1/0,-1/0],Zg(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})):s=[NaN,NaN],{sum:r,dataExtent:s}}(t,o,s);if(0===u.sum)return n.viewChildren=[];if(u.sum=function(n,t,e,r,i){if(!r)return e;for(var a=n.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i["asc"===r?o-l-1:l].getValue();u/e*t<a&&(s=l,e-=u)}return i.splice("asc"===r?0:s,o-s),e}(t,e,u.sum,s,o),0===u.sum)return n.viewChildren=[];for(var c=0,h=o.length;c<h;c++){var f=o[c].getValue()/u.sum*e;o[c].setLayout({area:f})}return l&&(o.length&&n.setLayout({isLeafRoot:!0},!0),o.length=0),n.viewChildren=o,n.setLayout({dataExtent:u.dataExtent},!0),o}(n,s,p,t,e,r);if(g.length){var m={x:f,y:v,width:i,height:a},y=Vh(i,a),_=1/0,S=[];S.area=0;for(var x=0,b=g.length;x<b;){var w=g[x];S.push(w),S.area+=w.getLayout().area;var C=b4(S,y,t.squareRatio);C<=_?(x++,_=C):(S.area-=S.pop().getLayout().area,aD(S,y,m,u,!1),y=Vh(m.width,m.height),S.length=S.area=0,_=1/0)}if(S.length&&aD(S,y,m,u,!0),!e){var T=s.get("childrenVisibleMin");null!=T&&p<T&&(e=!0)}for(x=0,b=g.length;x<b;x++)iD(g[x],t,e,r+1)}}}function b4(n,t,e){for(var r=0,i=1/0,a=0,o=void 0,s=n.length;a<s;a++)(o=n[a].getLayout().area)&&(o<i&&(i=o),o>r&&(r=o));var l=n.area*n.area,u=t*t*e;return l?Ql(u*r/l,l/(u*i)):1/0}function aD(n,t,e,r,i){var a=t===e.width?0:1,o=1-a,s=["x","y"],l=["width","height"],u=e[s[a]],c=t?n.area/t:0;(i||c>e[l[o]])&&(c=e[l[o]]);for(var h=0,f=n.length;h<f;h++){var v=n[h],p={},g=c?v.getLayout().area/c:0,m=p[l[o]]=Ql(c-2*r,0),y=e[s[a]]+e[l[a]]-u,_=h===f-1||y<g?y:g,S=p[l[a]]=Ql(_-2*r,0);p[s[o]]=e[s[o]]+Vh(r,m/2),p[s[a]]=u+Vh(r,S/2),u+=_,v.setLayout(p,!0)}e[s[o]]+=c,e[l[o]]-=c}function oD(n,t,e,r,i){var a=n.getLayout(),o=e[i],s=o&&o===n;if(!(o&&!s||i===e.length&&n!==r)){n.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var l=new me(t.x-a.x,t.y-a.y,t.width,t.height);Zg(n.viewChildren||[],function(u){oD(u,l,e,r,i+1)})}}function sD(n){return n.get(d4)?n.get(g4):0}function z4(n){var t=n.findComponents({mainType:"legend"});!t||!t.length||n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),a=e.getGraph().data,o=r.mapArray(r.getName);a.filterSelf(function(s){var u=a.getItemModel(s).getShallow("category");if(null!=u){De(u)&&(u=o[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function D4(n){var t={};n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),i=e.getData(),a={};r.each(function(o){var s=r.getName(o);a["ec-"+s]=o;var l=r.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),r.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],h=0;h<c.length;h++){var f=l.getShallow(c[h],!0);null!=f&&r.setItemVisual(o,c[h],f)}}),r.count()&&i.each(function(o){var l=i.getItemModel(o).getShallow("category");if(null!=l){U(l)&&(l=a["ec-"+l]);var u=r.getItemVisual(l,"style");V(i.ensureUniqueItemVisual(o,"style"),u);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++)i.setItemVisual(o,h[f],r.getItemVisual(l,h[f]))}})})}function Fh(n){return n instanceof Array||(n=[n,n]),n}function M4(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),r=t.getEdgeData(),i=Fh(t.get("edgeSymbol")),a=Fh(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",t.getModel("lineStyle").getLineStyle()),r.each(function(o){var s=r.getItemModel(o),l=e.getEdgeByIndex(o),u=Fh(s.getShallow("symbol",!0)),c=Fh(s.getShallow("symbolSize",!0)),h=s.getModel("lineStyle").getLineStyle(),f=r.ensureUniqueItemVisual(o,"style");switch(V(f,h),f.stroke){case"source":var v=l.node1.getVisual("style");f.stroke=v&&v.fill;break;case"target":v=l.node2.getVisual("style"),f.stroke=v&&v.fill}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var Gh=function(n){return n.get("autoCurveness")||null},lD=function(n,t){var e=Gh(n),r=20,i=[];if(De(e))r=e;else if(F(e))return void(n.__curvenessList=e);t>r&&(r=t);var a=r%2?r+2:r+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));n.__curvenessList=i},Jl=function(n,t,e){var r=[n.id,n.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,r,i].join("--\x3e")},uD=function(n){var t=n.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},$g=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function Xg(n,t,e,r){var i=Gh(t),a=F(i);if(!i)return null;var o=function(n,t){var e=Jl(n.node1,n.node2,t);return t.__edgeMap[e]}(n,t);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===e){s=l;break}var u=function(n,t){return $g(Jl(n.node1,n.node2,t),t)+$g(Jl(n.node2,n.node1,t),t)}(n,t);lD(t,u),n.lineStyle=n.lineStyle||{};var c=Jl(n.node1,n.node2,t),h=t.__curvenessList,f=a||u%2?0:1;if(o.isForward)return h[f+s];var v=uD(c),p=$g(v,t),g=h[s+p+f];return r?a?i&&0===i[0]?(p+f)%2?g:-g:((p%2?0:1)+f)%2?g:-g:(p+f)%2?g:-g:h[s+p+f]}function cD(n){var t=n.coordinateSystem;if(!t||"view"===t.type){var e=n.getGraph();e.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),Qg(e,n)}}function Qg(n,t){n.eachEdge(function(e,r){var i=qn(e.getModel().get(["lineStyle","curveness"]),-Xg(e,t,r,!0),0),a=wr(e.node1.getLayout()),o=wr(e.node2.getLayout()),s=[a,o];+i&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),e.setLayout(s)})}function O4(n,t){n.eachSeriesByType("graph",function(e){var r=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var a=e.getData(),o=[];D(i.dimensions,function(f){o=o.concat(a.mapDimensionsAll(f))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var h=a.get(o[c],s);isNaN(h)||(u=!0),l.push(h)}a.setItemLayout(s,u?i.dataToPoint(l):[NaN,NaN])}Qg(a.graph,e)}else(!r||"none"===r)&&cD(e)})}function ql(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var e=n.option.nodeScaleRatio,r=t.scaleX;return((t.getZoom()-1)*e+1)/r}function jl(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var hD=Math.PI,Jg=[];function qg(n,t,e,r){var i=n.coordinateSystem;if(!i||"view"===i.type){var a=i.getBoundingRect(),o=n.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,h=o.count();if(o.setLayout({cx:l,cy:u}),h){if(e){var f=i.pointToData(r),g=[f[0]-l,f[1]-u];ro(g,g),bu(g,g,c),e.setLayout([l+g[0],u+g[1]],!0),fD(e,n.get(["circular","rotateLabel"]),l,u)}R4[t](n,s,o,c,l,u,h),s.eachEdge(function(y,_){var w,S=qn(y.getModel().get(["lineStyle","curveness"]),Xg(y,n,_),0),x=wr(y.node1.getLayout()),b=wr(y.node2.getLayout());+S&&(w=[l*(S*=3)+(x[0]+b[0])/2*(1-S),u*S+(x[1]+b[1])/2*(1-S)]),y.setLayout([x,b,w])})}}}var R4={value:function(n,t,e,r,i,a,o){var s=0,l=e.getSum("value"),u=2*Math.PI/(l||o);t.eachNode(function(c){var h=c.getValue("value"),f=u*(l?h:1)/2;s+=f,c.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+a]),s+=f})},symbolSize:function(n,t,e,r,i,a,o){var s=0;Jg.length=o;var l=ql(n);t.eachNode(function(h){var f=jl(h);isNaN(f)&&(f=2),f<0&&(f=0),f*=l;var v=Math.asin(f/2/r);isNaN(v)&&(v=hD/2),Jg[h.dataIndex]=v,s+=2*v});var u=(2*hD-s)/o/2,c=0;t.eachNode(function(h){var f=u+Jg[h.dataIndex];c+=f,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+a]),c+=f})}};function fD(n,t,e,r){var i=n.getGraphicEl();if(i){var o=n.getModel().get(["label","rotate"])||0,s=i.getSymbolPath();if(t){var l=n.getLayout(),u=Math.atan2(l[1]-r,l[0]-e);u<0&&(u=2*Math.PI+u);var c=l[0]<e;c&&(u-=Math.PI);var h=c?"left":"right";s.setTextConfig({rotation:-u,position:h,origin:"center"});var f=s.ensureState("emphasis");V(f.textConfig||(f.textConfig={}),{position:h})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function N4(n){n.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&qg(t,"symbolSize")})}var jo=Nf;function E4(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var r=t.preservedPoints||{},i=t.getGraph(),a=i.data,o=i.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?a.each(function(S){var x=a.getId(S);a.setItemLayout(S,r[x]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&qg(t,"value"):cD(t);var u=a.getDataExtent("value"),c=o.getDataExtent("value"),h=s.get("repulsion"),f=s.get("edgeLength"),v=F(h)?h:[h,h],p=F(f)?f:[f,f];p=[p[1],p[0]];var g=a.mapArray("value",function(S,x){var b=a.getItemLayout(x),w=Oe(S,u,v);return isNaN(w)&&(w=(v[0]+v[1])/2),{w,rep:w,fixed:a.getItemModel(x).get("fixed"),p:!b||isNaN(b[0])||isNaN(b[1])?null:b}}),m=o.mapArray("value",function(S,x){var b=i.getEdgeByIndex(x),w=Oe(S,c,p);isNaN(w)&&(w=(p[0]+p[1])/2);var C=b.getModel(),T=qn(b.getModel().get(["lineStyle","curveness"]),-Xg(b,t,x,!0),0);return{n1:g[b.node1.dataIndex],n2:g[b.node2.dataIndex],d:w,curveness:T,ignoreForceLayout:C.get("ignoreForceLayout")}}),y=e.getBoundingRect(),_=function(n,t,e){for(var r=n,i=t,a=e.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],u=null==e.gravity?.1:e.gravity,c=0;c<r.length;c++){var h=r[c];h.p||(h.p=Ri(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=wr(h.p),h.edges=null}var p,g,f=null==e.friction?.6:e.friction,v=f;return{warmUp:function(){v=.8*f},setFixed:function(m){r[m].fixed=!0},setUnfixed:function(m){r[m].fixed=!1},beforeStep:function(m){p=m},afterStep:function(m){g=m},step:function(m){p&&p(r,i);for(var y=[],_=r.length,S=0;S<i.length;S++){var x=i[S];if(!x.ignoreForceLayout){Ni(y,(w=x.n2).p,(b=x.n1).p);var C=kf(y)-x.d,T=w.w/(b.w+w.w);isNaN(T)&&(T=0),ro(y,y),!b.fixed&&jo(b.p,b.p,y,T*C*v),!w.fixed&&jo(w.p,w.p,y,-(1-T)*C*v)}}for(S=0;S<_;S++)(z=r[S]).fixed||(Ni(y,l,z.p),jo(z.p,z.p,y,u*v));for(S=0;S<_;S++)for(var b=r[S],M=S+1;M<_;M++){var w;Ni(y,(w=r[M]).p,b.p),0===(C=kf(y))&&(kP(y,Math.random()-.5,Math.random()-.5),C=1);var A=(b.rep+w.rep)/C/C;!b.fixed&&jo(b.pp,b.pp,y,A),!w.fixed&&jo(w.pp,w.pp,y,-A)}var I=[];for(S=0;S<_;S++){var z;(z=r[S]).fixed||(Ni(I,z.p,z.pp),jo(z.p,z.p,I,v),Nt(z.pp,z.p))}var P=(v*=.992)<.01;g&&g(r,i,P),m&&m(P)}}}(g,m,{rect:y,gravity:s.get("gravity"),friction:s.get("friction")});_.beforeStep(function(S,x){for(var b=0,w=S.length;b<w;b++)S[b].fixed&&Nt(S[b].p,i.getNodeByIndex(b).getLayout())}),_.afterStep(function(S,x,b){for(var w=0,C=S.length;w<C;w++)S[w].fixed||i.getNodeByIndex(w).setLayout(S[w].p),r[a.getId(w)]=S[w].p;for(w=0,C=x.length;w<C;w++){var T=x[w],z=i.getEdgeByIndex(w),M=T.n1.p,A=T.n2.p,I=z.getLayout();(I=I?I.slice():[])[0]=I[0]||[],I[1]=I[1]||[],Nt(I[0],M),Nt(I[1],A),+T.curveness&&(I[2]=[(M[0]+A[0])/2-(M[1]-A[1])*T.curveness,(M[1]+A[1])/2-(A[0]-M[0])*T.curveness]),z.setLayout(I)}}),t.forceLayout=_,t.preservedPoints=r,_.step()}else t.forceLayout=null})}function V4(n,t){var e=[];return n.eachSeriesByType("graph",function(r){var i=r.get("coordinateSystem");if(!i||"view"===i){var a=r.getData(),s=[],l=[];ec(a.mapArray(function(m){var y=a.getItemModel(m);return[+y.get("x"),+y.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=function(n,t,e){return lt(V(n.getBoxLayoutParams(),{aspect:e}),{width:t.getWidth(),height:t.getHeight()})}(r,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var h=l[0]-s[0],f=l[1]-s[1],v=c.width,p=c.height,g=r.coordinateSystem=new Gl;g.zoomLimit=r.get("scaleLimit"),g.setBoundingRect(s[0],s[1],h,f),g.setViewRect(c.x,c.y,v,p),g.setCenter(r.get("center"),t),g.setZoom(r.get("zoom")),e.push(g)}}),e}var vD=yt.prototype,jg=Lc.prototype,pD=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function Kg(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){E(function(){return null!==n&&n.apply(this,arguments)||this},n)}(pD);var F4=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-line",r}return E(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new pD},t.prototype.buildPath=function(e,r){Kg(r)?vD.buildPath.call(this,e,r):jg.buildPath.call(this,e,r)},t.prototype.pointAt=function(e){return Kg(this.shape)?vD.pointAt.call(this,e):jg.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var r=this.shape,i=Kg(r)?[r.x2-r.x1,r.y2-r.y1]:jg.tangentAt.call(this,e);return ro(i,i)},t}(be);const G4=F4;var em=["fromSymbol","toSymbol"];function dD(n){return"_"+n+"Type"}function gD(n,t,e){var r=t.getItemVisual(e,n);if(!r||"none"===r)return r;var i=t.getItemVisual(e,n+"Size"),a=t.getItemVisual(e,n+"Rotate"),o=t.getItemVisual(e,n+"Offset"),s=t.getItemVisual(e,n+"KeepAspect"),l=Vo(i);return r+l+xa(o||0,l)+(a||"")+(s||"")}function mD(n,t,e){var r=t.getItemVisual(e,n);if(r&&"none"!==r){var i=t.getItemVisual(e,n+"Size"),a=t.getItemVisual(e,n+"Rotate"),o=t.getItemVisual(e,n+"Offset"),s=t.getItemVisual(e,n+"KeepAspect"),l=Vo(i),u=xa(o||0,l),c=ot(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=n,c}}function tm(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var W4=function(n){function t(e,r,i){var a=n.call(this)||this;return a._createLine(e,r,i),a}return E(t,n),t.prototype._createLine=function(e,r,i){var a=e.hostModel,s=function(n){var t=new G4({name:"line",subPixelOptimize:!0});return tm(t.shape,n),t}(e.getItemLayout(r));s.shape.percent=0,Ue(s,{shape:{percent:1}},a,r),this.add(s),D(em,function(l){var u=mD(l,e,r);this.add(u),this[dD(l)]=gD(l,e,r)},this),this._updateCommonStl(e,r,i)},t.prototype.updateData=function(e,r,i){var a=e.hostModel,o=this.childOfName("line"),s=e.getItemLayout(r),l={shape:{}};tm(l.shape,s),Ie(o,l,a,r),D(em,function(u){var c=gD(u,e,r),h=dD(u);if(this[h]!==c){this.remove(this.childOfName(u));var f=mD(u,e,r);this.add(f)}this[h]=c},this),this._updateCommonStl(e,r,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,r,i){var a=e.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,f=i&&i.focus,v=i&&i.blurScope;if(!i||e.hasItemOption){var p=e.getItemModel(r),g=p.getModel("emphasis");s=g.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),h=g.get("disabled"),f=g.get("focus"),v=g.get("blurScope"),c=ht(p)}var m=e.getItemVisual(r,"style"),y=m.stroke;o.useStyle(m),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,D(em,function(w){var C=this.childOfName(w);if(C){C.setColor(y),C.style.opacity=m.opacity;for(var T=0;T<Et.length;T++){var z=Et[T],M=o.getState(z);if(M){var A=M.style||{},I=C.ensureState(z),P=I.style||(I.style={});null!=A.stroke&&(P[C.__isEmptyBrush?"stroke":"fill"]=A.stroke),null!=A.opacity&&(P.opacity=A.opacity)}}C.markRedraw()}},this);var _=a.getRawValue(r);bt(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(w,C){return a.getFormattedLabel(w,C,e.dataType)}},inheritColor:y||"#000",defaultOpacity:m.opacity,defaultText:(null==_?e.getName(r):isFinite(_)?Ke(_):_)+""});var S=this.getTextContent();if(S){var x=c.normal;S.__align=S.style.align,S.__verticalAlign=S.style.verticalAlign,S.__position=x.get("position")||"middle";var b=x.get("distance");F(b)||(b=[b,b]),S.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),Je(this,f,v,h)},t.prototype.highlight=function(){Lr(this)},t.prototype.downplay=function(){Or(this)},t.prototype.updateLayout=function(e,r){this.setLinePoints(e.getItemLayout(r))},t.prototype.setLinePoints=function(e){var r=this.childOfName("line");tm(r.shape,e),r.dirty()},t.prototype.beforeUpdate=function(){var e=this,r=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.getTextContent();if(r||i||a&&!a.ignore){for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(this.__dirty||l.__dirty){var u=l.shape.percent,c=l.pointAt(0),h=l.pointAt(u),f=Ni([],h,c);if(ro(f,f),r&&(r.setPosition(c),v(r,0),r.scaleX=r.scaleY=o*u,r.markRedraw()),i&&(i.setPosition(h),v(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,g=void 0,m=a.__labelDistance,y=m[0]*o,_=m[1]*o,S=u/2,x=l.tangentAt(S),b=[x[1],-x[0]],w=l.pointAt(S);b[1]>0&&(b[0]=-b[0],b[1]=-b[1]);var C=x[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var T=-Math.atan2(x[1],x[0]);h[0]<c[0]&&(T=Math.PI+T),a.rotation=T}var z=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":z=-_,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":z=_,g="top";break;default:z=0,g="middle"}switch(a.__position){case"end":a.x=f[0]*y+h[0],a.y=f[1]*_+h[1],p=f[0]>.8?"left":f[0]<-.8?"right":"center",g=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":a.x=-f[0]*y+c[0],a.y=-f[1]*_+c[1],p=f[0]>.8?"right":f[0]<-.8?"left":"center",g=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*C+c[0],a.y=c[1]+z,p=x[0]<0?"right":"left",a.originX=-y*C,a.originY=-z;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=w[0],a.y=w[1]+z,p="center",a.originY=-z;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*C+h[0],a.y=h[1]+z,p=x[0]>=0?"right":"left",a.originX=y*C,a.originY=-z}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||g,align:a.__align||p})}}}function v(M,A){var I=M.__specifiedRotation;if(null==I){var P=l.tangentAt(A);M.attr("rotation",(1===A?-1:1)*Math.PI/2-Math.atan2(P[1],P[0]))}else M.attr("rotation",I)}},t}(ue);const nm=W4;var Y4=function(){function n(t){this.group=new ue,this._LineCtor=t||nm}return n.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var r=this,i=r.group,a=r._lineData;r._lineData=t,a||i.removeAll();var o=yD(t);t.diff(a).add(function(s){e._doAdd(t,s,o)}).update(function(s,l){e._doUpdate(a,t,l,s,o)}).remove(function(s){i.remove(a.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;!t||t.eachItemGraphicEl(function(e,r){e.updateLayout(t,r)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=yD(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){function r(s){!s.isGroup&&!function(n){return n.animators&&n.animators.length>0}(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=t.start;i<t.end;i++)if(rm(e.getItemLayout(i))){var o=new this._LineCtor(e,i,this._seriesScope);o.traverse(r),this.group.add(o),e.setItemGraphicEl(i,o),this._progressiveEls.push(o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(t){fi(this._progressiveEls||this.group,t)},n.prototype._doAdd=function(t,e,r){if(rm(t.getItemLayout(e))){var a=new this._LineCtor(t,e,r);t.setItemGraphicEl(e,a),this.group.add(a)}},n.prototype._doUpdate=function(t,e,r,i,a){var o=t.getItemGraphicEl(r);rm(e.getItemLayout(i))?(o?o.updateData(e,i,a):o=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,o),this.group.add(o)):this.group.remove(o)},n}();function yD(n){var t=n.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:ht(t)}}function _D(n){return isNaN(n[0])||isNaN(n[1])}function rm(n){return n&&!_D(n[0])&&!_D(n[1])}const im=Y4;var am=[],om=[],sm=[],Ko=mt,lm=ki,SD=Math.abs;function xD(n,t,e){for(var s,r=n[0],i=n[1],a=n[2],o=1/0,l=e*e,u=.1,c=.1;c<=.9;c+=.1)am[0]=Ko(r[0],i[0],a[0],c),am[1]=Ko(r[1],i[1],a[1],c),(h=SD(lm(am,t)-l))<o&&(o=h,s=c);for(var f=0;f<32;f++){var v=s+u;om[0]=Ko(r[0],i[0],a[0],s),om[1]=Ko(r[1],i[1],a[1],s),sm[0]=Ko(r[0],i[0],a[0],v),sm[1]=Ko(r[1],i[1],a[1],v);var h=lm(om,t)-l;if(SD(h)<.01)break;var p=lm(sm,t)-l;u/=2,h<0?p>=0?s+=u:s-=u:p>=0?s-=u:s+=u}return s}function um(n,t){var e=[],r=bs,i=[[],[],[]],a=[[],[]],o=[];t/=2,n.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),h=s.getVisual("toSymbol");u.__original||(u.__original=[wr(u[0]),wr(u[1])],u[2]&&u.__original.push(wr(u[2])));var f=u.__original;if(null!=u[2]){if(Nt(i[0],f[0]),Nt(i[1],f[2]),Nt(i[2],f[1]),c&&"none"!==c){var v=jl(s.node1),p=xD(i,f[0],v*t);r(i[0][0],i[1][0],i[2][0],p,e),i[0][0]=e[3],i[1][0]=e[4],r(i[0][1],i[1][1],i[2][1],p,e),i[0][1]=e[3],i[1][1]=e[4]}h&&"none"!==h&&(v=jl(s.node2),p=xD(i,f[1],v*t),r(i[0][0],i[1][0],i[2][0],p,e),i[1][0]=e[1],i[2][0]=e[2],r(i[0][1],i[1][1],i[2][1],p,e),i[1][1]=e[1],i[2][1]=e[2]),Nt(u[0],i[0]),Nt(u[1],i[2]),Nt(u[2],i[1])}else Nt(a[0],f[0]),Nt(a[1],f[1]),Ni(o,a[1],a[0]),ro(o,o),c&&"none"!==c&&(v=jl(s.node1),Nf(a[0],a[0],o,v*t)),h&&"none"!==h&&(v=jl(s.node2),Nf(a[1],a[1],o,-v*t)),Nt(u[0],a[0]),Nt(u[1],a[1])})}function bD(n){return"view"===n.type}var U4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e,r){var i=new Al,a=new im,o=this.group;this._controller=new Vl(r.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,r,i){var a=this,o=e.coordinateSystem;this._model=e;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(bD(o)){var c={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(c):Ie(u,c,e)}um(e.getGraph(),ql(e));var h=e.getData();s.updateData(h);var f=e.getEdgeData();l.updateData(f),this._updateNodeAndLinkScale(),this._updateController(e,r,i),clearTimeout(this._layoutTimeout);var v=e.forceLayout,p=e.get(["force","layoutAnimation"]);v&&this._startForceLayoutIteration(v,p);var g=e.get("layout");h.graph.eachNode(function(S){var x=S.dataIndex,b=S.getGraphicEl(),w=S.getModel();if(b){b.off("drag").off("dragend");var C=w.get("draggable");C&&b.on("drag",function(z){switch(g){case"force":v.warmUp(),!a._layouting&&a._startForceLayoutIteration(v,p),v.setFixed(x),h.setItemLayout(x,[b.x,b.y]);break;case"circular":h.setItemLayout(x,[b.x,b.y]),S.setLayout({fixed:!0},!0),qg(e,"symbolSize",S,[z.offsetX,z.offsetY]),a.updateLayout(e);break;default:h.setItemLayout(x,[b.x,b.y]),Qg(e.getGraph(),e),a.updateLayout(e)}}).on("dragend",function(){v&&v.setUnfixed(x)}),b.setDraggable(C,!!w.get("cursor")),"adjacency"===w.get(["emphasis","focus"])&&(ce(b).focus=S.getAdjacentDataIndices())}}),h.graph.eachEdge(function(S){var x=S.getGraphicEl(),b=S.getModel().get(["emphasis","focus"]);!x||"adjacency"===b&&(ce(x).focus={edge:[S.dataIndex],node:[S.node1.dataIndex,S.node2.dataIndex]})});var m="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),y=h.getLayout("cx"),_=h.getLayout("cy");h.graph.eachNode(function(S){fD(S,m,y,_)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,r){var i=this;!function a(){e.step(function(o){i.updateLayout(i._model),(i._layouting=!o)&&(r?i._layoutTimeout=setTimeout(a,16):a())})}()},t.prototype._updateController=function(e,r,i){var a=this,o=this._controller,s=this._controllerHost,l=this.group;o.setPointerChecker(function(u,c,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(c,h)&&!Ah(u,i,e)}),bD(e.coordinateSystem)?(o.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){bg(s,u.dx,u.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){wg(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),um(e.getGraph(),ql(e)),a._lineDraw.updateLayout(),i.updateLabelLayout()})):o.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,r=e.getData(),i=ql(e);r.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(e){um(e.getGraph(),ql(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(He);const $4=U4;function es(n){return"_EC_"+n}var X4=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){var r=this._nodesMap;if(!r[es(t=null==t?""+e:""+t)]){var i=new Ha(t,e);return i.hostGraph=this,this.nodes.push(i),r[es(t)]=i,i}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[es(t)]},n.prototype.addEdge=function(t,e,r){var i=this._nodesMap,a=this._edgesMap;if(De(t)&&(t=this.nodes[t]),De(e)&&(e=this.nodes[e]),t instanceof Ha||(t=i[es(t)]),e instanceof Ha||(e=i[es(e)]),t&&e){var o=t.id+"-"+e.id,s=new wD(t,e,r);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),a[o]=s,s}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof Ha&&(t=t.id),e instanceof Ha&&(e=e.id);var r=this._edgesMap;return this._directed?r[t+"-"+e]:r[t+"-"+e]||r[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var r=this.nodes,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&t.call(e,r[a],a)},n.prototype.eachEdge=function(t,e){for(var r=this.edges,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&t.call(e,r[a],a)},n.prototype.breadthFirstTraverse=function(t,e,r,i){if(e instanceof Ha||(e=this._nodesMap[es(e)]),e){for(var a="out"===r?"outEdges":"in"===r?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var s=[e];s.length;){var l=s.shift(),u=l[a];for(o=0;o<u.length;o++){var c=u[o],h=c.node1===l?c.node2:c.node1;if(!h.__visited){if(t.call(i,h,l))return;s.push(h),h.__visited=!0}}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,r=this.nodes,i=this.edges,a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(a=0,o=t.count();a<o;a++)r[t.getRawIndex(a)].dataIndex=a;for(e.filterSelf(function(s){var l=i[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(a=0,o=e.count();a<o;a++)i[e.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,r=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<r.length;i++){var a=r[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},n}(),Ha=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var r=this.edges[e];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},n.prototype.getTrajectoryDataIndices=function(){for(var t=Q(),e=Q(),r=0;r<this.edges.length;r++){var i=this.edges[r];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var a=[i.node1],o=[i.node2],s=0;s<a.length;){var l=a[s];s++,e.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(s=0;s<o.length;){var c=o[s];for(s++,e.set(c.dataIndex,!0),u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),o.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:e.keys()}},n}(),wD=function(){function n(t,e,r){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==r?-1:r}return n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var t=Q(),e=Q();t.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],a=0;a<r.length;){var o=r[a];a++,e.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)t.set(o.inEdges[s].dataIndex,!0),r.push(o.inEdges[s].node1)}for(a=0;a<i.length;){var l=i[a];for(a++,e.set(l.dataIndex,!0),s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),i.push(l.outEdges[s].node2)}return{edge:t.keys(),node:e.keys()}},n}();function CD(n,t){return{getValue:function(e){var r=this[n][t];return r.getStore().get(r.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,r){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,r)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,r){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,r)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}rt(Ha,CD("hostGraph","data")),rt(wD,CD("hostGraph","edgeData"));const Q4=X4;function TD(n,t,e,r,i){for(var a=new Q4(r),o=0;o<n.length;o++)a.addNode(gt(n[o].id,n[o].name,o),o);var s=[],l=[],u=0;for(o=0;o<t.length;o++){var c=t[o],h=c.source,f=c.target;a.addEdge(h,f,u)&&(l.push(c),s.push(gt(st(c.id,null),h+" > "+f)),u++)}var p,v=e.get("coordinateSystem");if("cartesian2d"===v||"polar"===v)p=Er(n,e);else{var g=js.get(v),m=g&&g.dimensions||[];_e(m,"value")<0&&m.concat(["value"]);var y=Yo(n,{coordDimensions:m,encodeDefine:e.getEncode()}).dimensions;(p=new Ft(y,e)).initData(n)}var _=new Ft(["value"],e);return _.initData(l,s),i&&i(p,_),Fz({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var J4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return E(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new Ol(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Ui(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,r){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&i){!function(n){!Gh(n)||(n.__curvenessList=[],n.__edgeMap={},lD(n))}(this);var s=TD(a,i,this,!0,function(u,c){u.wrapMethod("getItemModel",function(p){var y=o._categoriesModels[p.getShallow("category")];return y&&(y.parentModel=p.parentModel,p.parentModel=y),p});var h=Ge.prototype.getModel;function f(p,g){var m=h.call(this,p,g);return m.resolveParentPath=v,m}function v(p){if(p&&("label"===p[0]||"label"===p[1])){var g=p.slice();return"label"===p[0]?g[0]="edgeLabel":"label"===p[1]&&(g[1]="edgeLabel"),g}return p}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=v,p.getModel=f,p})});return D(s.edges,function(u){!function(n,t,e,r){if(Gh(e)){var i=Jl(n,t,e),a=e.__edgeMap,o=a[uD(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(r)}}(u.node1,u.node2,this,u.dataIndex)},this),s.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,r,i){if("edge"===i){var a=this.getData(),o=this.getDataParams(e,i),s=a.graph.getEdgeByIndex(e),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),c=[];return null!=l&&c.push(l),null!=u&&c.push(u),ft("nameValue",{name:c.join(" > "),value:o.value,noValue:null==o.value})}return Mx({series:this,dataIndex:e,multipleSeries:r})},t.prototype._updateCategoriesData=function(){var e=G(this.option.categories||[],function(i){return null!=i.value?i:V({value:0},i)}),r=new Ft(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}($e);const q4=J4;var j4={type:"graphRoam",event:"graphRoam",update:"none"},eH=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},tH=function(n){function t(e){var r=n.call(this,e)||this;return r.type="pointer",r}return E(t,n),t.prototype.getDefaultShape=function(){return new eH},t.prototype.buildPath=function(e,r){var i=Math.cos,a=Math.sin,o=r.r,s=r.width,l=r.angle,u=r.x-i(l)*s*(s>=o/3?1:2),c=r.y-a(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,e.moveTo(u,c),e.lineTo(r.x+i(l)*s,r.y+a(l)*s),e.lineTo(r.x+i(r.angle)*o,r.y+a(r.angle)*o),e.lineTo(r.x-i(l)*s,r.y-a(l)*s),e.lineTo(u,c)},t}(be);const nH=tH;function Hh(n,t){var e=null==n?"":n+"";return t&&(U(t)?e=t.replace("{value}",e):ee(t)&&(e=t(n))),e}var iH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),o=function(n,t){var e=n.get("center"),r=t.getWidth(),i=t.getHeight(),a=Math.min(r,i);return{cx:Y(e[0],t.getWidth()),cy:Y(e[1],t.getHeight()),r:Y(n.get("radius"),a/2)}}(e,i);this._renderMain(e,r,i,a,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,r,i,a,o){var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,c=-e.get("endAngle")/180*Math.PI,h=e.getModel("axisLine"),v=h.get("roundCap")?vh:Ut,p=h.get("show"),g=h.getModel("lineStyle"),m=g.get("width"),y=[u,c];jv(y,!l);for(var _=(c=y[1])-(u=y[0]),S=u,x=[],b=0;p&&b<a.length;b++){var C=new v({shape:{startAngle:S,endAngle:c=u+_*Math.min(Math.max(a[b][0],0),1),cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-m,r:o.r},silent:!0});C.setStyle({fill:a[b][1]}),C.setStyle(g.getLineStyle(["color","width"])),x.push(C),S=c}x.reverse(),D(x,function(z){return s.add(z)});var T=function(z){if(z<=0)return a[0][1];var M;for(M=0;M<a.length;M++)if(a[M][0]>=z&&(0===M?0:a[M-1][0])<z)return a[M][1];return a[M-1][1]};this._renderTicks(e,r,i,T,o,u,c,l,m),this._renderTitleAndDetail(e,r,i,T,o),this._renderAnchor(e,o),this._renderPointer(e,r,i,T,o,u,c,l,m)},t.prototype._renderTicks=function(e,r,i,a,o,s,l,u,c){for(var L,O,h=this.group,f=o.cx,v=o.cy,p=o.r,g=+e.get("min"),m=+e.get("max"),y=e.getModel("splitLine"),_=e.getModel("axisTick"),S=e.getModel("axisLabel"),x=e.get("splitNumber"),b=_.get("splitNumber"),w=Y(y.get("length"),p),C=Y(_.get("length"),p),T=s,z=(l-s)/x,M=z/b,A=y.getModel("lineStyle").getLineStyle(),I=_.getModel("lineStyle").getLineStyle(),P=y.get("distance"),R=0;R<=x;R++){if(L=Math.cos(T),O=Math.sin(T),y.get("show")){var N=new yt({shape:{x1:L*(p-(k=P?P+c:c))+f,y1:O*(p-k)+v,x2:L*(p-w-k)+f,y2:O*(p-w-k)+v},style:A,silent:!0});"auto"===A.stroke&&N.setStyle({stroke:a(R/x)}),h.add(N)}if(S.get("show")){var k=S.get("distance")+P,B=Hh(Ke(R/x*(m-g)+g),S.get("formatter")),H=a(R/x),W=L*(p-w-k)+f,Z=O*(p-w-k)+v,K=S.get("rotate"),te=0;"radial"===K?(te=-T+2*Math.PI)>Math.PI/2&&(te+=Math.PI):"tangential"===K?te=-T-Math.PI/2:De(K)&&(te=K*Math.PI/180),h.add(new Me(0===te?{style:Fe(S,{text:B,x:W,y:Z,verticalAlign:O<-.8?"top":O>.8?"bottom":"middle",align:L<-.4?"left":L>.4?"right":"center"},{inheritColor:H}),silent:!0}:{style:Fe(S,{text:B,x:W,y:Z,verticalAlign:"middle",align:"center"},{inheritColor:H}),silent:!0,originX:W,originY:Z,rotation:te}))}if(_.get("show")&&R!==x){k=(k=_.get("distance"))?k+c:c;for(var he=0;he<=b;he++){L=Math.cos(T),O=Math.sin(T);var Ee=new yt({shape:{x1:L*(p-k)+f,y1:O*(p-k)+v,x2:L*(p-C-k)+f,y2:O*(p-C-k)+v},silent:!0,style:I});"auto"===I.stroke&&Ee.setStyle({stroke:a((R+he/b)/x)}),h.add(Ee),T+=M}T-=M}else T+=z}},t.prototype._renderPointer=function(e,r,i,a,o,s,l,u,c){var h=this.group,f=this._data,v=this._progressEls,p=[],g=e.get(["pointer","show"]),m=e.getModel("progress"),y=m.get("show"),_=e.getData(),S=_.mapDimension("value"),x=+e.get("min"),b=+e.get("max"),w=[x,b],C=[s,l];function T(M,A){var W,P=_.getItemModel(M).getModel("pointer"),L=Y(P.get("width"),o.r),O=Y(P.get("length"),o.r),R=e.get(["pointer","icon"]),k=P.get("offsetCenter"),N=Y(k[0],o.r),B=Y(k[1],o.r),H=P.get("keepAspect");return(W=R?ot(R,N-L/2,B-O,L,O,null,H):new nH({shape:{angle:-Math.PI/2,width:L,r:O,x:N,y:B}})).rotation=-(A+Math.PI/2),W.x=o.cx,W.y=o.cy,W}function z(M,A){var P=m.get("roundCap")?vh:Ut,L=m.get("overlap"),O=L?m.get("width"):c/_.count(),N=new P({shape:{startAngle:s,endAngle:A,cx:o.cx,cy:o.cy,clockwise:u,r0:L?o.r-O:o.r-(M+1)*O,r:L?o.r:o.r-M*O}});return L&&(N.z2=Oe(_.get(S,M),[x,b],[100,0],!0)),N}(y||g)&&(_.diff(f).add(function(M){var A=_.get(S,M);if(g){var I=T(M,s);Ue(I,{rotation:-((isNaN(+A)?C[0]:Oe(A,w,C,!0))+Math.PI/2)},e),h.add(I),_.setItemGraphicEl(M,I)}if(y){var P=z(M,s),L=m.get("clip");Ue(P,{shape:{endAngle:Oe(A,w,C,L)}},e),h.add(P),tp(e.seriesIndex,_.dataType,M,P),p[M]=P}}).update(function(M,A){var I=_.get(S,M);if(g){var P=f.getItemGraphicEl(A),L=P?P.rotation:s,O=T(M,L);O.rotation=L,Ie(O,{rotation:-((isNaN(+I)?C[0]:Oe(I,w,C,!0))+Math.PI/2)},e),h.add(O),_.setItemGraphicEl(M,O)}if(y){var R=v[A],N=z(M,R?R.shape.endAngle:s),B=m.get("clip");Ie(N,{shape:{endAngle:Oe(I,w,C,B)}},e),h.add(N),tp(e.seriesIndex,_.dataType,M,N),p[M]=N}}).execute(),_.each(function(M){var A=_.getItemModel(M),I=A.getModel("emphasis"),P=I.get("focus"),L=I.get("blurScope"),O=I.get("disabled");if(g){var R=_.getItemGraphicEl(M),k=_.getItemVisual(M,"style"),N=k.fill;if(R instanceof St){var B=R.style;R.useStyle(V({image:B.image,x:B.x,y:B.y,width:B.width,height:B.height},k))}else R.useStyle(k),"pointer"!==R.type&&R.setColor(N);R.setStyle(A.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===R.style.fill&&R.setStyle("fill",a(Oe(_.get(S,M),w,[0,1],!0))),R.z2EmphasisLift=0,xt(R,A),Je(R,P,L,O)}if(y){var H=p[M];H.useStyle(_.getItemVisual(M,"style")),H.setStyle(A.getModel(["progress","itemStyle"]).getItemStyle()),H.z2EmphasisLift=0,xt(H,A),Je(H,P,L,O)}}),this._progressEls=p)},t.prototype._renderAnchor=function(e,r){var i=e.getModel("anchor");if(i.get("show")){var o=i.get("size"),s=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=ot(s,r.cx-o/2+Y(l[0],r.r),r.cy-o/2+Y(l[1],r.r),o,o,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(e,r,i,a,o){var s=this,l=e.getData(),u=l.mapDimension("value"),c=+e.get("min"),h=+e.get("max"),f=new ue,v=[],p=[],g=e.isAnimationEnabled(),m=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){v[y]=new Me({silent:!0}),p[y]=new Me({silent:!0})}).update(function(y,_){v[y]=s._titleEls[_],p[y]=s._detailEls[_]}).execute(),l.each(function(y){var _=l.getItemModel(y),S=l.get(u,y),x=new ue,b=a(Oe(S,[c,h],[0,1],!0)),w=_.getModel("title");if(w.get("show")){var C=w.get("offsetCenter"),T=o.cx+Y(C[0],o.r),z=o.cy+Y(C[1],o.r);(M=v[y]).attr({z2:m?0:2,style:Fe(w,{x:T,y:z,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:b})}),x.add(M)}var A=_.getModel("detail");if(A.get("show")){var I=A.get("offsetCenter"),P=o.cx+Y(I[0],o.r),L=o.cy+Y(I[1],o.r),O=Y(A.get("width"),o.r),R=Y(A.get("height"),o.r),k=e.get(["progress","show"])?l.getItemVisual(y,"style").fill:b,M=p[y],N=A.get("formatter");M.attr({z2:m?0:2,style:Fe(A,{x:P,y:L,text:Hh(S,N),width:isNaN(O)?null:O,height:isNaN(R)?null:R,align:"center",verticalAlign:"middle"},{inheritColor:k})}),qS(M,{normal:A},S,function(H){return Hh(H,N)}),g&&jS(M,y,l,e,{getFormattedLabel:function(H,W,Z,K,te,he){return Hh(he?he.interpolatedValue:S,N)}}),x.add(M)}f.add(x)}),this.group.add(f),this._titleEls=v,this._detailEls=p},t.type="gauge",t}(He);const aH=iH;var oH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return E(t,n),t.prototype.getInitialData=function(e,r){return $o(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}($e);const sH=oH;var uH=["itemStyle","opacity"],cH=function(n){function t(e,r){var i=n.call(this)||this,a=i,o=new Xt,s=new Me;return a.setTextContent(s),i.setTextGuideLine(o),i.updateData(e,r,!0),i}return E(t,n),t.prototype.updateData=function(e,r,i){var a=this,o=e.hostModel,s=e.getItemModel(r),l=e.getItemLayout(r),u=s.getModel("emphasis"),c=s.get(uH);c=null==c?1:c,i||Nn(a),a.useStyle(e.getItemVisual(r,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Ue(a,{style:{opacity:c}},o,r)):Ie(a,{style:{opacity:c},shape:{points:l.points}},o,r),xt(a,s),this._updateLabel(e,r),Je(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,r){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),s=e.hostModel,l=e.getItemModel(r),c=e.getItemLayout(r).label,h=e.getItemVisual(r,"style"),f=h.fill;bt(o,ht(l),{labelFetcher:e.hostModel,labelDataIndex:r,defaultOpacity:h.opacity,defaultText:e.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:f,outsideFill:f});var v=c.linePoints;a.setShape({points:v}),i.textGuideLineConfig={anchor:v?new ge(v[0][0],v[0][1]):null},Ie(o,{style:{x:c.x,y:c.y}},s,r),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),Ad(i,Id(l),{stroke:f})},t}($t),hH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return E(t,n),t.prototype.render=function(e,r,i){var a=e.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var u=new cH(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,l),s.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){Us(o.getItemGraphicEl(l),e,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(He);const fH=hH;var vH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ol($(this.getData,this),$(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,r){return $o(this,{coordDimensions:["value"],encodeDefaulter:pe(Dp,this)})},t.prototype._defaultLabelLine=function(e){Ui(e,"labelLine",["show"]);var r=e.labelLine,i=e.emphasis.labelLine;r.show=r.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var r=this.getData(),i=n.prototype.getDataParams.call(this,e),a=r.mapDimension("value"),o=r.getSum(a);return i.percent=o?+(r.get(a,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}($e);const pH=vH;function yH(n,t){n.eachSeriesByType("funnel",function(e){var r=e.getData(),i=r.mapDimension("value"),a=e.get("sort"),o=function(n,t){return lt(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),s=e.get("orient"),l=o.width,u=o.height,c=function(n,t){for(var e=n.mapDimension("value"),r=n.mapArray(e,function(l){return l}),i=[],a="ascending"===t,o=0,s=n.count();o<s;o++)i[o]=o;return ee(t)?i.sort(t):"none"!==t&&i.sort(function(l,u){return a?r[l]-r[u]:r[u]-r[l]}),i}(r,a),h=o.x,f=o.y,v="horizontal"===s?[Y(e.get("minSize"),u),Y(e.get("maxSize"),u)]:[Y(e.get("minSize"),l),Y(e.get("maxSize"),l)],p=r.getDataExtent(i),g=e.get("min"),m=e.get("max");null==g&&(g=Math.min(p[0],0)),null==m&&(m=p[1]);var y=e.get("funnelAlign"),_=e.get("gap"),x=(("horizontal"===s?l:u)-_*(r.count()-1))/r.count(),b=function(L,O){if("horizontal"===s){var k=Oe(r.get(i,L)||0,[g,m],v,!0),N=void 0;switch(y){case"top":N=f;break;case"center":N=f+(u-k)/2;break;case"bottom":N=f+(u-k)}return[[O,N],[O,N+k]]}var W,H=Oe(r.get(i,L)||0,[g,m],v,!0);switch(y){case"left":W=h;break;case"center":W=h+(l-H)/2;break;case"right":W=h+l-H}return[[W,O],[W+H,O]]};"ascending"===a&&(x=-x,_=-_,"horizontal"===s?h+=l:f+=u,c=c.reverse());for(var w=0;w<c.length;w++){var C=c[w],T=c[w+1],z=r.getItemModel(C);if("horizontal"===s){var M=z.get(["itemStyle","width"]);null==M?M=x:(M=Y(M,l),"ascending"===a&&(M=-M));var A=b(C,h),I=b(T,h+M);h+=M+_,r.setItemLayout(C,{points:A.concat(I.slice().reverse())})}else{var P=z.get(["itemStyle","height"]);null==P?P=x:(P=Y(P,u),"ascending"===a&&(P=-P)),A=b(C,f),I=b(T,f+P),f+=P+_,r.setItemLayout(C,{points:A.concat(I.slice().reverse())})}}!function(n){var e=n.hostModel.get("orient");n.each(function(r){var h,f,v,p,i=n.getItemModel(r),o=i.getModel("label").get("position"),s=i.getModel("labelLine"),l=n.getItemLayout(r),u=l.points,c="inner"===o||"inside"===o||"center"===o||"insideLeft"===o||"insideRight"===o;if(c)"insideLeft"===o?(f=(u[0][0]+u[3][0])/2+5,v=(u[0][1]+u[3][1])/2,h="left"):"insideRight"===o?(f=(u[1][0]+u[2][0])/2-5,v=(u[1][1]+u[2][1])/2,h="right"):(f=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,v=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,h="center"),p=[[f,v],[f,v]];else{var g=void 0,m=void 0,y=void 0,_=void 0,S=s.get("length");"left"===o?(m=(u[3][1]+u[0][1])/2,f=(y=(g=(u[3][0]+u[0][0])/2)-S)-5,h="right"):"right"===o?(m=(u[1][1]+u[2][1])/2,f=(y=(g=(u[1][0]+u[2][0])/2)+S)+5,h="left"):"top"===o?(g=(u[3][0]+u[0][0])/2,v=(_=(m=(u[3][1]+u[0][1])/2)-S)-5,h="center"):"bottom"===o?(g=(u[1][0]+u[2][0])/2,v=(_=(m=(u[1][1]+u[2][1])/2)+S)+5,h="center"):"rightTop"===o?(g="horizontal"===e?u[3][0]:u[1][0],m="horizontal"===e?u[3][1]:u[1][1],"horizontal"===e?(v=(_=m-S)-5,h="center"):(f=(y=g+S)+5,h="top")):"rightBottom"===o?(g=u[2][0],m=u[2][1],"horizontal"===e?(v=(_=m+S)+5,h="center"):(f=(y=g+S)+5,h="bottom")):"leftTop"===o?(g=u[0][0],m="horizontal"===e?u[0][1]:u[1][1],"horizontal"===e?(v=(_=m-S)-5,h="center"):(f=(y=g-S)-5,h="right")):"leftBottom"===o?(g="horizontal"===e?u[1][0]:u[3][0],m="horizontal"===e?u[1][1]:u[2][1],"horizontal"===e?(v=(_=m+S)+5,h="center"):(f=(y=g-S)-5,h="right")):(g=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,"horizontal"===e?(v=(_=m+S)+5,h="center"):(f=(y=g+S)+5,h="left")),"horizontal"===e?f=y=g:v=_=m,p=[[g,m],[y,_]]}l.label={linePoints:p,x:f,y:v,verticalAlign:"middle",textAlign:h,inside:c}})}(r)})}var xH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new ue,e._initialized=!1,e}return E(t,n),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,r,i,a){this._progressiveEls=null;var o=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.dimensions,h=MD(e);if(s.diff(l).add(function(m){cm(DD(s,o,m,c,u),s,m,h)}).update(function(m,y){var _=l.getItemGraphicEl(y),S=zD(s,m,c,u);s.setItemGraphicEl(m,_),Ie(_,{shape:{points:S}},e,m),Nn(_),cm(_,s,m,h)}).remove(function(m){var y=l.getItemGraphicEl(m);o.remove(y)}).execute(),!this._initialized){this._initialized=!0;var g=function(n,t,e){var r=n.model,i=n.getRect(),a=new Te({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o="horizontal"===r.get("layout")?"width":"height";return a.setShape(o,0),Ue(a,{shape:{width:i.width,height:i.height}},t,e),a}(u,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(g)}this._data=s},t.prototype.incrementalPrepareRender=function(e,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,r,i){for(var a=r.getData(),o=r.coordinateSystem,s=o.dimensions,l=MD(r),u=this._progressiveEls=[],c=e.start;c<e.end;c++){var h=DD(a,this._dataGroup,c,s,o);h.incremental=!0,cm(h,a,c,l),u.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(He);function zD(n,t,e,r){for(var i=[],a=0;a<e.length;a++){var o=e[a],s=n.get(n.mapDimension(o),t);wH(s,r.getAxis(o).type)||i.push(r.dataToPoint(s,o))}return i}function DD(n,t,e,r,i){var a=zD(n,e,r,i),o=new Xt({shape:{points:a},z2:10});return t.add(o),n.setItemGraphicEl(e,o),o}function MD(n){var t=n.get("smooth",!0);return!0===t&&(t=.3),ps(t=Mr(t))&&(t=0),{smooth:t}}function cm(n,t,e,r){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var i=t.getItemModel(e),a=i.getModel("emphasis");xt(n,i,"lineStyle"),Je(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function wH(n,t){return"category"===t?null==n:null==n||isNaN(n)}const CH=xH;var TH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return E(t,n),t.prototype.getInitialData=function(e,r){return Er(null,this,{useEncodeDefaulter:$(zH,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var r=this.coordinateSystem,i=this.getData(),a=[];return r.eachActiveState(i,function(o,s){e===o&&a.push(i.getRawIndex(s))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}($e);function zH(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(t){var e={};return D(t.dimensions,function(r){var i=function(n){return+n.replace("dim","")}(r);e[r]=i}),e}}const MH=TH;var AH=["lineStyle","opacity"],IH={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(i,a){e.eachActiveState(a,function(o,s){var l=r[o];if("normal"===o&&a.hasItemOption){var u=a.getItemModel(s).get(AH,!0);null!=u&&(l=u)}a.ensureUniqueItemVisual(s,"style").opacity=l},i.start,i.end)}}}};const PH=IH;function LH(n){(function(n){if(!n.parallel){var t=!1;D(n.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(n.parallel=[{}])}})(n),function(n){D(ke(n.parallelAxis),function(e){if(oe(e)){var r=e.parallelIndex||0,i=ke(n.parallel)[r];i&&i.parallelAxisDefault&&de(e,i.parallelAxisDefault,!1)}})}(n)}var kH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){this._model=e,this._api=i,this._handlers||(this._handlers={},D(EH,function(a,o){i.getZr().on(o,this._handlers[o]=$(a,this))},this)),Eo(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,r){cl(this,"_throttledDispatchExpand"),D(this._handlers,function(i,a){r.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(V({type:"parallelAxisExpand"},e))},t.type="parallel",t}(je),EH={mousedown:function(n){hm(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(hm(this,"click")&&t){var e=[n.offsetX,n.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&hm(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=e.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function hm(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}const BH=kH;var VH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&de(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,r){var i=e.get("parallelIndex");return null!=i&&r.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){D(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){e.hasOwnProperty(r)&&(this.option[r]=e[r])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],r=this.parallelAxisIndex=[];D(Pe(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(a){e.push("dim"+a.get("dim")),r.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Ae);const FH=VH;var GH=function(n){function t(e,r,i,a,o){var s=n.call(this,e,r,i)||this;return s.type=a||"value",s.axisIndex=o,s}return E(t,n),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Yn);const HH=GH;function Wa(n,t,e,r,i,a){n=n||0;var o=e[1]-e[0];if(null!=i&&(i=ts(i,[0,o])),null!=a&&(a=Math.max(a,null!=i?i:0)),"all"===r){var s=Math.abs(t[1]-t[0]);s=ts(s,[0,o]),i=a=ts(s,[i,a]),r=0}t[0]=ts(t[0],e),t[1]=ts(t[1],e);var l=fm(t,r);t[r]+=n;var h,u=i||0,c=e.slice();return l.sign<0?c[0]+=u:c[1]-=u,t[r]=ts(t[r],c),h=fm(t,r),null!=i&&(h.sign!==l.sign||h.span<i)&&(t[1-r]=t[r]+l.sign*i),h=fm(t,r),null!=a&&h.span>a&&(t[1-r]=t[r]+h.sign*a),t}function fm(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function ts(n,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,n))}var vm=D,AD=Math.min,ID=Math.max,PD=Math.floor,WH=Math.ceil,LD=Ke,YH=Math.PI,ZH=function(){function n(t,e,r){this.type="parallel",this._axesMap=Q(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,r)}return n.prototype._init=function(t,e,r){var a=t.parallelAxisIndex;vm(t.dimensions,function(o,s){var l=a[s],u=e.getComponent("parallelAxis",l),c=this._axesMap.set(o,new HH(o,Th(u),[0,0],u.get("type"),l));c.onBand="category"===c.type&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),r=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,o=t[1-a],s=t[a];return o>=r&&o<=r+e.axisLength&&s>=i&&s<=i+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(r){if(t.contains(r,e)){var i=r.getData();vm(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),Qo(o.scale,o.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=lt(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var p,t=this._model,e=this._rect,r=["x","y"],i=["width","height"],a=t.get("layout"),o="horizontal"===a?0:1,s=e[i[o]],l=[0,s],u=this.dimensions.length,c=Wh(t.get("axisExpandWidth"),l),h=Wh(t.get("axisExpandCount")||0,[0,u]),f=t.get("axisExpandable")&&u>3&&u>h&&h>1&&c>0&&s>0,v=t.get("axisExpandWindow");v?(p=Wh(v[1]-v[0],l),v[1]=v[0]+p):(p=Wh(c*(h-1),l),(v=[c*(t.get("axisExpandCenter")||PD(u/2))-p/2])[1]=v[0]+p);var m=(s-p)/(u-h);m<3&&(m=0);var y=[PD(LD(v[0]/c,1))+1,WH(LD(v[1]/c,1))-1];return{layout:a,pixelDimIndex:o,layoutBase:e[r[o]],layoutLength:s,axisBase:e[r[1-o]],axisLength:e[i[1-o]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:m,axisExpandWindow:v,axisCount:u,winInnerIndices:y,axisExpandWindow0Pos:m/c*v[0]}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each(function(o){var s=[0,i.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),vm(r,function(o,s){var l=(i.axisExpandable?$H:UH)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},h=[u[a].x+t.x,u[a].y+t.y],f={horizontal:YH/2,vertical:0}[a],v=[1,0,0,1,0,0];Ei(v,v,f),jn(v,v,h),this._axesLayout[o]={position:h,rotation:f,transform:v,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,r,i){null==r&&(r=0),null==i&&(i=t.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];D(o,function(m){s.push(t.mapDimension(m)),l.push(a.get(m).model)});for(var u=this.hasAxisBrushed(),c=r;c<i;c++){var h=void 0;if(u){h="active";for(var f=t.getValues(s,c),v=0,p=o.length;v<p;v++)if("inactive"===l[v].getActiveState(f[v])){h="inactive";break}}else h="normal";e(h,c)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,r=!1,i=0,a=t.length;i<a;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(r=!0);return r},n.prototype.axisCoordToPoint=function(t,e){return Vn([t,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(t){return se(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),r=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var l,s=t[r]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",c=e.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),f=null!=h[0];if(c)f&&c&&s<a*h[0]?(u="jump",l=s-a*h[2]):f&&c&&s>a*(1-h[0])?(u="jump",l=s-a*(1-h[2])):(l=s-a*h[1])>=0&&(l=s-a*(1-h[1]))<=0&&(l=0),(l*=e.axisExpandWidth/c)?Wa(l,i,o,"all"):u="none";else{var v=i[1]-i[0];(i=[ID(0,o[1]*s/v-v/2)])[1]=AD(o[1],i[0]+v),i[0]=i[1]-v}return{axisExpandWindow:i,behavior:u}},n}();function Wh(n,t){return AD(ID(n,t[0]),t[1])}function UH(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function $H(n,t){var s,c,r=t.axisExpandWidth,a=t.axisCollapseWidth,o=t.winInnerIndices,l=a,u=!1;return n<o[0]?(s=n*a,c=a):n<=o[1]?(s=t.axisExpandWindow0Pos+n*r-t.axisExpandWindow[0],l=r,u=!0):(s=t.layoutLength-(t.axisCount-1-n)*a,c=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}const XH=ZH;var JH={create:function(n,t){var e=[];return n.eachComponent("parallel",function(r,i){var a=new XH(r,n,t);a.name="parallel_"+i,a.resize(r,t),r.coordinateSystem=a,a.model=r,e.push(a)}),n.eachSeries(function(r){if("parallel"===r.get("coordinateSystem")){var i=r.getReferringComponents("parallel",it).models[0];r.coordinateSystem=i.coordinateSystem}}),e}};const qH=JH;var OD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return E(t,n),t.prototype.getAreaSelectStyle=function(){return Qi([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var r=this.activeIntervals=se(e);if(r)for(var i=r.length-1;i>=0;i--)pn(r[i])},t.prototype.getActiveState=function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===r.length){var i=r[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var a=0,o=r.length;a<o;a++)if(r[a][0]<=e&&e<=r[a][1])return"active";return"inactive"},t}(Ae);rt(OD,Rl);const RD=OD;var Ya=!0,Kl=Math.min,ns=Math.max,jH=Math.pow,ND="globalPan",nW={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},rW={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},kD={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},iW=0,aW=function(n){function t(e){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new ue,r._uid="brushController_"+iW++,D(fW,function(i,a){this._handlers[a]=$(i,this)},r),r}return E(t,n),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var r=this._zr;this._enableGlobalPan||function(n,t,e){Sg(n).globalPan=e}(r,0,this._uid),D(this._handlers,function(i,a){r.on(a,i)}),this._brushType=e.brushType,this._brushOption=de(se(kD),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;(function(n,t,e){var r=Sg(n);r[t]===e&&(r[t]=null)})(e,ND,this._uid),D(this._handlers,function(r,i){e.off(i,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};D(e,function(i){r[i.panelId]=se(i)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=G(e,function(f){return de(se(kD),f,!0)});var i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new kr(i,e,function(f,v){return l(f.__brushOption,v)},l).add(c).update(c).remove(function(f){i[f]!==s&&o.group.remove(i[f])}).execute(),this;function l(f,v){return(null!=f.id?f.id:"\0-brush-index-"+v)+"-"+f.brushType}function c(f,v){var p=e[f];if(null!=v&&i[v]===s)a[f]=i[v];else{var g=a[f]=null!=v?(i[v].__brushOption=p,i[v]):BD(o,ED(o,p));pm(o,g)}}},t.prototype.unmount=function(){return this.enableBrush(!1),mm(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(cn);function ED(n,t){var e=Yh[t.brushType].createCover(n,t);return e.__brushOption=t,FD(e,t),n.group.add(e),e}function BD(n,t){var e=dm(t);return e.endCreating&&(e.endCreating(n,t),FD(t,t.__brushOption)),t}function VD(n,t){var e=t.__brushOption;dm(t).updateCoverShape(n,t,e.range,e)}function FD(n,t){var e=t.z;null==e&&(e=1e4),n.traverse(function(r){r.z=e,r.z2=e})}function pm(n,t){dm(t).updateCommon(n,t),VD(n,t)}function dm(n){return Yh[n.__brushOption.brushType]}function gm(n,t,e){var r=n._panels;if(!r)return Ya;var i,a=n._transform;return D(r,function(o){o.isTargetByCursor(t,e,a)&&(i=o)}),i}function GD(n,t){var e=n._panels;if(!e)return Ya;var r=t.__brushOption.panelId;return null!=r?e[r]:Ya}function mm(n){var t=n._covers,e=t.length;return D(t,function(r){n.group.remove(r)},n),t.length=0,!!e}function Za(n,t){var e=G(n._covers,function(r){var i=r.__brushOption,a=se(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function HD(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function WD(n,t,e,r){var i=new ue;return i.add(new Te({name:"main",style:_m(e),silent:!0,draggable:!0,cursor:"move",drift:pe(UD,n,t,i,["n","s","w","e"]),ondragend:pe(Za,t,{isEnd:!0})})),D(r,function(a){i.add(new Te({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:pe(UD,n,t,i,a),ondragend:pe(Za,t,{isEnd:!0})}))}),i}function YD(n,t,e,r){var i=r.brushStyle.lineWidth||0,a=ns(i,6),o=e[0][0],s=e[1][0],l=o-i/2,u=s-i/2,c=e[0][1],h=e[1][1],f=c-a+i/2,v=h-a+i/2,p=c-o,g=h-s,m=p+i,y=g+i;Gr(n,t,"main",o,s,p,g),r.transformable&&(Gr(n,t,"w",l,u,a,y),Gr(n,t,"e",f,u,a,y),Gr(n,t,"n",l,u,m,a),Gr(n,t,"s",l,v,m,a),Gr(n,t,"nw",l,u,a,a),Gr(n,t,"ne",f,u,a,a),Gr(n,t,"sw",l,v,a,a),Gr(n,t,"se",f,v,a,a))}function ym(n,t){var e=t.__brushOption,r=e.transformable,i=t.childAt(0);i.useStyle(_m(e)),i.attr({silent:!r,cursor:r?"move":"default"}),D([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),s=1===a.length?Sm(n,a[0]):function(n,t){var e=[Sm(n,t[0]),Sm(n,t[1])];return("e"===e[0]||"w"===e[0])&&e.reverse(),e.join("")}(n,a);o&&o.attr({silent:!r,invisible:!r,cursor:r?rW[s]+"-resize":null})})}function Gr(n,t,e,r,i,a,o){var s=t.childOfName(e);s&&s.setShape(function(n){var t=Kl(n[0][0],n[1][0]),e=Kl(n[0][1],n[1][1]);return{x:t,y:e,width:ns(n[0][0],n[1][0])-t,height:ns(n[0][1],n[1][1])-e}}(xm(n,t,[[r,i],[r+a,i+o]])))}function _m(n){return re({strokeNoScale:!0},n.brushStyle)}function ZD(n,t,e,r){var i=[Kl(n,e),Kl(t,r)],a=[ns(n,e),ns(t,r)];return[[i[0],a[0]],[i[1],a[1]]]}function Sm(n,t){var i=Fc({w:"left",e:"right",n:"top",s:"bottom"}[t],function(n){return ya(n.group)}(n));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function UD(n,t,e,r,i,a){var o=e.__brushOption,s=n.toRectRange(o.range),l=$D(t,i,a);D(r,function(u){var c=nW[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=n.fromRectRange(ZD(s[0][0],s[1][0],s[0][1],s[1][1])),pm(t,e),Za(t,{isEnd:!1})}function uW(n,t,e,r){var i=t.__brushOption.range,a=$D(n,e,r);D(i,function(o){o[0]+=a[0],o[1]+=a[1]}),pm(n,t),Za(n,{isEnd:!1})}function $D(n,t,e){var r=n.group,i=r.transformCoordToLocal(t,e),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function xm(n,t,e){var r=GD(n,t);return r&&r!==Ya?r.clipPath(e,n._transform):se(e)}function bm(n){var t=n.event;t.preventDefault&&t.preventDefault()}function wm(n,t,e){return n.childOfName("main").contain(t,e)}function XD(n,t,e,r){var s,i=n._creatingCover,a=n._creatingPanel,o=n._brushOption;if(n._track.push(e.slice()),function(n){var t=n._track;if(!t.length)return!1;var e=t[t.length-1],r=t[0],i=e[0]-r[0],a=e[1]-r[1];return jH(i*i+a*a,.5)>6}(n)||i){if(a&&!i){"single"===o.brushMode&&mm(n);var l=se(o);l.brushType=QD(l.brushType,a),l.panelId=a===Ya?null:a.panelId,i=n._creatingCover=ED(n,l),n._covers.push(i)}if(i){var u=Yh[QD(n._brushType,a)];i.__brushOption.range=u.getCreatingRange(xm(n,i,n._track)),r&&(BD(n,i),u.updateCommon(n,i)),VD(n,i),s={isEnd:r}}}else r&&"single"===o.brushMode&&o.removeOnClick&&gm(n,t,e)&&mm(n)&&(s={isEnd:r,removeOnClick:!0});return s}function QD(n,t){return"auto"===n?t.defaultBrushType:n}var fW={mousedown:function(n){if(this._dragging)JD(this,n);else if(!n.target||!n.target.draggable){bm(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=gm(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var r=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(n,t,e){if(n._brushType&&!function(n,t,e){var r=n._zr;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}(n,t.offsetX,t.offsetY)){var r=n._zr,i=n._covers,a=gm(n,t,e);if(!n._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===Ya||s.panelId===a.panelId)&&Yh[s.brushType].contain(i[o],e[0],e[1]))return}a&&r.setCursorStyle("crosshair")}}(this,n,r),this._dragging){bm(n);var i=XD(this,n,r,!1);i&&Za(this,i)}},mouseup:function(n){JD(this,n)}};function JD(n,t){if(n._dragging){bm(t);var i=n.group.transformCoordToLocal(t.offsetX,t.offsetY),a=XD(n,t,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&Za(n,a)}}var Yh={lineX:qD(0),lineY:qD(1),rect:{createCover:function(n,t){function e(r){return r}return WD({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=HD(n);return ZD(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,r){YD(n,t,e,r)},updateCommon:ym,contain:wm},polygon:{createCover:function(n,t){var e=new ue;return e.add(new Xt({name:"main",style:_m(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new $t({name:"main",draggable:!0,drift:pe(uW,n,t),ondragend:pe(Za,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,r){t.childAt(0).setShape({points:xm(n,t,e)})},updateCommon:ym,contain:wm}};function qD(n){return{createCover:function(t,e){return WD({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=HD(t);return[Kl(e[0][n],e[1][n]),ns(e[0][n],e[1][n])]},updateCoverShape:function(t,e,r,i){var a,o=GD(t,e);if(o!==Ya&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(n);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[r,a];n&&l.reverse(),YD(t,e,l,i)},updateCommon:ym,contain:wm}}const Cm=aW;function jD(n){return n=Tm(n),function(t){return ab(t,n)}}function KD(n,t){return n=Tm(n),function(e){var r=null!=t?t:e,a=r?n.x:n.y;return[a,a+((r?n.width:n.height)||0)]}}function eM(n,t,e){var r=Tm(n);return function(i,a){return r.contain(a[0],a[1])&&!Ah(i,t,e)}}function Tm(n){return me.create(n)}var pW=["axisLine","axisTickLabel","axisName"],dW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e,r){n.prototype.init.apply(this,arguments),(this._brushController=new Cm(r.getZr())).on("brush",$(this._onBrush,this))},t.prototype.render=function(e,r,i,a){if(!function(n,t,e){return e&&"axisAreaSelect"===e.type&&t.findComponents({mainType:"parallelAxis",query:e})[0]===n}(e,r,a)){this.axisModel=e,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ue,this.group.add(this._axisGroup),e.get("show")){var s=function(n,t){return t.getComponent("parallel",n.get("parallelIndex"))}(e,r),l=s.coordinateSystem,u=e.getAreaSelectStyle(),c=u.width,v=V({strokeContainThreshold:c},l.getAxisLayout(e.axis.dim)),p=new Vr(e,v);D(pW,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(v,u,e,s,c,i),sl(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,r,i,a,o,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,.1*Math.abs(u)),h=me.create({x:l[0],y:-o/2,width:u,height:o});h.x-=c,h.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:jD(h),isTargetByCursor:eM(h,s,a),getLinearBrushOtherExtent:KD(h,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(function(n){var t=n.axis;return G(n.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}(i))},t.prototype._onBrush=function(e){var i=this.axisModel,a=i.axis,o=G(e.areas,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(je);const _W=dW;var SW={type:"axisAreaSelect",event:"axisAreaSelected"},bW={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function tM(n){n.registerComponentView(BH),n.registerComponentModel(FH),n.registerCoordinateSystem("parallel",qH),n.registerPreprocessor(LH),n.registerComponentModel(RD),n.registerComponentView(_W),Xo(n,"parallel",RD,bW),function(n){n.registerAction(SW,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),n.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}(n)}var CW=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},TW=function(n){function t(e){return n.call(this,e)||this}return E(t,n),t.prototype.getDefaultShape=function(){return new CW},t.prototype.buildPath=function(e,r){var i=r.extent;e.moveTo(r.x1,r.y1),e.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),"vertical"===r.orient?(e.lineTo(r.x2+i,r.y2),e.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(e.lineTo(r.x2,r.y2+i),e.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),e.closePath()},t.prototype.highlight=function(){Lr(this)},t.prototype.downplay=function(){Or(this)},t}(be),zW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return E(t,n),t.prototype.render=function(e,r,i){var a=this,o=e.getGraph(),s=this.group,l=e.layoutInfo,u=l.width,c=l.height,h=e.getData(),f=e.getData("edge"),v=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,o.eachEdge(function(p){var g=new TW,m=ce(g);m.dataIndex=p.dataIndex,m.seriesIndex=e.seriesIndex,m.dataType="edge";var P,L,O,R,k,N,B,H,y=p.getModel(),_=y.getModel("lineStyle"),S=_.get("curveness"),x=p.node1.getLayout(),b=p.node1.getModel(),w=b.get("localX"),C=b.get("localY"),T=p.node2.getLayout(),z=p.node2.getModel(),M=z.get("localX"),A=z.get("localY"),I=p.getLayout();g.shape.extent=Math.max(1,I.dy),g.shape.orient=v,"vertical"===v?(k=P=(null!=w?w*u:x.x)+I.sy,N=(L=(null!=C?C*c:x.y)+x.dy)*(1-S)+(R=null!=A?A*c:T.y)*S,B=O=(null!=M?M*u:T.x)+I.ty,H=L*S+R*(1-S)):(k=(P=(null!=w?w*u:x.x)+x.dx)*(1-S)+(O=null!=M?M*u:T.x)*S,N=L=(null!=C?C*c:x.y)+I.sy,B=P*S+O*(1-S),H=R=(null!=A?A*c:T.y)+I.ty),g.setShape({x1:P,y1:L,x2:O,y2:R,cpx1:k,cpy1:N,cpx2:B,cpy2:H}),g.useStyle(_.getItemStyle()),nM(g.style,v,p);var W=""+y.get("value"),Z=ht(y,"edgeLabel");bt(g,Z,{labelFetcher:{getFormattedLabel:function(he,Ee,et,ye,ae,xe){return e.getFormattedLabel(he,Ee,"edge",ye,qn(ae,Z.normal&&Z.normal.get("formatter"),W),xe)}},labelDataIndex:p.dataIndex,defaultText:W}),g.setTextConfig({position:"inside"});var K=y.getModel("emphasis");xt(g,y,"lineStyle",function(he){var Ee=he.getItemStyle();return nM(Ee,v,p),Ee}),s.add(g),f.setItemGraphicEl(p.dataIndex,g);var te=K.get("focus");Je(g,"adjacency"===te?p.getAdjacentDataIndices():"trajectory"===te?p.getTrajectoryDataIndices():te,K.get("blurScope"),K.get("disabled"))}),o.eachNode(function(p){var g=p.getLayout(),m=p.getModel(),y=m.get("localX"),_=m.get("localY"),S=m.getModel("emphasis"),x=m.get(["itemStyle","borderRadius"])||0,b=new Te({shape:{x:null!=y?y*u:g.x,y:null!=_?_*c:g.y,width:g.dx,height:g.dy,r:x},style:m.getModel("itemStyle").getItemStyle(),z2:10});bt(b,ht(m),{labelFetcher:{getFormattedLabel:function(C,T){return e.getFormattedLabel(C,T,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),b.disableLabelAnimation=!0,b.setStyle("fill",p.getVisual("color")),b.setStyle("decal",p.getVisual("style").decal),xt(b,m),s.add(b),h.setItemGraphicEl(p.dataIndex,b),ce(b).dataType="node";var w=S.get("focus");Je(b,"adjacency"===w?p.getAdjacentDataIndices():"trajectory"===w?p.getTrajectoryDataIndices():w,S.get("blurScope"),S.get("disabled"))}),h.eachItemGraphicEl(function(p,g){h.getItemModel(g).get("draggable")&&(p.drift=function(y,_){a._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=_,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:h.getRawIndex(g),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){a._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath(function(n,t,e){var r=new Te({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Ue(r,{shape:{width:n.width+20}},t,function(){s.removeClipPath()}),r}(s.getBoundingRect(),e)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(He);function nM(n,t,e){switch(n.fill){case"source":n.fill=e.node1.getVisual("color"),n.decal=e.node1.getVisual("style").decal;break;case"target":n.fill=e.node2.getVisual("color"),n.decal=e.node2.getVisual("style").decal;break;case"gradient":var r=e.node1.getVisual("color"),i=e.node2.getVisual("color");U(r)&&U(i)&&(n.fill=new ol(0,0,+("horizontal"===t),+("vertical"===t),[{color:r,offset:0},{color:i,offset:1}]))}}const MW=zW;var AW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.getInitialData=function(e,r){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)null!=o[l].depth&&o[l].depth>=0&&(s[o[l].depth]=new Ge(o[l],this,r));return TD(a,i,this,!0,function(h,f){h.wrapMethod("getItemModel",function(v,p){var g=v.parentModel,m=g.getData().getItemLayout(p);if(m){var _=g.levelModels[m.depth];_&&(v.parentModel=_)}return v}),f.wrapMethod("getItemModel",function(v,p){var g=v.parentModel,y=g.getGraph().getEdgeByIndex(p).node1.getLayout();if(y){var S=g.levelModels[y.depth];S&&(v.parentModel=S)}return v})}).data},t.prototype.setNodePosition=function(e,r){var a=(this.option.data||this.option.nodes)[e];a.localX=r[0],a.localY=r[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,r,i){function a(v){return isNaN(v)||null==v}if("edge"===i){var o=this.getDataParams(e,i),s=o.data,l=o.value;return ft("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:a(l)})}var h=this.getGraph().getNodeByIndex(e).getLayout().value,f=this.getDataParams(e,i).data.name;return ft("nameValue",{name:null!=f?f+"":null,value:h,noValue:a(h)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,r){var i=n.prototype.getDataParams.call(this,e,r);if(null==i.value&&"node"===r){var o=this.getGraph().getNodeByIndex(e).getLayout().value;i.value=o}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}($e);const IW=AW;function PW(n,t){n.eachSeriesByType("sankey",function(e){var r=e.get("nodeWidth"),i=e.get("nodeGap"),a=function(n,t){return lt(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=a;var o=a.width,s=a.height,l=e.getGraph(),u=l.nodes,c=l.edges;!function(n){D(n,function(t){var e=bi(t.outEdges,Zh),r=bi(t.inEdges,Zh),i=t.getValue()||0,a=Math.max(e,r,i);t.setLayout({value:a},!0)})}(u),function(n,t,e,r,i,a,o,s,l){(function(n,t,e,r,i,a,o){for(var s=[],l=[],u=[],c=[],h=0,f=0;f<t.length;f++)s[f]=1;for(f=0;f<n.length;f++)l[f]=n[f].inEdges.length,0===l[f]&&u.push(n[f]);for(var v=-1;u.length;){for(var p=0;p<u.length;p++){var g=u[p],m=g.hostGraph.data.getRawDataItem(g.dataIndex),y=null!=m.depth&&m.depth>=0;y&&m.depth>v&&(v=m.depth),g.setLayout({depth:y?m.depth:h},!0),g.setLayout("vertical"===a?{dy:e}:{dx:e},!0);for(var _=0;_<g.outEdges.length;_++){var S=g.outEdges[_];s[t.indexOf(S)]=0;var b=S.node2;0==--l[n.indexOf(b)]&&c.indexOf(b)<0&&c.push(b)}}++h,u=c,c=[]}for(f=0;f<s.length;f++)if(1===s[f])throw new Error("Sankey is a DAG, the original data has cycle!");var C=v>h-1?v:h-1;o&&"left"!==o&&function(n,t,e,r){if("right"===t){for(var i=[],a=n,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++o}D(n,function(h){rM(h)||h.setLayout({depth:Math.max(0,r-h.getLayout().skNodeHeight)},!0)})}else"justify"===t&&function(n,t){D(n,function(e){!rM(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}(n,r)}(n,o,0,C),function(n,t,e){D(n,function(r){var i=r.getLayout().depth*t;r.setLayout("vertical"===e?{y:i}:{x:i},!0)})}(n,"vertical"===a?(i-e)/C:(r-e)/C,a)})(n,t,e,i,a,s,l),function(n,t,e,r,i,a,o){var s=function(n,t){var e=[],r="vertical"===t?"y":"x",i=kv(n,function(a){return a.getLayout()[r]});return i.keys.sort(function(a,o){return a-o}),D(i.keys,function(a){e.push(i.buckets.get(a))}),e}(n,o);(function(n,t,e,r,i,a){var o=1/0;D(n,function(s){var l=s.length,u=0;D(s,function(h){u+=h.getLayout().value});var c="vertical"===a?(r-(l-1)*i)/u:(e-(l-1)*i)/u;c<o&&(o=c)}),D(n,function(s){D(s,function(l,u){var c=l.getLayout().value*o;"vertical"===a?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),D(t,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})})(s,t,e,r,i,o),zm(s,i,e,r,o);for(var l=1;a>0;a--)HW(s,l*=.99,o),zm(s,i,e,r,o),$W(s,l,o),zm(s,i,e,r,o)}(n,t,a,i,r,o,s),function(n,t){var e="vertical"===t?"x":"y";D(n,function(r){r.outEdges.sort(function(i,a){return i.node2.getLayout()[e]-a.node2.getLayout()[e]}),r.inEdges.sort(function(i,a){return i.node1.getLayout()[e]-a.node1.getLayout()[e]})}),D(n,function(r){var i=0,a=0;D(r.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),D(r.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}(n,s)}(u,c,r,i,o,s,0!==Pe(u,function(g){return 0===g.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function rM(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=t.depth&&t.depth>=0}function zm(n,t,e,r,i){var a="vertical"===i?"x":"y";D(n,function(o){o.sort(function(g,m){return g.getLayout()[a]-m.getLayout()[a]});for(var s,l,u,c=0,h=o.length,f="vertical"===i?"dx":"dy",v=0;v<h;v++)(u=c-(l=o[v]).getLayout()[a])>0&&(s=l.getLayout()[a]+u,l.setLayout("vertical"===i?{x:s}:{y:s},!0)),c=l.getLayout()[a]+l.getLayout()[f]+t;if((u=c-t-("vertical"===i?r:e))>0)for(s=l.getLayout()[a]-u,l.setLayout("vertical"===i?{x:s}:{y:s},!0),c=s,v=h-2;v>=0;--v)(u=(l=o[v]).getLayout()[a]+l.getLayout()[f]+t-c)>0&&(s=l.getLayout()[a]-u,l.setLayout("vertical"===i?{x:s}:{y:s},!0)),c=l.getLayout()[a]})}function HW(n,t,e){D(n.slice().reverse(),function(r){D(r,function(i){if(i.outEdges.length){var a=bi(i.outEdges,WW,e)/bi(i.outEdges,Zh);if(isNaN(a)){var o=i.outEdges.length;a=o?bi(i.outEdges,YW,e)/o:0}if("vertical"===e){var s=i.getLayout().x+(a-xi(i,e))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-xi(i,e))*t;i.setLayout({y:l},!0)}}})})}function WW(n,t){return xi(n.node2,t)*n.getValue()}function YW(n,t){return xi(n.node2,t)}function ZW(n,t){return xi(n.node1,t)*n.getValue()}function UW(n,t){return xi(n.node1,t)}function xi(n,t){return"vertical"===t?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function Zh(n){return n.getValue()}function bi(n,t,e){for(var r=0,i=n.length,a=-1;++a<i;){var o=+t(n[a],e);isNaN(o)||(r+=o)}return r}function $W(n,t,e){D(n,function(r){D(r,function(i){if(i.inEdges.length){var a=bi(i.inEdges,ZW,e)/bi(i.inEdges,Zh);if(isNaN(a)){var o=i.inEdges.length;a=o?bi(i.inEdges,UW,e)/o:0}if("vertical"===e){var s=i.getLayout().x+(a-xi(i,e))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-xi(i,e))*t;i.setLayout({y:l},!0)}}})})}function QW(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph(),r=e.nodes,i=e.edges;if(r.length){var a=1/0,o=-1/0;D(r,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),D(r,function(s){var u=new Ct({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}).mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);null!=c?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}i.length&&D(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}var iM=function(){function n(){}return n.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&null!=e.get(t)},n.prototype.getInitialData=function(t,e){var r,l,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type");"category"===o?(t.layout="horizontal",r=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):"category"===s?(t.layout="vertical",r=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c="horizontal"===t.layout?0:1,h=this._baseAxisDim=u[c],f=u[1-c],v=[i,a],p=v[c].get("type"),g=v[1-c].get("type"),m=t.data;if(m&&l){var y=[];D(m,function(x,b){var w;F(x)?(w=x.slice(),x.unshift(b)):F(x.value)?((w=V({},x)).value=w.value.slice(),x.value.unshift(b)):w=x,y.push(w)}),t.data=y}var _=this.defaultValueDimensions,S=[{name:h,type:uh(p),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:uh(g),dimsDef:_.slice()}];return $o(this,{coordDimensions:S,dimensionsCount:_.length+1,encodeDefaulter:pe(T1,S,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),aM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return E(t,n),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}($e);rt(aM,iM,!0);const qW=aM;var jW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){var a=e.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l="horizontal"===e.get("layout")?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var h=oM(a.getItemLayout(u),a,u,l,!0);a.setItemGraphicEl(u,h),o.add(h)}}).update(function(u,c){var h=s.getItemGraphicEl(c);if(a.hasValue(u)){var f=a.getItemLayout(u);h?(Nn(h),sM(f,h,a,u)):h=oM(f,a,u,l),o.add(h),a.setItemGraphicEl(u,h)}else o.remove(h)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=a},t.prototype.remove=function(e){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&r.remove(a)})},t.type="boxplot",t}(He),KW=function(){},eY=function(n){function t(e){var r=n.call(this,e)||this;return r.type="boxplotBoxPath",r}return E(t,n),t.prototype.getDefaultShape=function(){return new KW},t.prototype.buildPath=function(e,r){var i=r.points,a=0;for(e.moveTo(i[a][0],i[a][1]),a++;a<4;a++)e.lineTo(i[a][0],i[a][1]);for(e.closePath();a<i.length;a++)e.moveTo(i[a][0],i[a][1]),a++,e.lineTo(i[a][0],i[a][1])},t}(be);function oM(n,t,e,r,i){var a=n.ends,o=new eY({shape:{points:i?tY(a,r,n):a}});return sM(n,o,t,e,i),o}function sM(n,t,e,r,i){(0,br[i?"initProps":"updateProps"])(t,{shape:{points:n.ends}},e.hostModel,r),t.useStyle(e.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=e.getItemModel(r),l=s.getModel("emphasis");xt(t,s),Je(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function tY(n,t,e){return G(n,function(r){return(r=r.slice())[t]=e.initBaseline,r})}const nY=jW;var eu=D;function rY(n){var t=function(n){var t=[],e=[];return n.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),a=_e(e,i);a<0&&(e[a=e.length]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(r)}),t}(n);eu(t,function(e){var r=e.seriesModels;!r.length||(function(n){var s,t=n.axis,e=n.seriesModels,r=e.length,i=n.boxWidthList=[],a=n.boxOffsetList=[],o=[];if("category"===t.type)s=t.getBandWidth();else{var l=0;eu(e,function(p){l=Math.max(l,p.getData().count())});var u=t.getExtent();s=Math.abs(u[1]-u[0])/l}eu(e,function(p){var g=p.get("boxWidth");F(g)||(g=[g,g]),o.push([Y(g[0],s)||0,Y(g[1],s)||0])});var c=.8*s-2,h=c/r*.3,f=(c-h*(r-1))/r,v=f/2-c/2;eu(e,function(p,g){a.push(v),v+=h+f,i.push(Math.min(Math.max(f,o[g][0]),o[g][1]))})}(e),eu(r,function(i,a){!function(n,t,e){var r=n.coordinateSystem,i=n.getData(),a=e/2,o="horizontal"===n.get("layout")?0:1,s=1-o,l=["x","y"],u=i.mapDimension(l[o]),c=i.mapDimensionsAll(l[s]);if(!(null==u||c.length<5))for(var h=0;h<i.count();h++){var f=i.get(u,h),v=S(f,c[2],h),p=S(f,c[0],h),g=S(f,c[1],h),m=S(f,c[3],h),y=S(f,c[4],h),_=[];x(_,g,!1),x(_,m,!0),_.push(p,g,y,m),b(_,p),b(_,y),b(_,v),i.setItemLayout(h,{initBaseline:v[s],ends:_})}function S(w,C,T){var A,z=i.get(C,T),M=[];return M[o]=w,M[s]=z,isNaN(w)||isNaN(z)?A=[NaN,NaN]:(A=r.dataToPoint(M))[o]+=t,A}function x(w,C,T){var z=C.slice(),M=C.slice();z[o]+=a,M[o]-=a,T?w.push(z,M):w.push(M,z)}function b(w,C){var T=C.slice(),z=C.slice();T[o]-=a,z[o]+=a,w.push(T,z)}}(i,e.boxOffsetList[a],e.boxWidthList[a])}))})}var lY={type:"echarts:boxplot",transform:function(t){var e=t.upstream;e.sourceFormat!==Mt&&Le("");var i=function(n,t){for(var e=[],r=[],i=(t=t||{}).boundIQR,a="none"===i||0===i,o=0;o<n.length;o++){var s=pn(n[o].slice()),l=Ov(s,.25),u=Ov(s,.5),c=Ov(s,.75),h=s[0],f=s[s.length-1],v=(null==i?1.5:i)*(c-l),p=a?h:Math.max(h,l-v),g=a?f:Math.min(f,c+v),m=t.itemNameFormatter,y=ee(m)?m({value:o}):U(m)?m.replace("{value}",o+""):o+"";e.push([y,p,l,u,c,g]);for(var _=0;_<s.length;_++){var S=s[_];(S<p||S>g)&&r.push([y,S])}}return{boxData:e,outliers:r}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},cY=["itemStyle","borderColor"],hY=["itemStyle","borderColor0"],fY=["itemStyle","borderColorDoji"],vY=["itemStyle","color"],pY=["itemStyle","color0"];function Dm(n,t){return t.get(n>0?vY:pY)}function Mm(n,t){return t.get(0===n?fY:n>0?cY:hY)}var dY={seriesType:"candlestick",plan:Oo(),performRawSeries:!0,reset:function(n,t){if(!t.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(r,i){for(var a;null!=(a=r.next());){var o=i.getItemModel(a),s=i.getItemLayout(a).sign,l=o.getItemStyle();l.fill=Dm(s,o),l.stroke=Mm(s,o)||l.fill,V(i.ensureUniqueItemVisual(a,"style"),l)}}}}};const gY=dY;var mY=["color","borderColor"],yY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,r,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,r,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,r):this._incrementalRenderNormal(e,r)},t.prototype.eachRendered=function(e){fi(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(null==this._isLargeDraw||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e){var r=e.getData(),i=this._data,a=this.group,o=r.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),r.diff(i).add(function(c){if(r.hasValue(c)){var h=r.getItemLayout(c);if(s&&lM(u,h))return;var f=Am(h,0,!0);Ue(f,{shape:{points:h.ends}},e,c),Im(f,r,c,o),a.add(f),r.setItemGraphicEl(c,f)}}).update(function(c,h){var f=i.getItemGraphicEl(h);if(r.hasValue(c)){var v=r.getItemLayout(c);s&&lM(u,v)?a.remove(f):(f?(Ie(f,{shape:{points:v.ends}},e,c),Nn(f)):f=Am(v),Im(f,r,c,o),a.add(f),r.setItemGraphicEl(c,f))}else a.remove(f)}).remove(function(c){var h=i.getItemGraphicEl(c);h&&a.remove(h)}).execute(),this._data=r},t.prototype._renderLarge=function(e){this._clear(),uM(e,this.group);var r=e.get("clip",!0)?Il(e.coordinateSystem,!1,e):null;r?this.group.setClipPath(r):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,r){for(var o,i=r.getData(),a=i.getLayout("isSimpleBox");null!=(o=e.next());){var l=Am(i.getItemLayout(o));Im(l,i,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(e,r){uM(r,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(He),_Y=function(){},SY=function(n){function t(e){var r=n.call(this,e)||this;return r.type="normalCandlestickBox",r}return E(t,n),t.prototype.getDefaultShape=function(){return new _Y},t.prototype.buildPath=function(e,r){var i=r.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t}(be);function Am(n,t,e){var r=n.ends;return new SY({shape:{points:e?xY(r,n):r},z2:100})}function lM(n,t){for(var e=!0,r=0;r<t.ends.length;r++)if(n.contain(t.ends[r][0],t.ends[r][1])){e=!1;break}return e}function Im(n,t,e,r){var i=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,xt(n,i);var a=t.getItemLayout(e).sign;D(n.states,function(s,l){var u=i.getModel(l),c=Dm(a,u),h=Mm(a,u)||c,f=s.style||(s.style={});c&&(f.fill=c),h&&(f.stroke=h)});var o=i.getModel("emphasis");Je(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function xY(n,t){return G(n,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var bY=function(){},Pm=function(n){function t(e){var r=n.call(this,e)||this;return r.type="largeCandlestickBox",r}return E(t,n),t.prototype.getDefaultShape=function(){return new bY},t.prototype.buildPath=function(e,r){for(var i=r.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];e.moveTo(o,i[a++]),e.lineTo(o,i[a++])}else a+=3},t}(be);function uM(n,t,e,r){var i=n.getData(),a=i.getLayout("largePoints"),o=new Pm({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new Pm({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new Pm({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),Lm(1,o,n),Lm(-1,s,n),Lm(0,l,n),r&&(o.incremental=!0,s.incremental=!0),e&&e.push(o,s)}function Lm(n,t,e,r){var i=Mm(n,e)||Dm(n,e),a=e.getModel("itemStyle").getItemStyle(mY);t.useStyle(a),t.style.fill=null,t.style.stroke=i}const wY=yY;var cM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return E(t,n),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,r,i){var a=r.getItemLayout(e);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}($e);rt(cM,iM,!0);const CY=cM;function TY(n){!n||!F(n.series)||D(n.series,function(t){oe(t)&&"k"===t.type&&(t.type="candlestick")})}var zY={seriesType:"candlestick",plan:Oo(),reset:function(n){var t=n.coordinateSystem,e=n.getData(),r=function(n,t){var r,e=n.getBaseAxis(),i="category"===e.type?e.getBandWidth():(r=e.getExtent(),Math.abs(r[1]-r[0])/t.count()),a=Y(ve(n.get("barMaxWidth"),i),i),o=Y(ve(n.get("barMinWidth"),1),i),s=n.get("barWidth");return null!=s?Y(s,i):Math.max(Math.min(i/2,a),o)}(n,e),o=["x","y"],s=e.getDimensionIndex(e.mapDimension(o[0])),l=G(e.mapDimensionsAll(o[1]),e.getDimensionIndex,e),u=l[0],c=l[1],h=l[2],f=l[3];if(e.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(s<0||l.length<4))return{progress:n.pipelineContext.large?function(g,m){for(var S,w,y=gr(4*g.count),_=0,x=[],b=[],C=m.getStore(),T=!!n.get(["itemStyle","borderColorDoji"]);null!=(w=g.next());){var z=C.get(s,w),M=C.get(u,w),A=C.get(c,w),I=C.get(h,w),P=C.get(f,w);isNaN(z)||isNaN(I)||isNaN(P)?(y[_++]=NaN,_+=3):(y[_++]=hM(C,w,M,A,c,T),x[0]=z,x[1]=I,S=t.dataToPoint(x,null,b),y[_++]=S?S[0]:NaN,y[_++]=S?S[1]:NaN,x[1]=P,S=t.dataToPoint(x,null,b),y[_++]=S?S[1]:NaN)}m.setLayout("largePoints",y)}:function(g,m){for(var y,_=m.getStore();null!=(y=g.next());){var S=_.get(s,y),x=_.get(u,y),b=_.get(c,y),w=_.get(h,y),C=_.get(f,y),T=Math.min(x,b),z=Math.max(x,b),M=k(T,S),A=k(z,S),I=k(w,S),P=k(C,S),L=[];N(L,A,0),N(L,M,1),L.push(H(P),H(A),H(I),H(M));var R=!!m.getItemModel(y).get(["itemStyle","borderColorDoji"]);m.setItemLayout(y,{sign:hM(_,y,x,b,c,R),initBaseline:x>b?A[1]:M[1],ends:L,brushRect:(W=w,Z=C,K=S,te=void 0,he=void 0,te=k(W,K),he=k(Z,K),te[0]-=r/2,he[0]-=r/2,{x:te[0],y:te[1],width:r,height:he[1]-te[1]})})}var W,Z,K,te,he;function k(W,Z){var K=[];return K[0]=Z,K[1]=W,isNaN(Z)||isNaN(W)?[NaN,NaN]:t.dataToPoint(K)}function N(W,Z,K){var te=Z.slice(),he=Z.slice();te[0]=Vc(te[0]+r/2,1,!1),he[0]=Vc(he[0]-r/2,1,!0),K?W.push(te,he):W.push(he,te)}function H(W){return W[0]=Vc(W[0],1),W}}}}};function hM(n,t,e,r,i,a){return e>r?-1:e<r?1:a?0:t>0?n.get(i,t-1)<=r?1:-1:1}const MY=zY;function fM(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(r){r.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var IY=function(n){function t(e,r){var i=n.call(this)||this,a=new Ml(e,r),o=new ue;return i.add(a),i.add(o),i.updateData(e,r),i}return E(t,n),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var r=e.symbolType,i=e.color,a=e.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=ot(r,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),o.add(l)}fM(o,e)},t.prototype.updateEffectAnimation=function(e){for(var r=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(r[s]!==e[s])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}fM(i,e)},t.prototype.highlight=function(){Lr(this)},t.prototype.downplay=function(){Or(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,r){var i=this,a=e.hostModel;this.childAt(0).updateData(e,r);var o=this.childAt(1),s=e.getItemModel(r),l=e.getItemVisual(r,"symbol"),u=Vo(e.getItemVisual(r,"symbolSize")),c=e.getItemVisual(r,"style"),h=c&&c.fill,f=s.getModel("emphasis");o.setScale(u),o.traverse(function(m){m.setStyle("fill",h)});var v=xa(e.getItemVisual(r,"symbolOffset"),u);v&&(o.x=v[0],o.y=v[1]);var p=e.getItemVisual(r,"symbolRotate");o.rotation=(p||0)*Math.PI/180||0;var g={};g.showEffectOn=a.get("showEffectOn"),g.rippleScale=s.get(["rippleEffect","scale"]),g.brushType=s.get(["rippleEffect","brushType"]),g.period=1e3*s.get(["rippleEffect","period"]),g.effectOffset=r/e.count(),g.z=a.getShallow("z")||0,g.zlevel=a.getShallow("zlevel")||0,g.symbolType=l,g.color=h,g.rippleEffectColor=s.get(["rippleEffect","color"]),g.rippleNumber=s.get(["rippleEffect","number"]),"render"===g.showEffectOn?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){"emphasis"===m?"render"!==g.showEffectOn&&i.startEffectAnimation(g):"normal"===m&&"render"!==g.showEffectOn&&i.stopEffectAnimation()}),this._effectCfg=g,Je(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(ue);const PY=IY;var LY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(){this._symbolDraw=new Al(PY)},t.prototype.render=function(e,r,i){var a=e.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,i=r&&r.getArea&&r.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,r,i){var a=e.getData();this.group.dirty();var o=Pl("").reset(e,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var r=e.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=function(n){var t=[1,0,0,1,0,0];return Uf(t,n),t}(r.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(He);const OY=LY;var RY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return E(t,n),t.prototype.getInitialData=function(e,r){return Er(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,r,i){return i.point(r.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}($e);const NY=RY;var EY=function(n){function t(e,r,i){var a=n.call(this)||this;return a.add(a.createLine(e,r,i)),a._updateEffectSymbol(e,r),a}return E(t,n),t.prototype.createLine=function(e,r,i){return new nm(e,r,i)},t.prototype._updateEffectSymbol=function(e,r){var a=e.getItemModel(r).getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");F(o)||(o=[o,o]);var l=e.getItemVisual(r,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),(c=ot(s,-.5,-.5,1,1,u)).z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(e,a,r))},t.prototype._updateEffectAnimation=function(e,r,i){var a=this.childAt(1);if(a){var o=e.getItemLayout(i),s=1e3*r.get("period"),l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),h=gt(r.get("delay"),function(v){return v/e.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),c>0&&(s=this._getLineLength(a)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var f=void 0;f=ee(h)?h(i):h,a.__t>0&&(f=-s*a.__t),this._animateSymbol(a,s,f,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(e,r,i,a,o){if(r>0){e.__t=0;var s=this,l=e.animate("",a).when(o?2*r:r,{__t:o?2:1}).delay(i).during(function(){s._updateSymbolPosition(e)});a||l.done(function(){s.remove(e)}),l.start()}},t.prototype._getLineLength=function(e){return $r(e.__p1,e.__cp1)+$r(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,r){e.__p1=r[0],e.__p2=r[1],e.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},t.prototype.updateData=function(e,r,i){this.childAt(0).updateData(e,r,i),this._updateEffectSymbol(e,r)},t.prototype._updateSymbolPosition=function(e){var r=e.__p1,i=e.__p2,a=e.__cp1,o=e.__t<1?e.__t:2-e.__t,s=[e.x,e.y],l=s.slice(),u=mt,c=Kf;s[0]=u(r[0],a[0],i[0],o),s[1]=u(r[1],a[1],i[1],o);var h=e.__t<1?c(r[0],a[0],i[0],o):c(i[0],a[0],r[0],1-o),f=e.__t<1?c(r[1],a[1],i[1],o):c(i[1],a[1],r[1],1-o);e.rotation=-Math.atan2(f,h)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*$r(l,s),1===o&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.scaleY=1===e.__lastT?2*$r(r,s):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,r){this.childAt(0).updateLayout(e,r);var i=e.getItemModel(r).getModel("effect");this._updateEffectAnimation(e,i,r)},t}(ue);const vM=EY;var BY=function(n){function t(e,r,i){var a=n.call(this)||this;return a._createPolyline(e,r,i),a}return E(t,n),t.prototype._createPolyline=function(e,r,i){var a=e.getItemLayout(r),o=new Xt({shape:{points:a}});this.add(o),this._updateCommonStl(e,r,i)},t.prototype.updateData=function(e,r,i){var a=e.hostModel;Ie(this.childAt(0),{shape:{points:e.getItemLayout(r)}},a,r),this._updateCommonStl(e,r,i)},t.prototype._updateCommonStl=function(e,r,i){var a=this.childAt(0),o=e.getItemModel(r),s=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var h=o.getModel("emphasis");s=h.getModel("lineStyle").getLineStyle(),c=h.get("disabled"),l=h.get("focus"),u=h.get("blurScope")}a.useStyle(e.getItemVisual(r,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,Je(this,l,u,c)},t.prototype.updateLayout=function(e,r){this.childAt(0).setShape("points",e.getItemLayout(r))},t}(ue);const pM=BY;var VY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return E(t,n),t.prototype.createLine=function(e,r,i){return new pM(e,r,i)},t.prototype._updateAnimationPoints=function(e,r){this._points=r;for(var i=[0],a=0,o=1;o<r.length;o++)a+=$r(r[o-1],r[o]),i.push(a);if(0!==a){for(o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var r=e.__t<1?e.__t:2-e.__t,i=this._points,a=this._offsets,o=i.length;if(a){var l,s=this._lastFrame;if(r<this._lastFramePercent){for(l=Math.min(s+1,o-1);l>=0&&!(a[l]<=r);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>r);l++);l=Math.min(l-1,o-2)}var c=(r-a[l])/(a[l+1]-a[l]),h=i[l],f=i[l+1];e.x=h[0]*(1-c)+c*f[0],e.y=h[1]*(1-c)+c*f[1],e.rotation=-Math.atan2(e.__t<1?f[1]-h[1]:h[1]-f[1],e.__t<1?f[0]-h[0]:h[0]-f[0])-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,e.ignore=!1}},t}(vM);const FY=VY;var GY=function(){this.polyline=!1,this.curveness=0,this.segs=[]},HY=function(n){function t(e){var r=n.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return E(t,n),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new GY},t.prototype.buildPath=function(e,r){var o,i=r.segs,a=r.curveness;if(r.polyline)for(o=this._off;o<i.length;){var s=i[o++];if(s>0){e.moveTo(i[o++],i[o++]);for(var l=1;l<s;l++)e.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var u=i[o++],c=i[o++],h=i[o++],f=i[o++];e.moveTo(u,c),a>0?e.quadraticCurveTo((u+h)/2-(c-f)*a,(c+f)/2-(h-u)*a,h,f):e.lineTo(h,f)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,r){var i=this.shape,a=i.segs,o=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var h=a[u++],f=a[u++],v=1;v<c;v++)if(ri(h,f,p=a[u++],g=a[u++],s,e,r))return l;l++}else for(l=0,u=0;u<a.length;){h=a[u++],f=a[u++];var p=a[u++],g=a[u++];if(o>0){if(sS(h,f,(h+p)/2-(f-g)*o,(f+g)/2-(p-h)*o,p,g,s,e,r))return l}else if(ri(h,f,p,g,s,e,r))return l;l++}return-1},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r);return this.getBoundingRect().contain(e=i[0],r=i[1])?(this.hoverDataIdx=this.findDataIndex(e,r))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var i=this.shape.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],h=i[u++];a=Math.min(c,a),s=Math.max(c,s),o=Math.min(h,o),l=Math.max(h,l)}e=this._rect=new me(a,o,s,l)}return e},t}(be),WY=function(){function n(){this.group=new ue}return n.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(t,e){var r=this._newAdded[0],i=e.getLayout("linesPoints"),a=r&&r.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+i.length);s.set(a),s.set(i,o),r.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,e),l.__startIndex=t.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new HY({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},n.prototype._setCommon=function(t,e,r){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var o=ce(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",function(s){o.dataIndex=null;var l=t.hoverDataIdx;l>0&&(o.dataIndex=l+t.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const YY=WY;var ZY={seriesType:"lines",plan:Oo(),reset:function(n){var t=n.coordinateSystem;if(t){var e=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(i,a){var o=[];if(r){var s=void 0,l=i.end-i.start;if(e){for(var u=0,c=i.start;c<i.end;c++)u+=n.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,f=[];for(c=i.start;c<i.end;c++){var v=n.getLineCoords(c,o);e&&(s[h++]=v);for(var p=0;p<v;p++)f=t.dataToPoint(o[p],!1,f),s[h++]=f[0],s[h++]=f[1]}a.setLayout("linesPoints",s)}else for(c=i.start;c<i.end;c++){var g=a.getItemModel(c),m=(v=n.getLineCoords(c,o),[]);if(e)for(var y=0;y<v;y++)m.push(t.dataToPoint(o[y]));else{m[0]=t.dataToPoint(o[0]),m[1]=t.dataToPoint(o[1]);var _=g.get(["lineStyle","curveness"]);+_&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*_,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*_])}a.setItemLayout(c,m)}}}}}};const dM=ZY;var UY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){var a=e.getData(),o=this._updateLineDraw(a,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=i.getZr(),c="svg"===u.painter.getType();c||u.painter.getLayer(s).clear(!0),null!=this._lastZlevel&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var h=e.get("clip",!0)&&Il(e.coordinateSystem,!1,e);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,i){var a=e.getData();this._updateLineDraw(a,e).incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,r,i){this._lineDraw.incrementalUpdate(e,r.getData()),this._finished=e.end===r.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,r,i){var a=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=dM.reset(e,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,r){var i=this._lineDraw,a=this._showEffect(r),o=!!r.get("polyline"),l=r.pipelineContext.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new YY:new im(o?a?FY:pM:a?vM:nm),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var r=e.getZr();"svg"!==r.painter.getType()&&null!=this._lastZlevel&&r.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.type="lines",t}(He);const $Y=UY;var XY="undefined"==typeof Uint32Array?Array:Uint32Array,QY="undefined"==typeof Float64Array?Array:Float64Array;function gM(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=G(t,function(e){var i={coords:[e[0].coord,e[1].coord]};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),If([i,e[0],e[1]])}))}var JY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return E(t,n),t.prototype.init=function(e){e.data=e.data||[],gM(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(gM(e),e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var r=this._processFlatCoordsArray(e.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=gs(this._flatCoords,r.flatCoords),this._flatCoordsOffset=gs(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),e.data=new Float32Array(r.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var r=this.getData().getItemModel(e);return r.option instanceof Array?r.option:r.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*e],a=this._flatCoordsOffset[2*e+1],o=0;o<a;o++)r[o]=r[o]||[],r[o][0]=this._flatCoords[i+2*o],r[o][1]=this._flatCoords[i+2*o+1];return a}var s=this._getCoordsFromItemModel(e);for(o=0;o<s.length;o++)r[o]=r[o]||[],r[o][0]=s[o][0],r[o][1]=s[o][1];return s.length},t.prototype._processFlatCoordsArray=function(e){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),De(e[0])){for(var i=e.length,a=new XY(i),o=new QY(i),s=0,l=0,u=0,c=0;c<i;){u++;var h=e[c++];a[l++]=s+r,a[l++]=h;for(var f=0;f<h;f++){var v=e[c++],p=e[c++];o[s++]=v,o[s++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,r){var a=new Ft(["value"],this);return a.hasItemOption=!1,a.initData(e.data,[],function(o,s,l,u){if(o instanceof Array)return NaN;a.hasItemOption=!0;var c=o.value;return null!=c?c instanceof Array?c[u]:c:void 0}),a},t.prototype.formatTooltip=function(e,r,i){var o=this.getData().getItemModel(e),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return null!=l&&c.push(l),null!=u&&c.push(u),ft("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),r=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&r>0?r+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}($e);const qY=JY;function Uh(n){return n instanceof Array||(n=[n,n]),n}var jY={seriesType:"lines",reset:function(n){var t=Uh(n.get("symbol")),e=Uh(n.get("symbolSize")),r=n.getData();return r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",e&&e[0]),r.setVisual("toSymbolSize",e&&e[1]),{dataEach:r.hasItemOption?function(a,o){var s=a.getItemModel(o),l=Uh(s.getShallow("symbol",!0)),u=Uh(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),u[0]&&a.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(o,"toSymbolSize",u[1])}:null}}};const KY=jY;var nZ=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=In.createCanvas();this.canvas=t}return n.prototype.update=function(t,e,r,i,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,f=h.getContext("2d"),v=t.length;h.width=e,h.height=r;for(var p=0;p<v;++p){var g=t[p],m=g[0],y=g[1],S=i(g[2]);f.globalAlpha=S,f.drawImage(s,m-c,y-c)}if(!h.width||!h.height)return h;for(var x=f.getImageData(0,0,h.width,h.height),b=x.data,w=0,C=b.length,T=this.minOpacity,M=this.maxOpacity-T;w<C;){S=b[w+3]/256;var A=4*Math.floor(255*S);if(S>0){var I=o(S)?l:u;S>0&&(S=S*M+T),b[w++]=I[A],b[w++]=I[A+1],b[w++]=I[A+2],b[w++]=I[A+3]*S*256}else w+=4}return f.putImageData(x,0,0),h},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=In.createCanvas()),e=this.pointSize+this.blurSize,r=2*e;t.width=r,t.height=r;var i=t.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},n.prototype._getGradient=function(t,e){for(var r=this._gradientPixels,i=r[e]||(r[e]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,s=0;s<256;s++)t[e](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},n}();const rZ=nZ;function mM(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var oZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){var a;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):mM(o)&&this._renderOnGeo(o,e,a,i)},t.prototype.incrementalPrepareRender=function(e,r,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,r,i,a){var o=r.coordinateSystem;o&&(mM(o)?this.render(r,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){fi(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,r,i,a,o){var u,c,h,f,s=e.coordinateSystem,l=La(s,"cartesian2d");if(l){var v=s.getAxis("x"),p=s.getAxis("y");u=v.getBandWidth()+.5,c=p.getBandWidth()+.5,h=v.scale.getExtent(),f=p.scale.getExtent()}for(var g=this.group,m=e.getData(),y=e.getModel(["emphasis","itemStyle"]).getItemStyle(),_=e.getModel(["blur","itemStyle"]).getItemStyle(),S=e.getModel(["select","itemStyle"]).getItemStyle(),x=e.get(["itemStyle","borderRadius"]),b=ht(e),w=e.getModel("emphasis"),C=w.get("focus"),T=w.get("blurScope"),z=w.get("disabled"),M=l?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],A=i;A<a;A++){var I=void 0,P=m.getItemVisual(A,"style");if(l){var L=m.get(M[0],A),O=m.get(M[1],A);if(isNaN(m.get(M[2],A))||isNaN(L)||isNaN(O)||L<h[0]||L>h[1]||O<f[0]||O>f[1])continue;var R=s.dataToPoint([L,O]);I=new Te({shape:{x:R[0]-u/2,y:R[1]-c/2,width:u,height:c},style:P})}else{if(isNaN(m.get(M[1],A)))continue;I=new Te({z2:1,shape:s.dataToRect([m.get(M[0],A)]).contentShape,style:P})}if(m.hasItemOption){var k=m.getItemModel(A),N=k.getModel("emphasis");y=N.getModel("itemStyle").getItemStyle(),_=k.getModel(["blur","itemStyle"]).getItemStyle(),S=k.getModel(["select","itemStyle"]).getItemStyle(),x=k.get(["itemStyle","borderRadius"]),C=N.get("focus"),T=N.get("blurScope"),z=N.get("disabled"),b=ht(k)}I.shape.r=x;var B=e.getRawValue(A),H="-";B&&null!=B[2]&&(H=B[2]+""),bt(I,b,{labelFetcher:e,labelDataIndex:A,defaultOpacity:P.opacity,defaultText:H}),I.ensureState("emphasis").style=y,I.ensureState("blur").style=_,I.ensureState("select").style=S,Je(I,C,T,z),I.incremental=o,o&&(I.states.emphasis.hoverLayer=!0),g.add(I),m.setItemGraphicEl(A,I),this._progressiveEls&&this._progressiveEls.push(I)}},t.prototype._renderOnGeo=function(e,r,i,a){var o=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new rZ;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=e.getViewRect().clone(),h=e.getRoamTransform();c.applyTransform(h);var f=Math.max(c.x,0),v=Math.max(c.y,0),p=Math.min(c.width+c.x,a.getWidth()),g=Math.min(c.height+c.y,a.getHeight()),m=p-f,y=g-v,_=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],S=l.mapArray(_,function(C,T,z){var M=e.dataToPoint([C,T]);return M[0]-=f,M[1]-=v,M.push(z),M}),x=i.getExtent(),b="visualMap.continuous"===i.type?function(n,t){var e=n[1]-n[0];return t=[(t[0]-n[0])/e,(t[1]-n[0])/e],function(r){return r>=t[0]&&r<=t[1]}}(x,i.option.range):function(n,t,e){var r=n[1]-n[0],i=(t=G(t,function(o){return{interval:[(o.interval[0]-n[0])/r,(o.interval[1]-n[0])/r]}})).length,a=0;return function(o){var s;for(s=a;s<i;s++)if((l=t[s].interval)[0]<=o&&o<=l[1]){a=s;break}if(s===i)for(s=a-1;s>=0;s--){var l;if((l=t[s].interval)[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<i&&e[s]}}(x,i.getPieceList(),i.option.selected);u.update(S,m,y,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},b);var w=new St({style:{width:m,height:y,x:f,y:v,image:u.canvas},silent:!0});this.group.add(w)},t.type="heatmap",t}(He);const sZ=oZ;var lZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.getInitialData=function(e,r){return Er(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=js.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}($e);const uZ=lZ;var hZ=["itemStyle","borderWidth"],yM=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Om=new hi,fZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){var a=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,c=l.getBaseAxis().isHorizontal(),h=l.master.getRect(),f={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:c,valueDim:yM[+c],categoryDim:yM[1-+c]};o.diff(s).add(function(p){if(o.hasValue(p)){var g=TM(o,p),m=_M(o,p,g,f),y=zM(o,f,m);o.setItemGraphicEl(p,y),a.add(y),AM(y,f,m)}}).update(function(p,g){var m=s.getItemGraphicEl(g);if(o.hasValue(p)){var y=TM(o,p),_=_M(o,p,y,f),S=MM(o,_);m&&S!==m.__pictorialShapeStr&&(a.remove(m),o.setItemGraphicEl(p,null),m=null),m?function(n,t,e){Ie(n.__pictorialBundle,{x:e.bundlePosition[0],y:e.bundlePosition[1]},e.animationModel,e.dataIndex),e.symbolRepeat?xM(n,t,e,!0):bM(n,0,e,!0),wM(n,e,!0),CM(n,t,e,!0)}(m,f,_):m=zM(o,f,_,!0),o.setItemGraphicEl(p,m),m.__pictorialSymbolMeta=_,a.add(m),AM(m,f,_)}else a.remove(m)}).remove(function(p){var g=s.getItemGraphicEl(p);g&&DM(s,p,g.__pictorialSymbolMeta.animationModel,g)}).execute();var v=e.get("clip",!0)?Il(e.coordinateSystem,!1,e):null;return v?a.setClipPath(v):a.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,r){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(o){DM(a,ce(o).dataIndex,e,o)}):i.removeAll()},t.type="pictorialBar",t}(He);function _M(n,t,e,r){var i=n.getItemLayout(t),a=e.get("symbolRepeat"),o=e.get("symbolClip"),s=e.get("symbolPosition")||"start",u=(e.get("symbolRotate")||0)*Math.PI/180||0,c=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),f={dataIndex:t,layout:i,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(n,t,e,r,i){var c,a=r.valueDim,o=n.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(e[a.wh]<=0);if(F(o)){var h=[Rm(s,o[0])-l,Rm(s,o[1])-l];h[1]<h[0]&&h.reverse(),c=h[u]}else c=null!=o?Rm(s,o)-l:t?r.coordSysExtent[a.index][u]-l:e[a.wh];i.boundingLength=c,t&&(i.repeatCutLength=e[a.wh]);var f="x"===a.xy,v=s.inverse;i.pxSign=f&&!v||!f&&v?c>=0?1:-1:c>0?1:-1})(e,a,i,r,f),function(n,t,e,r,i,a,o,s,l,u){var p,c=l.valueDim,h=l.categoryDim,f=Math.abs(e[h.wh]),v=n.getItemVisual(t,"symbolSize");(p=F(v)?v.slice():null==v?["100%","100%"]:[v,v])[h.index]=Y(p[h.index],f),p[c.index]=Y(p[c.index],r?f:Math.abs(a)),u.symbolSize=p,(u.symbolScale=[p[0]/s,p[1]/s])[c.index]*=(l.isHorizontal?-1:1)*o}(n,t,i,a,0,f.boundingLength,f.pxSign,c,r,f),function(n,t,e,r,i){var a=n.get(hZ)||0;a&&(Om.attr({scaleX:t[0],scaleY:t[1],rotation:e}),Om.updateTransform(),a/=Om.getLineScale(),a*=t[r.valueDim.index]),i.valueLineWidth=a||0}(e,f.symbolScale,u,r,f);var v=f.symbolSize,p=xa(e.get("symbolOffset"),v);return function(n,t,e,r,i,a,o,s,l,u,c,h){var f=c.categoryDim,v=c.valueDim,p=h.pxSign,g=Math.max(t[v.index]+s,0),m=g;if(r){var y=Math.abs(l),_=gt(n.get("symbolMargin"),"15%")+"",S=!1;_.lastIndexOf("!")===_.length-1&&(S=!0,_=_.slice(0,_.length-1));var x=Y(_,t[v.index]),b=Math.max(g+2*x,0),w=S?0:2*x,C=E_(r),T=C?r:IM((y+w)/b);b=g+2*(x=(y-T*g)/2/(S?T:Math.max(T-1,1))),w=S?0:2*x,!C&&"fixed"!==r&&(T=u?IM((Math.abs(u)+w)/b):0),m=T*b-w,h.repeatTimes=T,h.symbolMargin=x}var M=p*(m/2),A=h.pathPosition=[];A[f.index]=e[f.wh]/2,A[v.index]="start"===o?M:"end"===o?l-M:l/2,a&&(A[0]+=a[0],A[1]+=a[1]);var I=h.bundlePosition=[];I[f.index]=e[f.xy],I[v.index]=e[v.xy];var P=h.barRectShape=V({},e);P[v.wh]=p*Math.max(Math.abs(e[v.wh]),Math.abs(A[v.index]+M)),P[f.wh]=e[f.wh];var L=h.clipShape={};L[f.xy]=-e[f.xy],L[f.wh]=c.ecSize[f.wh],L[v.xy]=0,L[v.wh]=e[v.wh]}(e,v,i,a,0,p,s,f.valueLineWidth,f.boundingLength,f.repeatCutLength,r,f),f}function Rm(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function SM(n){var t=n.symbolPatternSize,e=ot(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function xM(n,t,e,r){var i=n.__pictorialBundle,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,c=0,h=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(Nm(n,function(g){g.__pictorialAnimationIndex=c,g.__pictorialRepeatTimes=u,c<u?rs(g,null,p(c),e,r):rs(g,null,{scaleX:0,scaleY:0},e,r,function(){i.remove(g)}),c++});c<u;c++){var f=SM(e);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=u,i.add(f);var v=p(c);rs(f,{x:v.x,y:v.y,scaleX:0,scaleY:0},{scaleX:v.scaleX,scaleY:v.scaleY,rotation:v.rotation},e,r)}function p(g){var m=s.slice(),y=e.pxSign,_=g;return("start"===e.symbolRepeatDirection?y>0:y<0)&&(_=u-1-g),m[l.index]=h*(_-u/2+.5)+s[l.index],{x:m[0],y:m[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function bM(n,t,e,r){var i=n.__pictorialBundle,a=n.__pictorialMainPath;a?rs(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,r):(a=n.__pictorialMainPath=SM(e),i.add(a),rs(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,r))}function wM(n,t,e){var r=V({},t.barRectShape),i=n.__pictorialBarRect;i?rs(i,null,{shape:r},t,e):((i=n.__pictorialBarRect=new Te({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(i))}function CM(n,t,e,r){if(e.symbolClip){var i=n.__pictorialClipPath,a=V({},e.clipShape),o=t.valueDim,s=e.animationModel,l=e.dataIndex;if(i)Ie(i,{shape:a},s,l);else{a[o.wh]=0,i=new Te({shape:a}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var u={};u[o.wh]=e.clipShape[o.wh],br[r?"updateProps":"initProps"](i,{shape:u},s,l)}}}function TM(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=mZ,e.isAnimationEnabled=yZ,e}function mZ(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function yZ(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function zM(n,t,e,r){var i=new ue,a=new ue;return i.add(a),i.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?xM(i,t,e):bM(i,0,e),wM(i,e,r),CM(i,t,e,r),i.__pictorialShapeStr=MM(n,e),i.__pictorialSymbolMeta=e,i}function DM(n,t,e,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var a=[];Nm(r,function(o){a.push(o)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(e=null),D(a,function(o){ai(o,{scaleX:0,scaleY:0},e,t,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(t,null)}function MM(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Nm(n,t,e){D(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&t.call(e,r)})}function rs(n,t,e,r,i,a){t&&n.attr(t),r.symbolClip&&!i?e&&n.attr(e):e&&br[i?"updateProps":"initProps"](n,e,r.animationModel,r.dataIndex,a)}function AM(n,t,e){var r=e.dataIndex,i=e.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),h=a.get("blurScope"),f=a.get("scale");Nm(n,function(g){if(g instanceof St){var m=g.style;g.useStyle(V({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},e.style))}else g.useStyle(e.style);var y=g.ensureState("emphasis");y.style=o,f&&(y.scaleX=1.1*g.scaleX,y.scaleY=1.1*g.scaleY),g.ensureState("blur").style=s,g.ensureState("select").style=l,u&&(g.cursor=u),g.z2=e.z2});var v=t.valueDim.posDesc[+(e.boundingLength>0)],p=n.__pictorialBarRect;p.ignoreClip=!0,bt(p,ht(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:Uo(t.seriesModel.getData(),r),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:v}),Je(n,c,h,a.get("disabled"))}function IM(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}const SZ=fZ;var xZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return E(t,n),t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=oi(fh.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(fh);const bZ=xZ;var CZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return E(t,n),t.prototype.render=function(e,r,i){var a=e.getData(),o=this,s=this.group,l=e.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,h=u.boundaryGap;function f(m){return m.name}s.x=0,s.y=c.y+h[0];var v=new kr(this._layersSeries||[],l,f,f),p=[];function g(m,y,_){var S=o._layers;if("remove"!==m){for(var w,x=[],b=[],C=l[y].indices,T=0;T<C.length;T++){var z=a.getItemLayout(C[T]),M=z.x,A=z.y0,I=z.y;x.push(M,A),b.push(M,A+I),w=a.getItemVisual(C[T],"style")}var P,L=a.getItemLayout(C[0]),R=e.getModel("label").get("margin"),k=e.getModel("emphasis");if("add"===m){var N=p[y]=new ue;P=new SC({shape:{points:x,stackedOnPoints:b,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),N.add(P),s.add(N),e.isAnimationEnabled()&&P.setClipPath(function(n,t,e){var r=new Te({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Ue(r,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},t,function(){P.removeClipPath()}),r}(P.getBoundingRect(),e))}else P=(N=S[_]).childAt(0),s.add(N),p[y]=N,Ie(P,{shape:{points:x,stackedOnPoints:b}},e),Nn(P);bt(P,ht(e),{labelDataIndex:C[T-1],defaultText:a.getName(C[T-1]),inheritColor:w.fill},{normal:{verticalAlign:"middle"}}),P.setTextConfig({position:null,local:!0});var B=P.getTextContent();B&&(B.x=L.x-R,B.y=L.y0+L.y/2),P.useStyle(w),a.setItemGraphicEl(y,P),xt(P,e),Je(P,k.get("focus"),k.get("blurScope"),k.get("disabled"))}else s.remove(S[y])}v.add($(g,this,"add")).update($(g,this,"update")).remove($(g,this,"remove")).execute(),this._layersSeries=l,this._layers=p},t.type="themeRiver",t}(He);const zZ=CZ;var DZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ol($(this.getData,this),$(this.getRawData,this))},t.prototype.fixData=function(e){var r=e.length,i={},a=kv(e,function(f){return i.hasOwnProperty(f[0]+"")||(i[f[0]+""]=-1),f[2]}),o=[];a.buckets.each(function(f,v){o.push({name:v,dataList:f})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c)i[h=o[l].dataList[c][0]+""]=l;for(var h in i)i.hasOwnProperty(h)&&i[h]!==l&&(i[h]=l,e[r]=[h,0,u],r++)}return e},t.prototype.getInitialData=function(e,r){for(var a=this.getReferringComponents("singleAxis",it).models[0].get("type"),o=Pe(e.data,function(p){return void 0!==p[2]}),s=this.fixData(o||[]),l=[],u=this.nameMap=Q(),c=0,h=0;h<s.length;++h)l.push(s[h][2]),u.get(s[h][2])||(u.set(s[h][2],c),c++);var f=Yo(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:uh(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,v=new Ft(f,this);return v.initData(s),v},t.prototype.getLayerSeries=function(){for(var e=this.getData(),r=e.count(),i=[],a=0;a<r;++a)i[a]=a;var o=e.mapDimension("single"),s=kv(i,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(h,f){return e.get(o,h)-e.get(o,f)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,r,i){F(e)||(e=e?[e]:[]);for(var u,a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,c=0;c<l;++c){for(var h=Number.MAX_VALUE,f=-1,v=o[c].indices.length,p=0;p<v;++p){var g=a.get(e[0],o[c].indices[p]),m=Math.abs(g-r);m<=h&&(u=g,h=m,f=o[c].indices[p])}s.push(f)}return{dataIndices:s,nestestValue:u}},t.prototype.formatTooltip=function(e,r,i){var a=this.getData();return ft("nameValue",{name:a.getName(e),value:a.get(a.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}($e);const MZ=DZ;function AZ(n,t){n.eachSeriesByType("themeRiver",function(e){var r=e.getData(),i=e.coordinateSystem,a={},o=i.getRect();a.rect=o;var s=e.get("boundaryGap"),l=i.getAxis();a.boundaryGap=s,"horizontal"===l.orient?(s[0]=Y(s[0],o.height),s[1]=Y(s[1],o.height),PM(r,e,o.height-s[0]-s[1])):(s[0]=Y(s[0],o.width),s[1]=Y(s[1],o.width),PM(r,e,o.width-s[0]-s[1])),r.setLayout("layoutInfo",a)})}function PM(n,t,e){if(n.count())for(var v,r=t.coordinateSystem,i=t.getLayerSeries(),a=n.mapDimension("single"),o=n.mapDimension("value"),s=G(i,function(m){return G(m.indices,function(y){var _=r.dataToPoint(n.get(a,y));return _[1]=n.get(o,y),_})}),l=function(n){for(var t=n.length,e=n[0].length,r=[],i=[],a=0,o=0;o<e;++o){for(var s=0,l=0;l<t;++l)s+=n[l][o][1];s>a&&(a=s),r.push(s)}for(var u=0;u<e;++u)i[u]=(a-r[u])/2;a=0;for(var c=0;c<e;++c){var h=r[c]+i[c];h>a&&(a=h)}return{y0:i,max:a}}(s),u=l.y0,c=e/l.max,h=i.length,f=i[0].indices.length,p=0;p<f;++p){n.setItemLayout(i[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:v=u[p]*c,y:s[0][p][1]*c});for(var g=1;g<h;++g)n.setItemLayout(i[g].indices[p],{layerIndex:g,x:s[g][p][0],y0:v+=s[g-1][p][1]*c,y:s[g][p][1]*c})}}var RZ=function(n){function t(e,r,i,a){var o=n.call(this)||this;o.z2=2,o.textConfig={inside:!0},ce(o).seriesIndex=r.seriesIndex;var s=new Me({z2:4,silent:e.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,e,r,i,a),o}return E(t,n),t.prototype.updateData=function(e,r,i,a,o){this.node=r,r.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var s=this;ce(s).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),h=V({},c);h.label=null;var f=r.getVisual("style");f.lineJoin="bevel";var v=r.getVisual("decal");v&&(f.decal=Go(v,o));var p=Oa(l.getModel("itemStyle"),h,!0);V(h,p),D(Et,function(_){var S=s.ensureState(_),x=l.getModel([_,"itemStyle"]);S.style=x.getItemStyle();var b=Oa(x,h);b&&(S.shape=b)}),e?(s.setShape(h),s.shape.r=c.r0,Ue(s,{shape:{r:c.r}},i,r.dataIndex)):(Ie(s,{shape:h},i),Nn(s)),s.useStyle(f),this._updateLabel(i);var g=l.getShallow("cursor");g&&s.attr("cursor",g),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var m=u.get("focus");Je(this,"relative"===m?gs(r.getAncestorsIndices(),r.getDescendantIndices()):"ancestor"===m?r.getAncestorsIndices():"descendant"===m?r.getDescendantIndices():m,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var r=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),h=this,f=h.getTextContent(),v=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(null!=p&&Math.abs(s)<p);function m(y,_){var S=y.get(_);return null==S?a.get(_):S}f.ignore=!g,D(Hs,function(y){var _=i.getModel("normal"===y?"label":[y,"label"]),S="normal"===y,x=S?f:f.ensureState(y),b=e.getFormattedLabel(v,y);S&&(b=b||r.node.name),x.style=Fe(_,{},null,"normal"!==y,!0),b&&(x.style.text=b);var w=_.get("show");null!=w&&!S&&(x.ignore=!w);var C=m(_,"position"),T=S?h:h.states[y],z=T.style.fill;T.textConfig={outsideFill:"inherit"===_.get("color")?z:null,inside:"outside"!==C};var M,A=m(_,"distance")||0,I=m(_,"align"),P=m(_,"rotate"),L=.5*Math.PI,O=1.5*Math.PI,R=rn("tangential"===P?Math.PI/2-l:l),k=R>L&&!Os(R-L)&&R<O;"outside"===C?(M=o.r+A,I=k?"right":"left"):I&&"center"!==I?"left"===I?(M=o.r0+A,I=k?"right":"left"):"right"===I&&(M=o.r-A,I=k?"left":"right"):(M=s===2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,I="center"),x.style.align=I,x.style.verticalAlign=m(_,"verticalAlign")||"middle",x.x=M*u+o.cx,x.y=M*c+o.cy;var N=0;"radial"===P?N=rn(-l)+(k?Math.PI:0):"tangential"===P?N=rn(Math.PI/2-l)+(k?Math.PI:0):De(P)&&(N=P*Math.PI/180),x.rotation=rn(N)}),f.dirtyStyle()},t}(Ut);const LM=RZ;var Em="sunburstRootToNode",OM="sunburstHighlight",EZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i,a){var o=this;this.seriesModel=e,this.api=i,this.ecModel=r;var _,S,s=e.getData(),l=s.tree.root,u=e.getViewRoot(),c=this.group,h=e.get("renderLabelForZeroData"),f=[];u.eachNode(function(_){f.push(_)}),function(_,S){function x(w){return w.getId()}function b(w,C){!function(_,S){if(!h&&_&&!_.getValue()&&(_=null),_!==l&&S!==l)if(S&&S.piece)_?(S.piece.updateData(!1,_,e,r,i),s.setItemGraphicEl(_.dataIndex,S.piece)):function(_){!_||_.piece&&(c.remove(_.piece),_.piece=null)}(S);else if(_){var x=new LM(_,e,r,i);c.add(x),s.setItemGraphicEl(_.dataIndex,x)}}(null==w?null:_[w],null==C?null:S[C])}0===_.length&&0===S.length||new kr(S,_,x,x).add(b).update(b).remove(pe(b,null)).execute()}(f,this._oldChildren||[]),_=l,(S=u).depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,_,e,r,i):(o.virtualPiece=new LM(_,e,r,i),c.add(o.virtualPiece)),S.piece.off("click"),o.virtualPiece.on("click",function(x){o._rootToNode(S.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null),this._initEvents(),this._oldChildren=f},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(r){var i=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!i&&o.piece&&o.piece===r.target){var s=o.getModel().get("nodeClick");if("rootToNode"===s)e._rootToNode(o);else if("link"===s){var l=o.getModel(),u=l.get("link");u&&mc(u,l.get("target",!0)||"_blank")}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Em,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,r){var a=r.getData().getItemLayout(0);if(a){var o=e[0]-a.cx,s=e[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="sunburst",t}(He);const BZ=EZ;var VZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return E(t,n),t.prototype.getInitialData=function(e,r){var i={name:e.name,children:e.data};RM(i);var a=this._levelModels=G(e.levels||[],function(l){return new Ge(l,this,r)},this),o=Ng.createTree(i,this,function(l){l.wrapMethod("getItemModel",function(u,c){var h=o.getNodeByDataIndex(c),f=a[h.depth];return f&&(u.parentModel=f),u})});return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treePathInfo=Rh(i,this),r},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){Wz(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}($e);function RM(n){var t=0;D(n.children,function(r){RM(r);var i=r.value;F(i)&&(i=i[0]),t+=i});var e=n.value;F(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),F(n.value)?n.value[0]=e:n.value=e}const FZ=VZ;var NM=Math.PI/180;function GZ(n,t,e){t.eachSeriesByType(n,function(r){var i=r.get("center"),a=r.get("radius");F(a)||(a=[0,a]),F(i)||(i=[i,i]);var o=e.getWidth(),s=e.getHeight(),l=Math.min(o,s),u=Y(i[0],o),c=Y(i[1],s),h=Y(a[0],l/2),f=Y(a[1],l/2),v=-r.get("startAngle")*NM,p=r.get("minAngle")*NM,g=r.getData().tree.root,m=r.getViewRoot(),y=m.depth,_=r.get("sort");null!=_&&kM(m,_);var S=0;D(m.children,function(R){!isNaN(R.getValue())&&S++});var x=m.getValue(),b=Math.PI/(x||S)*2,w=m.depth>0,T=(f-h)/(m.height-(w?-1:1)||1),z=r.get("clockwise"),M=r.get("stillShowZeroSum"),A=z?1:-1,I=function(R,k){if(R){var N=k;if(R!==g){var B=R.getValue(),H=0===x&&M?b:B*b;H<p&&(H=p),N=k+A*H;var W=R.depth-y-(w?-1:1),Z=h+T*W,K=h+T*(W+1),te=r.getLevelModel(R);if(te){var he=te.get("r0",!0),Ee=te.get("r",!0),et=te.get("radius",!0);null!=et&&(he=et[0],Ee=et[1]),null!=he&&(Z=Y(he,l/2)),null!=Ee&&(K=Y(Ee,l/2))}R.setLayout({angle:H,startAngle:k,endAngle:N,clockwise:z,cx:u,cy:c,r0:Z,r:K})}if(R.children&&R.children.length){var ye=0;D(R.children,function(ae){ye+=I(ae,k+ye)})}return N-k}};if(w){var O=2*Math.PI;g.setLayout({angle:O,startAngle:v,endAngle:v+O,clockwise:z,cx:u,cy:c,r0:h,r:h+T})}I(m,v)})}function kM(n,t){var e=n.children||[];n.children=function(n,t){if(ee(t)){var e=G(n,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return e.sort(function(i,a){return t(i.params,a.params)}),G(e,function(i){return n[i.index]})}var r="asc"===t;return n.sort(function(i,a){var o=(i.getValue()-a.getValue())*(r?1:-1);return 0===o?(i.dataIndex-a.dataIndex)*(r?-1:1):o})}(e,t),e.length&&D(n.children,function(r){kM(r,t)})}function WZ(n){var t={};n.eachSeriesByType("sunburst",function(r){var i=r.getData(),a=i.tree;a.eachNode(function(o){var l=o.getModel().getModel("itemStyle").getItemStyle();l.fill||(l.fill=function(r,i,a){for(var o=r;o&&o.depth>1;)o=o.parentNode;var s=i.getColorFromPalette(o.name||o.dataIndex+"",t);return r.depth>1&&U(s)&&(s=av(s,(r.depth-1)/(a-1)*.5)),s}(o,r,a.root.height)),V(i.ensureUniqueItemVisual(o.dataIndex,"style"),l)})})}var EM={color:"fill",borderColor:"stroke"},ZZ={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Hr=Ce(),UZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,r){return Er(null,this)},t.prototype.getDataParams=function(e,r,i){var a=n.prototype.getDataParams.call(this,e,r);return i&&(a.info=Hr(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}($e);const $Z=UZ;function XZ(n,t){return t=t||[0,0],G(["x","y"],function(e,r){var i=this.getAxis(e),a=t[r],o=n[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function JZ(n,t){return t=t||[0,0],G([0,1],function(e){var r=t[e],i=n[e]/2,a=[],o=[];return a[e]=r-i,o[e]=r+i,a[1-e]=o[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(o)[e])},this)}function jZ(n,t){var e=this.getAxis(),r=t instanceof Array?t[0]:t,i=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(r-i)-e.dataToCoord(r+i))}function e7(n,t){return t=t||[0,0],G(["Radius","Angle"],function(e,r){var a=this["get"+e+"Axis"](),o=t[r],s=n[r]/2,l="category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return"Angle"===e&&(l=l*Math.PI/180),l},this)}function BM(n,t,e,r){return n&&(n.legacy||!1!==n.legacy&&!e&&!r&&"tspan"!==t&&("text"===t||X(n,"text")))}function VM(n,t,e){var i,a,o,r=n;if("text"===t)o=r;else{o={},X(r,"text")&&(o.text=r.text),X(r,"rich")&&(o.rich=r.rich),X(r,"textFill")&&(o.fill=r.textFill),X(r,"textStroke")&&(o.stroke=r.textStroke),X(r,"fontFamily")&&(o.fontFamily=r.fontFamily),X(r,"fontSize")&&(o.fontSize=r.fontSize),X(r,"fontStyle")&&(o.fontStyle=r.fontStyle),X(r,"fontWeight")&&(o.fontWeight=r.fontWeight),a={type:"text",style:o,silent:!0},i={};var s=X(r,"textPosition");e?i.position=s?r.textPosition:"inside":s&&(i.position=r.textPosition),X(r,"textPosition")&&(i.position=r.textPosition),X(r,"textOffset")&&(i.offset=r.textOffset),X(r,"textRotation")&&(i.rotation=r.textRotation),X(r,"textDistance")&&(i.distance=r.textDistance)}return FM(o,n),D(o.rich,function(l){FM(l,l)}),{textConfig:i,textContent:a}}function FM(n,t){!t||(t.font=t.textFont||t.font,X(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),X(t,"textAlign")&&(n.align=t.textAlign),X(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),X(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),X(t,"textWidth")&&(n.width=t.textWidth),X(t,"textHeight")&&(n.height=t.textHeight),X(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),X(t,"textPadding")&&(n.padding=t.textPadding),X(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),X(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),X(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),X(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),X(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),X(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),X(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function GM(n,t,e){var r=n;r.textPosition=r.textPosition||e.position||"inside",null!=e.offset&&(r.textOffset=e.offset),null!=e.rotation&&(r.textRotation=e.rotation),null!=e.distance&&(r.textDistance=e.distance);var i=r.textPosition.indexOf("inside")>=0,a=n.fill||"#000";HM(r,t);var o=null==r.textFill;return i?o&&(r.textFill=e.insideFill||"#fff",!r.textStroke&&e.insideStroke&&(r.textStroke=e.insideStroke),!r.textStroke&&(r.textStroke=a),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(o&&(r.textFill=n.fill||e.outsideFill||"#000"),!r.textStroke&&e.outsideStroke&&(r.textStroke=e.outsideStroke)),r.text=t.text,r.rich=t.rich,D(t.rich,function(s){HM(s,s)}),r}function HM(n,t){!t||(X(t,"fill")&&(n.textFill=t.fill),X(t,"stroke")&&(n.textStroke=t.fill),X(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),X(t,"font")&&(n.font=t.font),X(t,"fontStyle")&&(n.fontStyle=t.fontStyle),X(t,"fontWeight")&&(n.fontWeight=t.fontWeight),X(t,"fontSize")&&(n.fontSize=t.fontSize),X(t,"fontFamily")&&(n.fontFamily=t.fontFamily),X(t,"align")&&(n.textAlign=t.align),X(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),X(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),X(t,"width")&&(n.textWidth=t.width),X(t,"height")&&(n.textHeight=t.height),X(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),X(t,"padding")&&(n.textPadding=t.padding),X(t,"borderColor")&&(n.textBorderColor=t.borderColor),X(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),X(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),X(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),X(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),X(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),X(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),X(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),X(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),X(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),X(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}var WM={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},YM=we(WM),$h=(Jn(tr,function(n,t){return n[t]=1,n},{}),tr.join(", "),["","style","shape","extra"]),is=Ce();function Bm(n,t,e,r,i){var a=n+"Animation",o=yo(n,r,i)||{},s=is(t).userDuring;return o.duration>0&&(o.during=s?$(s7,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=n),V(o,e[a]),o}function Xh(n,t,e,r){var i=(r=r||{}).dataIndex,a=r.isInit,o=r.clearStyle,s=e.isAnimationEnabled(),l=is(n),u=t.style;l.userDuring=t.during;var c={},h={};if(function(n,t,e){for(var r=0;r<YM.length;r++){var i=YM[r],a=WM[i],o=t[i];o&&(e[a[0]]=o[0],e[a[1]]=o[1])}for(r=0;r<tr.length;r++){var s=tr[r];null!=t[s]&&(e[s]=t[s])}}(0,t,h),$M("shape",t,h),$M("extra",t,h),!a&&s&&(function(n,t,e){for(var r=t.transition,i=Ua(r)?tr:ke(r||[]),a=0;a<i.length;a++){var o=i[a];"style"!==o&&"shape"!==o&&"extra"!==o&&(e[o]=n[o])}}(n,t,c),UM("shape",n,t,c),UM("extra",n,t,c),function(n,t,e,r){if(e){var a,i=n.style;if(i){var o=e.transition,s=t.transition;if(o&&!Ua(o)){var l=ke(o);!a&&(a=r.style={});for(var u=0;u<l.length;u++)a[c=l[u]]=i[c]}else if(n.getAnimationStyleProps&&(Ua(s)||Ua(o)||_e(s,"style")>=0)){var f=n.getAnimationStyleProps(),v=f?f.style:null;if(v){!a&&(a=r.style={});var p=we(e);for(u=0;u<p.length;u++){var c;v[c=p[u]]&&(a[c]=i[c])}}}}}}(n,t,u,c)),h.style=u,function(n,t,e){var r=t.style;if(!n.isGroup&&r){if(e){n.useStyle({});for(var i=n.animators,a=0;a<i.length;a++){var o=i[a];"style"===o.targetName&&o.changeTarget(n.style)}}n.setStyle(r)}t&&(t.style=null,t&&n.attr(t),t.style=r)}(n,h,o),function(n,t){X(t,"silent")&&(n.silent=t.silent),X(t,"ignore")&&(n.ignore=t.ignore),n instanceof dn&&X(t,"invisible")&&(n.invisible=t.invisible),n instanceof be&&X(t,"autoBatch")&&(n.autoBatch=t.autoBatch)}(n,t),s)if(a){var f={};D($h,function(p){var g=p?t[p]:t;g&&g.enterFrom&&(p&&(f[p]=f[p]||{}),V(p?f[p]:f,g.enterFrom))});var v=Bm("enter",n,t,e,i);v.duration>0&&n.animateFrom(f,v)}else!function(n,t,e,r,i){if(i){var a=Bm("update",n,t,r,e);a.duration>0&&n.animateFrom(i,a)}}(n,t,i||0,e,c);ZM(n,t),u?n.dirty():n.markRedraw()}function ZM(n,t){for(var e=is(n).leaveToProps,r=0;r<$h.length;r++){var i=$h[r],a=i?t[i]:t;a&&a.leaveTo&&(e||(e=is(n).leaveToProps={}),i&&(e[i]=e[i]||{}),V(i?e[i]:e,a.leaveTo))}}function Qh(n,t,e,r){if(n){var i=n.parent,a=is(n).leaveToProps;if(a){var o=Bm("update",n,t,e,0);o.done=function(){i.remove(n),r&&r()},n.animateTo(a,o)}else i.remove(n),r&&r()}}function Ua(n){return"all"===n}var mr={},o7={setTransform:function(n,t){return mr.el[n]=t,this},getTransform:function(n){return mr.el[n]},setShape:function(n,t){var e=mr.el;return(e.shape||(e.shape={}))[n]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(n){var t=mr.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=mr.el,r=e.style;return r&&(r[n]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(n){var t=mr.el.style;if(t)return t[n]},setExtra:function(n,t){return(mr.el.extra||(mr.el.extra={}))[n]=t,this},getExtra:function(n){var t=mr.el.extra;if(t)return t[n]}};function s7(){var n=this,t=n.el;if(t){var e=is(t).userDuring,r=n.userDuring;if(e!==r)return void(n.el=n.userDuring=null);mr.el=t,r(o7)}}function UM(n,t,e,r){var i=e[n];if(i){var o,a=t[n];if(a){var s=e.transition,l=i.transition;if(l)if(!o&&(o=r[n]={}),Ua(l))V(o,a);else for(var u=ke(l),c=0;c<u.length;c++)o[h=u[c]]=f=a[h];else if(Ua(s)||_e(s,n)>=0){!o&&(o=r[n]={});var v=we(a);for(c=0;c<v.length;c++){var h,f;h7(i[h=v[c]],f=a[h])&&(o[h]=f)}}}}}function $M(n,t,e){var r=t[n];if(r)for(var i=e[n]={},a=we(r),o=0;o<a.length;o++){var s=a[o];i[s]=Ms(r[s])}}function h7(n,t){return zt(n)?n!==t:null!=n&&isFinite(n)}var XM=Ce(),f7=["percent","easing","shape","style","extra"];function QM(n){n.stopAnimation("keyframe"),n.attr(XM(n))}function Jh(n,t,e){if(e.isAnimationEnabled()&&t){if(F(t))return void D(t,function(s){Jh(n,s,e)});var r=t.keyframes,i=t.duration;if(e&&null==i){var a=yo("enter",e,0);i=a&&a.duration}if(r&&i){var o=XM(n);D($h,function(s){var l;s&&!n[s]||(r.sort(function(c,h){return c.percent-h.percent}),D(r,function(c){var h=n.animators,f=s?c[s]:c;if(f){var v=we(f);if(s||(v=Pe(v,function(m){return _e(f7,m)<0})),v.length){l||((l=n.animate(s,t.loop,!0)).scope="keyframe");for(var p=0;p<h.length;p++)h[p]!==l&&h[p].targetName===l.targetName&&h[p].stopTracks(v);s&&(o[s]=o[s]||{});var g=s?o[s]:o;D(v,function(m){g[m]=((s?n[s]:n)||{})[m]}),l.whenWithKeys(i*c.percent,f,v,c.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing))})}}}var Wr="emphasis",wi="normal",Vm="blur",Fm="select",Ci=[wi,Wr,Vm,Fm],Gm={normal:["itemStyle"],emphasis:[Wr,"itemStyle"],blur:[Vm,"itemStyle"],select:[Fm,"itemStyle"]},Hm={normal:["label"],emphasis:[Wr,"label"],blur:[Vm,"label"],select:[Fm,"label"]},v7=["x","y"],zn={normal:{},emphasis:{},blur:{},select:{}},d7={cartesian2d:function(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:$(XZ,n)}}},geo:function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:$(JZ,n)}}},single:function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:$(jZ,n)}}},polar:function(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),o=e.dataToAngle(i[1]),s=n.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:$(e7,n)}}},calendar:function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(r,i){return n.dataToPoint(r,i)}}}}};function Wm(n){return n instanceof be}function Ym(n){return n instanceof dn}var m7=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i,a){this._progressiveEls=null;var o=this._data,s=e.getData(),l=this.group,u=qM(e,s,r,i);o||l.removeAll(),s.diff(o).add(function(h){$m(i,null,h,u(h,a),e,l,s)}).remove(function(h){var f=o.getItemGraphicEl(h);f&&Qh(f,Hr(f).option,e)}).update(function(h,f){var v=o.getItemGraphicEl(f);$m(i,v,h,u(h,a),e,l,s)}).execute();var c=e.get("clip",!0)?Il(e.coordinateSystem,!1,e):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,r,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,r,i,a,o){var s=r.getData(),l=qM(r,s,i,a),u=this._progressiveEls=[];function c(v){v.isGroup||(v.incremental=!0,v.ensureState("emphasis").hoverLayer=!0)}for(var h=e.start;h<e.end;h++){var f=$m(null,null,h,l(h,o),r,this.group,s);f&&(f.traverse(c),u.push(f))}},t.prototype.eachRendered=function(e){fi(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,r,i,a){var o=r.element;if(null==o||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},t.type="custom",t}(He);const y7=m7;function Zm(n){var e,t=n.type;if("path"===t){var r=n.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=nA(r);e=Bc(a,null,i,r.layout||"center"),Hr(e).customPathData=a}else if("image"===t)e=new St({}),Hr(e).customImagePath=n.style.image;else if("text"===t)e=new Me({});else if("group"===t)e=new ue;else{if("compoundPath"===t)throw new Error('"compoundPath" is not supported yet.');var o=rd(t);o||Le(""),e=new o}return Hr(e).customGraphicType=t,e.name=n.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function Um(n,t,e,r,i,a,o){QM(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),r&&null==r.transition&&(r.transition=v7);var l=r&&r.style;if(l){if("text"===t.type){var u=l;X(u,"textFill")&&(u.fill=u.textFill),X(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,h=Wm(t)?l.decal:null;n&&h&&(h.dirty=!0,c=Go(h,n)),l.__decalPattern=c}Ym(t)&&l&&(c=l.__decalPattern)&&(l.decal=c),Xh(t,r,a,{dataIndex:e,isInit:o,clearStyle:!0}),Jh(t,r.keyframeAnimation,a)}function JM(n,t,e,r,i){var a=t.isGroup?null:t,o=i&&i[n].cfg;if(a){var s=a.ensureState(n);if(!1===r){var l=a.getState(n);l&&(l.style=null)}else s.style=r||null;o&&(s.textConfig=o),aa(a)}}function S7(n,t,e){var r=e===wi,i=r?t:qh(t,e),a=i?i.z2:null;null!=a&&((r?n:n.ensureState(e)).z2=a||0)}function qM(n,t,e,r){var i=n.get("renderItem"),a=n.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):d7[a.type](a));for(var u,c,s=re({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(L,O){return null==O&&(O=u),t.getStore().get(t.getDimensionIndex(L||0),O)},style:function(L,O){null==O&&(O=u);var R=t.getItemVisual(O,"style"),k=R&&R.fill,N=R&&R.opacity,B=_(O,wi).getItemStyle();null!=k&&(B.fill=k),null!=N&&(B.opacity=N);var H={inheritColor:U(k)?k:"#000"},W=S(O,wi),Z=Fe(W,null,H,!1,!0);Z.text=W.getShallow("show")?ve(n.getFormattedLabel(O,wi),Uo(t,O)):null;var K=lc(W,H,!1);return z(L,B),B=GM(B,Z,K),L&&T(B,L),B.legacy=!0,B},ordinalRawValue:function(L,O){null==O&&(O=u);var R=t.getDimensionInfo(L=L||0);if(!R){var k=t.getDimensionIndex(L);return k>=0?t.getStore().get(k,O):void 0}var N=t.get(R.name,O),B=R&&R.ordinalMeta;return B?B.categories[N]:N},styleEmphasis:function(L,O){null==O&&(O=u);var R=_(O,Wr).getItemStyle(),k=S(O,Wr),N=Fe(k,null,null,!0,!0);N.text=k.getShallow("show")?qn(n.getFormattedLabel(O,Wr),n.getFormattedLabel(O,wi),Uo(t,O)):null;var B=lc(k,null,!0);return z(L,R),R=GM(R,N,B),L&&T(R,L),R.legacy=!0,R},visual:function(L,O){if(null==O&&(O=u),X(EM,L)){var R=t.getItemVisual(O,"style");return R?R[EM[L]]:null}if(X(ZZ,L))return t.getItemVisual(O,L)},barLayout:function(L){if("cartesian2d"===a.type)return function(n){var t=[],e=n.axis,r="axis0";if("category"===e.type){for(var i=e.getBandWidth(),a=0;a<n.count;a++)t.push(re({bandWidth:i,axisKey:r,stackId:qd+a},n));var o=LC(t),s=[];for(a=0;a<n.count;a++){var l=o[r][qd+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(re({axis:a.getBaseAxis()},L))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(L){return pp(L,e)}},o.api||{}),l={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:x7(n.getData())},h={},f={},v={},p={},g=0;g<Ci.length;g++){var m=Ci[g];v[m]=n.getModel(Gm[m]),p[m]=n.getModel(Hm[m])}function y(L){return L===u?c||(c=t.getItemModel(L)):t.getItemModel(L)}function _(L,O){return t.hasItemOption?L===u?h[O]||(h[O]=y(L).getModel(Gm[O])):y(L).getModel(Gm[O]):v[O]}function S(L,O){return t.hasItemOption?L===u?f[O]||(f[O]=y(L).getModel(Hm[O])):y(L).getModel(Hm[O]):p[O]}return function(L,O){return u=L,c=null,h={},f={},i&&i(re({dataIndexInside:L,dataIndex:t.getRawIndex(L),actionType:O?O.type:null},l),s)};function T(L,O){for(var R in O)X(O,R)&&(L[R]=O[R])}function z(L,O){L&&(L.textFill&&(O.textFill=L.textFill),L.textPosition&&(O.textPosition=L.textPosition))}}function x7(n){var t={};return D(n.dimensions,function(e){var r=n.getDimensionInfo(e);if(!r.isExtraCoord){var i=r.coordDim;(t[i]=t[i]||[])[r.coordDimIndex]=n.getDimensionIndex(e)}}),t}function $m(n,t,e,r,i,a,o){if(r){var s=Xm(n,t,e,r,i,a);return s&&o.setItemGraphicEl(e,s),s&&Je(s,r.focus,r.blurScope,r.emphasisDisabled),s}a.remove(t)}function Xm(n,t,e,r,i,a){var o=-1,s=t;t&&jM(t,r,i)&&(o=_e(a.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=Zm(r),s&&function(n,t){t.copyTransform(n),Ym(t)&&Ym(n)&&(t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t.invisible=n.invisible,t.ignore=n.ignore,Wm(t)&&Wm(n)&&t.setShape(n.shape))}(s,u)),!1===r.morph?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),zn.normal.cfg=zn.normal.conOpt=zn.emphasis.cfg=zn.emphasis.conOpt=zn.blur.cfg=zn.blur.conOpt=zn.select.cfg=zn.select.conOpt=null,zn.isLegacy=!1,function(n,t,e,r,i,a){if(!n.isGroup){KM(e,null,a),KM(e,Wr,a);var o=a.normal.conOpt;if(null!=o||null!=a.emphasis.conOpt||null!=a.select.conOpt||null!=a.blur.conOpt){var c=n.getTextContent();if(!1===o)c&&n.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=Zm(o),n.setTextContent(c)),Um(null,c,t,o,null,r,i);for(var h=o&&o.style,f=0;f<Ci.length;f++){var v=Ci[f];if(v!==wi)JM(v,c,0,Qm(o,a[v].conOpt,v),null)}h?c.dirty():c.markRedraw()}}}}(u,e,r,i,l,zn),function(n,t,e,r,i){var a=e.clipPath;if(!1===a)n&&n.getClipPath()&&n.removeClipPath();else if(a){var o=n.getClipPath();o&&jM(o,a,r)&&(o=null),o||(o=Zm(a),n.setClipPath(o)),Um(null,o,t,a,null,r,i)}}(u,e,r,i,l),Um(n,u,e,r,zn,i,l),X(r,"info")&&(Hr(u).info=r.info);for(var c=0;c<Ci.length;c++){var h=Ci[c];if(h!==wi)JM(h,u,0,Qm(r,qh(r,h),h),zn)}return function(n,t,e){if(!n.isGroup){var r=n,a=e.currentZLevel;r.z=e.currentZ,r.zlevel=a;var o=t.z2;null!=o&&(r.z2=o||0);for(var s=0;s<Ci.length;s++)S7(r,t,Ci[s])}}(u,r,i),"group"===r.type&&function(n,t,e,r,i){var a=r.children,o=a?a.length:0,s=r.$mergeChildren,l="byName"===s||r.diffChildrenByName,u=!1===s;if(o||l||u){if(l)return void function(n){new kr(n.oldChildren,n.newChildren,eA,eA,n).add(tA).update(tA).remove(D7).execute()}({api:n,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:i,group:t});u&&t.removeAll();for(var c=0;c<o;c++){var h=a[c],f=t.childAt(c);h?(null==h.ignore&&(h.ignore=!1),Xm(n,f,e,h,i,t)):f.ignore=!0}for(var v=t.childCount()-1;v>=c;v--){var p=t.childAt(v);T7(t,p,i)}}}(n,u,e,r,i),o>=0?a.replaceAt(u,o):a.add(u),u}function jM(n,t,e){var r=Hr(n),i=t.type,a=t.shape,o=t.style;return e.isUniversalTransitionEnabled()||null!=i&&i!==r.customGraphicType||"path"===i&&function(n){return n&&(X(n,"pathData")||X(n,"d"))}(a)&&nA(a)!==r.customPathData||"image"===i&&X(o,"image")&&o.image!==r.customImagePath}function KM(n,t,e){var r=t?qh(n,t):n,i=t?Qm(n,r,Wr):n.style,a=n.type,o=r?r.textConfig:null,s=n.textContent,l=s?t?qh(s,t):s:null;if(i&&(e.isLegacy||BM(i,a,!!o,!!l))){e.isLegacy=!0;var u=VM(i,a,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}!t&&l&&!l.type&&(l.type="text");var h=t?e[t]:e.normal;h.cfg=o,h.conOpt=l}function qh(n,t){return t?n?n[t]:null:n}function Qm(n,t,e){var r=t&&t.style;return null==r&&e===Wr&&n&&(r=n.styleEmphasis),r}function T7(n,t,e){t&&Qh(t,Hr(n).option,e)}function eA(n,t){var e=n&&n.name;return null!=e?e:"e\0\0"+t}function tA(n,t){var e=this.context;Xm(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function D7(n){var t=this.context,e=t.oldChildren[n];e&&Qh(e,Hr(e).option,t.seriesModel)}function nA(n){return n&&(n.pathData||n.d)}var $a=Ce(),rA=se,Jm=$,I7=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,r,i){var a=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=r,i||this._lastValue!==a||this._lastStatus!==o){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||"hide"===o)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,t,e,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(t,e);if(s){var f=pe(iA,e,h);this.updatePointerEl(s,u,f),this.updateLabelEl(s,u,f,e)}else s=this._group=new ue,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),r.getZr().add(s);sA(s,e,!0),this._renderHandle(a)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var r=e.get("animation"),i=t.axis,a="category"===i.type,o=e.get("snap");if(!o&&!a)return!1;if("auto"===r||null==r){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=mg(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return!0===r},n.prototype.makeElOption=function(t,e,r,i,a){},n.prototype.createPointerEl=function(t,e,r,i){var a=e.pointer;if(a){var o=$a(t).pointerEl=new br[a.type](rA(e.pointer));t.add(o)}},n.prototype.createLabelEl=function(t,e,r,i){if(e.label){var a=$a(t).labelEl=new Me(rA(e.label));t.add(a),oA(a,i)}},n.prototype.updatePointerEl=function(t,e,r){var i=$a(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),r(i,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,r,i){var a=$a(t).labelEl;a&&(a.setStyle(e.label.style),r(a,{x:e.label.x,y:e.label.y}),oA(a,i))},n.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var s,e=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=e.getModel("handle"),o=e.get("status");if(!a.get("show")||!o||"hide"===o)return i&&r.remove(i),void(this._handle=null);this._handle||(s=!0,i=this._handle=ll(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Cr(u.event)},onmousedown:Jm(this._onHandleDragMove,this,0,0),drift:Jm(this._onHandleDragMove,this),ondragend:Jm(this._onHandleDragEnd,this)}),r.add(i)),sA(i,e,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");F(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Eo(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},n.prototype._moveHandleToValue=function(t,e){iA(this._axisPointerModel,!e&&this._moveAnimation,this._handle,qm(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(qm(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(qm(i)),$a(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),r=this._group,i=this._handle;e&&r&&(this._lastGraphicKey=null,r&&e.remove(r),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),cl(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,r){return{x:t[r=r||0],y:t[1-r],width:e[r],height:e[1-r]}},n}();function iA(n,t,e,r){aA($a(e).lastProp,r)||($a(e).lastProp=r,t?Ie(e,r,n):(e.stopAnimation(),e.attr(r)))}function aA(n,t){if(oe(n)&&oe(t)){var e=!0;return D(t,function(r,i){e=e&&aA(n[i],r)}),!!e}return n===t}function oA(n,t){n[t.get(["label","show"])?"show":"hide"]()}function qm(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function sA(n,t,e){var r=t.get("z"),i=t.get("zlevel");n&&n.traverse(function(a){"group"!==a.type&&(null!=r&&(a.z=r),null!=i&&(a.zlevel=i),a.silent=e)})}const jm=I7;function Km(n){var r,t=n.get("type"),e=n.getModel(t+"Style");return"line"===t?(r=e.getLineStyle()).fill=null:"shadow"===t&&((r=e.getAreaStyle()).stroke=null),r}function lA(n,t,e,r,i){var o=uA(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=To(s.get("padding")||0),u=s.getFont(),c=Ps(o,u),h=i.position,f=c.width+l[1]+l[3],v=c.height+l[0]+l[2],p=i.align;"right"===p&&(h[0]-=f),"center"===p&&(h[0]-=f/2);var g=i.verticalAlign;"bottom"===g&&(h[1]-=v),"middle"===g&&(h[1]-=v/2),function(n,t,e,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+t,i)-t,n[1]=Math.min(n[1]+e,a)-e,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}(h,f,v,r);var m=s.get("backgroundColor");(!m||"auto"===m)&&(m=t.get(["axisLine","lineStyle","color"])),n.label={x:h[0],y:h[1],style:Fe(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function uA(n,t,e,r,i){n=t.scale.parse(n);var a=t.scale.getLabel({value:n},{precision:i.precision}),o=i.formatter;if(o){var s={value:cg(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};D(r,function(l){var u=e.getSeriesByIndex(l.seriesIndex),h=u&&u.getDataParams(l.dataIndexInside);h&&s.seriesData.push(h)}),U(o)?a=o.replace("{value}",a):ee(o)&&(a=o(s))}return a}function ey(n,t,e){var r=[1,0,0,1,0,0];return Ei(r,r,e.rotation),jn(r,r,e.position),Vn([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],r)}function cA(n,t,e,r,i,a){var o=Vr.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),lA(t,r,i,a,{position:ey(r.axis,n,e),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function ty(n,t,e){return{x1:n[e=e||0],y1:n[1-e],x2:t[e],y2:t[1-e]}}function hA(n,t,e){return{x:n[e=e||0],y:n[1-e],width:t[e],height:t[1-e]}}function fA(n,t,e,r,i,a){return{cx:n,cy:t,r0:e,r,startAngle:i,endAngle:a,clockwise:!0}}var L7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.makeElOption=function(e,r,i,a,o){var s=i.axis,l=s.grid,u=a.get("type"),c=vA(l,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&"none"!==u){var f=Km(a),v=O7[u](s,h,c);v.style=f,e.graphicKey=v.type,e.pointer=v}cA(r,e,vg(l.model,i),i,a,o)},t.prototype.getHandleTransform=function(e,r,i){var a=vg(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=ey(r.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=vA(s,o).getOtherAxis(o).getGlobalExtent(),c="x"===o.dim?0:1,h=[e.x,e.y];h[c]+=r[c],h[c]=Math.min(l[1],h[c]),h[c]=Math.max(l[0],h[c]);var f=(u[1]+u[0])/2,v=[f,f];return v[c]=h[c],{x:h[0],y:h[1],rotation:e.rotation,cursorPoint:v,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][c]}},t}(jm);function vA(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var O7={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:ty([t,e[0]],[t,e[1]],pA(n))}},shadow:function(n,t,e){var r=Math.max(1,n.getBandWidth());return{type:"Rect",shape:hA([t-r/2,e[0]],[r,e[1]-e[0]],pA(n))}}};function pA(n){return"x"===n.dim?0:1}const R7=L7;var N7=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Ae);const k7=N7;var Yr=Ce(),E7=D;function dA(n,t,e){if(!ze.node){var r=t.getZr();Yr(r).records||(Yr(r).records={}),function(n,t){function e(r,i){n.on(r,function(a){var o=function(n){var t={showTip:[],hideTip:[]},e=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=e,n.dispatchAction(r))};return{dispatchAction:e,pendings:t}}(t);E7(Yr(n).records,function(s){s&&i(s,a,o.dispatchAction)}),function(n,t){var i,e=n.showTip.length,r=n.hideTip.length;e?i=n.showTip[e-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}(o.pendings,t)})}Yr(n).initialized||(Yr(n).initialized=!0,e("click",pe(gA,"click")),e("mousemove",pe(gA,"mousemove")),e("globalout",F7))}(r,t),(Yr(r).records[n]||(Yr(r).records[n]={})).handler=e}}function F7(n,t,e){n.handler("leave",null,e)}function gA(n,t,e,r){t.handler(n,e,r)}function ny(n,t){if(!ze.node){var e=t.getZr();(Yr(e).records||{})[n]&&(Yr(e).records[n]=null)}}var H7=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){var a=r.getComponent("tooltip"),o=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";dA("axisPointer",i,function(s,l,u){"none"!==o&&("leave"===s||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,r){ny("axisPointer",r)},t.prototype.dispose=function(e,r){ny("axisPointer",r)},t.type="axisPointer",t}(je);const W7=H7;function mA(n,t){var i,e=[],r=n.seriesIndex;if(null==r||!(i=t.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=$i(a,n);if(null==o||o<0||F(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,v="x"===h||"radius"===h?1:0,p=a.mapDimension(u.dim),g=[];g[v]=a.get(p,o),g[1-v]=a.get(a.getCalculationInfo("stackResultDimension"),o),e=l.dataToPoint(g)||[]}else e=l.dataToPoint(a.getValues(G(l.dimensions,function(y){return a.mapDimension(y)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),e=[m.x+m.width/2,m.y+m.height/2]}return{point:e,el:s}}var yA=Ce();function Y7(n,t,e){var r=n.currTrigger,i=[n.x,n.y],a=n,o=n.dispatchAction||$(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){jh(i)&&(i=mA({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=jh(i),u=a.axesInfo,c=s.axesInfo,h="leave"===r||jh(i),f={},v={},p={list:[],map:{}},g={showPointer:pe(U7,v),showTooltip:pe($7,p)};D(s.coordSysMap,function(y,_){var S=l||y.containPoint(i);D(s.coordSysAxesInfo[_],function(x,b){var w=x.axis,C=function(n,t){for(var e=0;e<(n||[]).length;e++){var r=n[e];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}(u,x);if(!h&&S&&(!u||C)){var T=C&&C.value;null==T&&!l&&(T=w.pointToData(i)),null!=T&&_A(x,T,g,!1,f)}})});var m={};return D(c,function(y,_){var S=y.linkGroup;S&&!v[_]&&D(S.axesInfo,function(x,b){var w=v[b];if(x!==y&&w){var C=w.value;S.mapper&&(C=y.axis.scale.parse(S.mapper(C,SA(x),SA(y)))),m[y.key]=C}})}),D(m,function(y,_){_A(c[_],y,g,!0,f)}),function(n,t,e){var r=e.axesInfo=[];D(t,function(i,a){var o=i.axisPointerModel.option,s=n[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),"show"===o.status&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}(v,c,f),function(n,t,e,r){if(!jh(t)&&n.list.length){var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}else r({type:"hideTip"})}(p,i,n,o),function(n,t,e){var r=e.getZr(),i="axisPointerLastHighlights",a=yA(r)[i]||{},o=yA(r)[i]={};D(n,function(u,c){var h=u.axisPointerModel.option;"show"===h.status&&u.triggerEmphasis&&D(h.seriesDataIndices,function(f){o[f.seriesIndex+" | "+f.dataIndex]=f})});var s=[],l=[];D(a,function(u,c){!o[c]&&l.push(u)}),D(o,function(u,c){!a[c]&&s.push(u)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(c,0,e),f}}function _A(n,t,e,r,i){var a=n.axis;if(!a.scale.isBlank()&&a.containData(t)){if(!n.involveSeries)return void e.showPointer(n,t);var o=function(n,t){var e=t.axis,r=e.dim,i=n,a=[],o=Number.MAX_VALUE,s=-1;return D(t.seriesModels,function(l,u){var h,f,c=l.getData().mapDimensionsAll(r);if(l.getAxisTooltipData){var v=l.getAxisTooltipData(c,n,e);f=v.dataIndices,h=v.nestestValue}else{if(!(f=l.getData().indicesOfNearest(c[0],n,"category"===e.type?.5:null)).length)return;h=l.getData().get(c[0],f[0])}if(null!=h&&isFinite(h)){var p=n-h,g=Math.abs(p);g<=o&&((g<o||p>=0&&s<0)&&(o=g,s=p,i=h,a.length=0),D(f,function(m){a.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}(t,n),s=o.payloadBatch,l=o.snapToValue;s[0]&&null==i.seriesIndex&&V(i,s[0]),!r&&n.snap&&a.containData(l)&&null!=l&&(t=l),e.showPointer(n,t,s),e.showTooltip(n,o,l)}}function U7(n,t,e,r){n[t.key]={value:e,payloadBatch:r}}function $7(n,t,e,r){var i=e.payloadBatch,a=t.axis,o=a.model,s=t.axisPointerModel;if(t.triggerTooltip&&i.length){var l=t.coordSys.model,u=El(l),c=n.map[u];c||(c=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function SA(n){var t=n.axis.model,e={},r=e.axisDim=n.axis.dim;return e.axisIndex=e[r+"AxisIndex"]=t.componentIndex,e.axisName=e[r+"AxisName"]=t.name,e.axisId=e[r+"AxisId"]=t.id,e}function jh(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function tu(n){ka.registerAxisPointerClass("CartesianAxisPointer",R7),n.registerComponentModel(k7),n.registerComponentView(W7),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!F(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function(n,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(n,t,e){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];D(e.getCoordinateSystems(),function(s){if(s.axisPointerEnabled){var l=El(s.model),u=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var h=s.model.getModel("tooltip",r);if(D(s.getAxes(),pe(g,!1,null)),s.getTooltipAxes&&r&&h.get("show")){var f="axis"===h.get("trigger"),v="cross"===h.get(["axisPointer","type"]),p=s.getTooltipAxes(h.get(["axisPointer","axis"]));(f||v)&&D(p.baseAxes,pe(g,!v||"cross",f)),v&&D(p.otherAxes,pe(g,"cross",!1))}}function g(m,y,_){var S=_.model.getModel("axisPointer",i),x=S.get("show");if(x&&("auto"!==x||m||yg(S))){null==y&&(y=S.get("triggerTooltip")),S=m?function(n,t,e,r,i,a){var o=t.getModel("axisPointer"),l={};D(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(f){l[f]=se(o.get(f))}),l.snap="category"!==n.type&&!!a,"cross"===o.get("type")&&(l.type="line");var u=l.label||(l.label={});if(null==u.show&&(u.show=!1),"cross"===i){var c=o.get(["label","show"]);if(u.show=null==c||c,!a){var h=l.lineStyle=o.get("crossStyle");h&&re(u,h.textStyle)}}return n.model.getModel("axisPointer",new Ge(l,e,r))}(_,h,i,t,m,y):S;var b=S.get("snap"),w=S.get("triggerEmphasis"),C=El(_.model),T=y||b||"category"===_.type,z=n.axesInfo[C]={key:C,axis:_,coordSys:s,axisPointerModel:S,triggerTooltip:y,triggerEmphasis:w,involveSeries:T,snap:b,useHandle:yg(S),seriesModels:[],linkGroup:null};u[C]=z,n.seriesInvolved=n.seriesInvolved||T;var M=function(n,t){for(var e=t.model,r=t.dim,i=0;i<n.length;i++){var a=n[i]||{};if(gg(a[r+"AxisId"],e.id)||gg(a[r+"AxisIndex"],e.componentIndex)||gg(a[r+"AxisName"],e.name))return i}}(a,_);if(null!=M){var A=o[M]||(o[M]={axesInfo:{}});A.axesInfo[C]=z,A.mapper=a[M].mapper,z.linkGroup=A}}}})}(e,n,t),e.seriesInvolved&&function(n,t){t.eachSeries(function(e){var r=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!r||"none"===i||!1===i||"item"===i||!1===a||!1===e.get(["axisPointer","show"],!0)||D(n.coordSysAxesInfo[El(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(e),null==o.seriesDataCount&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}(e,n),e}(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Y7)}var K7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.makeElOption=function(e,r,i,a,o){var s=i.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var l=s.polar,c=l.getOtherAxis(s).getExtent(),h=s.dataToCoord(r),f=a.get("type");if(f&&"none"!==f){var v=Km(a),p=t8[f](s,l,h,c);p.style=v,e.graphicKey=p.type,e.pointer=p}var m=function(n,t,e,r,i){var a=t.axis,o=a.dataToCoord(n),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u,c,h,l=r.getRadiusAxis().getExtent();if("radius"===a.dim){var f=[1,0,0,1,0,0];Ei(f,f,s),jn(f,f,[r.cx,r.cy]),u=Vn([o,-i],f);var v=t.getModel("axisLabel").get("rotate")||0,p=Vr.innerTextLayout(s,v*Math.PI/180,-1);c=p.textAlign,h=p.textVerticalAlign}else{var g=l[1];u=r.coordToPoint([g+i,o]);var m=r.cx,y=r.cy;c=Math.abs(u[0]-m)/g<.3?"center":u[0]>m?"left":"right",h=Math.abs(u[1]-y)/g<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:c,verticalAlign:h}}(r,i,0,l,a.get(["label","margin"]));lA(e,i,a,o,m)},t}(jm),t8={line:function(n,t,e,r){return"angle"===n.dim?{type:"Line",shape:ty(t.coordToPoint([r[0],e]),t.coordToPoint([r[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,r){var i=Math.max(1,n.getBandWidth()),a=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:fA(t.cx,t.cy,r[0],r[1],(-e-i/2)*a,(i/2-e)*a)}:{type:"Sector",shape:fA(t.cx,t.cy,e-i/2,e+i/2,0,2*Math.PI)}}};const n8=K7;var r8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.findAxisModel=function(e){var r;return this.ecModel.eachComponent(e,function(a){a.getCoordSysModel()===this&&(r=a)},this),r},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Ae);const i8=r8;var ry=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",it).models[0]},t.type="polarAxis",t}(Ae);rt(ry,Rl);var a8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="angleAxis",t}(ry),o8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="radiusAxis",t}(ry),iy=function(n){function t(e,r){return n.call(this,"radius",e,r)||this}return E(t,n),t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)["radius"===this.dim?0:1]},t}(Yn);iy.prototype.dataToRadius=Yn.prototype.dataToCoord,iy.prototype.radiusToData=Yn.prototype.coordToData;const s8=iy;var l8=Ce(),ay=function(n){function t(e,r){return n.call(this,"angle",e,r||[0,360])||this}return E(t,n),t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,r=e.getLabelModel(),i=e.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),c=Ps(null==s?"":s+"",r.getFont(),"center","top"),f=Math.max(c.height,7)/u;isNaN(f)&&(f=1/0);var v=Math.max(0,Math.floor(f)),p=l8(e.model),g=p.lastAutoInterval,m=p.lastTickCount;return null!=g&&null!=m&&Math.abs(g-v)<=1&&Math.abs(m-o)<=1&&g>v?v=g:(p.lastTickCount=o,p.lastAutoInterval=v),v},t}(Yn);ay.prototype.dataToAngle=Yn.prototype.dataToCoord,ay.prototype.angleToData=Yn.prototype.coordToData;const u8=ay;var xA=["radius","angle"],c8=function(){function n(t){this.dimensions=xA,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new s8,this._angleAxis=new u8,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){return this["_"+t+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===t&&e.push(r),i.scale.type===t&&e.push(i),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var l=Math.sqrt(e*e+r*r);e/=l,r/=l;for(var u=Math.atan2(-r,e)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=360*c;return[l,u]},n.prototype.coordToPoint=function(t){var e=t[0],r=t[1]/180*Math.PI;return[Math.cos(r)*e+this.cx,-Math.sin(r)*e+this.cy]},n.prototype.getArea=function(){var t=this.getAngleAxis(),r=this.getRadiusAxis().getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,h=u*u+c*c,f=this.r,v=this.r0;return f!==v&&h-o<=f*f&&h+o>=v*v}}},n.prototype.convertToPixel=function(t,e,r){return bA(e)===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){return bA(e)===this?this.pointToData(r):null},n}();function bA(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}const h8=c8;function v8(n,t){var e=this,r=e.getAngleAxis(),i=e.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();D(zh(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),D(zh(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Qo(r.scale,r.model),Qo(i.scale,i.model),"category"===r.type&&!r.onBand){var a=r.getExtent(),o=360/r.scale.count();r.inverse?a[1]+=o:a[1]-=o,r.setExtent(a[0],a[1])}}function wA(n,t){var e;if(n.type=t.get("type"),n.scale=Th(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),function(n){return"angleAxis"===n.mainType}(t)){n.inverse=n.inverse!==t.get("clockwise");var r=t.get("startAngle"),i=null!==(e=t.get("endAngle"))&&void 0!==e?e:r+(n.inverse?-360:360);n.setExtent(r,i)}t.axis=n,n.model=t}var d8={dimensions:xA,create:function(n,t){var e=[];return n.eachComponent("polar",function(r,i){var a=new h8(i+"");a.update=v8;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");wA(o,l),wA(s,u),function(n,t,e){var r=t.get("center"),i=e.getWidth(),a=e.getHeight();n.cx=Y(r[0],i),n.cy=Y(r[1],a);var o=n.getRadiusAxis(),s=Math.min(i,a)/2,l=t.get("radius");null==l?l=[0,"100%"]:F(l)||(l=[0,l]);var u=[Y(l[0],s),Y(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}(a,r,t),e.push(a),r.coordinateSystem=a,a.model=r}),n.eachSeries(function(r){if("polar"===r.get("coordinateSystem")){var i=r.getReferringComponents("polar",it).models[0];r.coordinateSystem=i.coordinateSystem}}),e}};const g8=d8;var m8=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Kh(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var r=n.coordToPoint([t[0],e]),i=n.coordToPoint([t[1],e]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function ef(n){return n.getRadiusAxis().inverse?0:1}function CA(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var y8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return E(t,n),t.prototype.render=function(e,r){if(this.group.removeAll(),e.get("show")){var i=e.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=G(i.getViewLabels(),function(c){c=se(c);var h=i.scale,f="ordinal"===h.type?h.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(f),c});CA(u),CA(s),D(m8,function(c){e.get([c,"show"])&&(!i.scale.isBlank()||"axisLine"===c)&&_8[c](this.group,e,a,s,l,o,u)},this)}},t.type="angleAxis",t}(ka),_8={axisLine:function(n,t,e,r,i,a){var f,o=t.getModel(["axisLine","lineStyle"]),s=e.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=ef(e),h=c?0:1,v=360===Math.abs(u[1]-u[0])?"Circle":"Arc";(f=0===a[h]?new br[v]({shape:{cx:e.cx,cy:e.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):new Pc({shape:{cx:e.cx,cy:e.cy,r:a[c],r0:a[h]},style:o.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(f)},axisTick:function(n,t,e,r,i,a){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[ef(e)],u=G(r,function(c){return new yt({shape:Kh(e,[l,l+s],c.coord)})});n.add(xn(u,{style:re(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,r,i,a){if(i.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=a[ef(e)],c=[],h=0;h<i.length;h++)for(var f=0;f<i[h].length;f++)c.push(new yt({shape:Kh(e,[u,u+l],i[h][f].coord)}));n.add(xn(c,{style:re(s.getModel("lineStyle").getLineStyle(),re(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,r,i,a,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");D(o,function(h,f){var v=l,p=h.tickValue,g=a[ef(e)],m=e.coordToPoint([g+u,h.coord]),y=e.cx,_=e.cy,S=Math.abs(m[0]-y)/g<.3?"center":m[0]>y?"left":"right",x=Math.abs(m[1]-_)/g<.3?"middle":m[1]>_?"top":"bottom";if(s&&s[p]){var b=s[p];oe(b)&&b.textStyle&&(v=new Ge(b.textStyle,l,l.ecModel))}var w=new Me({silent:Vr.isLabelSilent(t),style:Fe(v,{x:m[0],y:m[1],fill:v.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:S,verticalAlign:x})});if(n.add(w),c){var C=Vr.makeAxisEventDataBase(t);C.targetType="axisLabel",C.value=h.rawLabel,ce(w).eventData=C}},this)},splitLine:function(n,t,e,r,i,a){var s=t.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=0;h<r.length;h++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new yt({shape:Kh(e,a,r[h].coord)}))}for(h=0;h<c.length;h++)n.add(xn(c[h],{style:re({stroke:l[h%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,r,i,a){if(i.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new yt({shape:Kh(e,a,i[u][c].coord)}));n.add(xn(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,r,i,a){if(r.length){var s=t.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=Math.PI/180,f=-r[0].coord*h,v=Math.min(a[0],a[1]),p=Math.max(a[0],a[1]),g=t.get("clockwise"),m=1,y=r.length;m<=y;m++){var _=m===y?r[0].coord:r[m].coord,S=u++%l.length;c[S]=c[S]||[],c[S].push(new Ut({shape:{cx:e.cx,cy:e.cy,r0:v,r:p,startAngle:f,endAngle:-_*h,clockwise:g},silent:!0})),f=-_*h}for(m=0;m<c.length;m++)n.add(xn(c[m],{style:re({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}}};const S8=y8;var x8=["axisLine","axisTickLabel","axisName"],b8=["splitLine","splitArea","minorSplitLine"],w8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return E(t,n),t.prototype.render=function(e,r){if(this.group.removeAll(),e.get("show")){var i=this._axisGroup,a=this._axisGroup=new ue;this.group.add(a);var o=e.axis,s=o.polar,l=s.getAngleAxis(),u=o.getTicksCoords(),c=o.getMinorTicksCoords(),h=l.getExtent()[0],f=o.getExtent(),v=function(n,t,e){return{position:[n.cx,n.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(s,e,h),p=new Vr(e,v);D(x8,p.add,p),a.add(p.getGroup()),sl(i,a,e),D(b8,function(g){e.get([g,"show"])&&!o.scale.isBlank()&&C8[g](this.group,e,s,h,f,u,c)},this)}},t.type="radiusAxis",t}(ka),C8={splitLine:function(n,t,e,r,i,a){var s=t.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0,c=e.getAngleAxis(),h=Math.PI/180,f=c.getExtent(),v=360===Math.abs(f[1]-f[0])?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],g=0;g<a.length;g++){var m=u++%l.length;p[m]=p[m]||[],p[m].push(new br[v]({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[g].coord,0),startAngle:-f[0]*h,endAngle:-f[1]*h,clockwise:c.inverse}}))}for(g=0;g<p.length;g++)n.add(xn(p[g],{style:re({stroke:l[g%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,r,i,a,o){if(o.length){for(var l=t.getModel("minorSplitLine").getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var h=0;h<o[c].length;h++)u.push(new hi({shape:{cx:e.cx,cy:e.cy,r:o[c][h].coord}}));n.add(xn(u,{style:re({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,r,i,a){if(a.length){var s=t.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=a[0].coord,f=1;f<a.length;f++){var v=u++%l.length;c[v]=c[v]||[],c[v].push(new Ut({shape:{cx:e.cx,cy:e.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=a[f].coord}for(f=0;f<c.length;f++)n.add(xn(c[f],{style:re({fill:l[f%l.length]},s.getAreaStyle()),silent:!0}))}}};const z8=w8;function TA(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function zA(n,t){return t.dim+n.model.componentIndex}const A8=function(n,t,e){var r={},i=function(n){var t={};D(n,function(r,i){var a=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=zA(o,s),u=s.getExtent(),c="category"===s.type?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),h=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;t[l]=h;var v=TA(r);f[v]||h.autoWidthCount++,f[v]=f[v]||{width:0,maxWidth:0};var p=Y(r.get("barWidth"),c),g=Y(r.get("barMaxWidth"),c),m=r.get("barGap"),y=r.get("barCategoryGap");p&&!f[v].width&&(p=Math.min(h.remainedWidth,p),f[v].width=p,h.remainedWidth-=p),g&&(f[v].maxWidth=g),null!=m&&(h.gap=m),null!=y&&(h.categoryGap=y)});var e={};return D(t,function(r,i){e[i]={};var a=r.stacks,s=Y(r.categoryGap,r.bandWidth),l=Y(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,h=(u-s)/(c+(c-1)*l);h=Math.max(h,0),D(a,function(g,m){var y=g.maxWidth;y&&y<h&&(y=Math.min(y,u),g.width&&(y=Math.min(y,g.width)),u-=y,g.width=y,c--)}),h=(u-s)/(c+(c-1)*l),h=Math.max(h,0);var v,f=0;D(a,function(g,m){g.width||(g.width=h),v=g,f+=g.width*(1+l)}),v&&(f-=v.width*l);var p=-f/2;D(a,function(g,m){e[i][m]=e[i][m]||{offset:p,width:g.width},p+=g.width*(1+l)})}),e}(Pe(t.getSeriesByType(n),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));t.eachSeriesByType(n,function(a){if("polar"===a.coordinateSystem.type){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=zA(s,l),c=TA(a),h=i[u][c],f=h.offset,v=h.width,p=s.getOtherAxis(l),g=a.coordinateSystem.cx,m=a.coordinateSystem.cy,y=a.get("barMinHeight")||0,_=a.get("barMinAngle")||0;r[c]=r[c]||[];for(var S=o.mapDimension(p.dim),x=o.mapDimension(l.dim),b=di(o,S),w="radius"!==l.dim||!a.get("roundCap",!0),T=p.model.get("startValue"),z=p.dataToCoord(T||0),M=0,A=o.count();M<A;M++){var I=o.get(S,M),P=o.get(x,M),L=I>=0?"p":"n",O=z;b&&(r[c][P]||(r[c][P]={p:z,n:z}),O=r[c][P][L]);var R=void 0,k=void 0,N=void 0,B=void 0;if("radius"===p.dim){var H=p.dataToCoord(I)-z,W=l.dataToCoord(P);Math.abs(H)<y&&(H=(H<0?-1:1)*y),R=O,k=O+H,B=(N=W-f)-v,b&&(r[c][P][L]=k)}else{var Z=p.dataToCoord(I,w)-z,K=l.dataToCoord(P);Math.abs(Z)<_&&(Z=(Z<0?-1:1)*_),k=(R=K+f)+v,N=O,B=O+Z,b&&(r[c][P][L]=B)}o.setItemLayout(M,{cx:g,cy:m,r0:R,r:k,startAngle:-N*Math.PI/180,endAngle:-B*Math.PI/180,clockwise:N>=B})}}})};var I8={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},P8={splitNumber:5},L8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="polar",t}(je);function oy(n,t){t=t||{};var r=n.axis,i={},a=r.position,o=r.orient,s=n.coordinateSystem.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=["vertical"===o?u.vertical[a]:l[0],"horizontal"===o?u.horizontal[a]:l[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[o],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],n.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),gt(t.labelInside,n.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var f=t.rotate;return null==f&&(f=n.get(["axisLabel","rotate"])),i.labelRotation="top"===a?-f:f,i.z2=1,i}var R8=["axisLine","axisTickLabel","axisName"],N8=["splitArea","splitLine"],k8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return E(t,n),t.prototype.render=function(e,r,i,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new ue;var l=oy(e),u=new Vr(e,l);D(R8,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),D(N8,function(c){e.get([c,"show"])&&E8[c](this,this.group,this._axisGroup,e)},this),sl(s,this._axisGroup,e),n.prototype.render.call(this,e,r,i,a)},t.prototype.remove=function(){VT(this)},t.type="singleAxis",t}(ka),E8={splitLine:function(n,t,e,r){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),u=r.coordinateSystem.getRect(),c=i.isHorizontal(),h=[],f=0,v=i.getTicksCoords({tickModel:a}),p=[],g=[],m=0;m<v.length;++m){var y=i.toGlobalCoord(v[m].coord);c?(p[0]=y,p[1]=u.y,g[0]=y,g[1]=u.y+u.height):(p[0]=u.x,p[1]=y,g[0]=u.x+u.width,g[1]=y);var _=new yt({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:!0});ko(_.shape,l);var S=f++%s.length;h[S]=h[S]||[],h[S].push(_)}var x=o.getLineStyle(["color"]);for(m=0;m<h.length;++m)t.add(xn(h[m],{style:re({stroke:s[m%s.length]},x),silent:!0}))}},splitArea:function(n,t,e,r){BT(n,e,r,r)}};const B8=k8;var DA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Ae);rt(DA,Rl.prototype);const sy=DA;var V8=function(n){function t(e,r,i,a,o){var s=n.call(this,e,r,i)||this;return s.type=a||"value",s.position=o||"bottom",s}return E(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,r){return this.coordinateSystem.pointToData(e)[0]},t}(Yn);const F8=V8;var MA=["single"],G8=function(){function n(t,e,r){this.type="single",this.dimension="single",this.dimensions=MA,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,r)}return n.prototype._init=function(t,e,r){var a=new F8(this.dimension,Th(t),[0,0],t.get("type"),t.get("position"));a.onBand="category"===a.type&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(t,e){t.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();D(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Qo(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=lt({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,r=e.isHorizontal(),i=r?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,r?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var r=t.getExtent(),i=r[0]+r[1],a=t.isHorizontal();t.toGlobalCoord=a?function(o){return o+e}:function(o){return i-o+e},t.toLocalCoord=a?function(o){return o-e}:function(o){return i-o+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),r=this.getAxis();return"horizontal"===r.orient?r.contain(r.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:r.contain(r.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),r=this.getRect(),i=[],a="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[a]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-a]=0===a?r.y+r.height/2:r.x+r.width/2,i},n.prototype.convertToPixel=function(t,e,r){return AA(e)===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){return AA(e)===this?this.pointToData(r):null},n}();function AA(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}const H8=G8;var Y8={create:function(n,t){var e=[];return n.eachComponent("singleAxis",function(r,i){var a=new H8(r,n,t);a.name="single_"+i,a.resize(r,t),r.coordinateSystem=a,e.push(a)}),n.eachSeries(function(r){if("singleAxis"===r.get("coordinateSystem")){var i=r.getReferringComponents("singleAxis",it).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),e},dimensions:MA};const Z8=Y8;var IA=["x","y"],U8=["width","height"],$8=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.makeElOption=function(e,r,i,a,o){var s=i.axis,l=s.coordinateSystem,u=ly(l,1-tf(s)),c=l.dataToPoint(r)[0],h=a.get("type");if(h&&"none"!==h){var f=Km(a),v=X8[h](s,c,u);v.style=f,e.graphicKey=v.type,e.pointer=v}cA(r,e,oy(i),i,a,o)},t.prototype.getHandleTransform=function(e,r,i){var a=oy(r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=ey(r.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,i,a){var o=i.axis,s=o.coordinateSystem,l=tf(o),u=ly(s,l),c=[e.x,e.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var h=ly(s,1-l),f=(h[1]+h[0])/2,v=[f,f];return v[l]=c[l],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:v,tooltipOption:{verticalAlign:"middle"}}},t}(jm),X8={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:ty([t,e[0]],[t,e[1]],tf(n))}},shadow:function(n,t,e){var r=n.getBandWidth();return{type:"Rect",shape:hA([t-r/2,e[0]],[r,e[1]-e[0]],tf(n))}}};function tf(n){return n.isHorizontal()?0:1}function ly(n,t){var e=n.getRect();return[e[IA[t]],e[IA[t]]+e[U8[t]]]}const Q8=$8;var J8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="single",t}(je),j8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e,r,i){var a=zo(e);n.prototype.init.apply(this,arguments),PA(e,a)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),PA(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Ae);function PA(n,t){var r,e=n.cellSize;1===(r=F(e)?e:n.cellSize=[e,e]).length&&(r[1]=r[0]);var i=G([0,1],function(a){return function(n,t){return null!=n[ca[t][0]]||null!=n[ca[t][1]]&&null!=n[ca[t][2]]}(t,a)&&(r[a]="auto"),null!=r[a]&&"auto"!==r[a]});li(n,t,{type:"box",ignoreSize:i})}const K8=j8;var eU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){var a=this.group;a.removeAll();var o=e.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(e,s,a),this._renderLines(e,s,l,a),this._renderYearText(e,s,l,a),this._renderMonthText(e,u,l,a),this._renderWeekText(e,u,s,l,a)},t.prototype._renderDayRect=function(e,r,i){for(var a=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=r.start.time;u<=r.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToRect([u],!1).tl,h=new Te({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});i.add(h)}},t.prototype._renderLines=function(e,r,i,a){var o=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=r.start,f=0;h.time<=r.end.time;f++){p(h.formatedDate),0===f&&(h=s.getDateInfo(r.start.y+"-"+r.start.m));var v=h.date;v.setMonth(v.getMonth()+1),h=s.getDateInfo(v)}function p(g){o._firstDayOfMonth.push(s.getDateInfo(g)),o._firstDayPoints.push(s.dataToRect([g],!1).tl);var m=o._getLinePointsOfOneWeek(e,g,i);o._tlpoints.push(m[0]),o._blpoints.push(m[m.length-1]),u&&o._drawSplitline(m,l,a)}p(s.getNextNDay(r.end.time,1).formatedDate),u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,i),l,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,i),l,a)},t.prototype._getEdgesPoints=function(e,r,i){var a=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===i?0:1;return a[0][o]=a[0][o]-r/2,a[1][o]=a[1][o]+r/2,a},t.prototype._drawSplitline=function(e,r,i){var a=new Xt({z2:20,shape:{points:e},style:r});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,r,i){for(var a=e.coordinateSystem,o=a.getDateInfo(r),s=[],l=0;l<7;l++){var u=a.getNextNDay(o.time,l),c=a.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c["horizontal"===i?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,r){return U(e)&&e?function(n,t,e){return D(t,function(r,i){n=n.replace("{"+i+"}",r)}),n}(e,r):ee(e)?e(r):r.nameMap},t.prototype._yearTextPositionControl=function(e,r,i,a,o){var s=r[0],l=r[1],u=["center","bottom"];"bottom"===a?(l+=o,u=["center","top"]):"left"===a?s-=o:"right"===a?(s+=o,u=["center","top"]):l-=o;var c=0;return("left"===a||"right"===a)&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,r,i,a){var o=e.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l="horizontal"!==i?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,h=(u[0][1]+u[1][1])/2,f="horizontal"===i?0:1,v={top:[c,u[f][1]],bottom:[c,u[1-f][1]],left:[u[1-f][0],h],right:[u[f][0],h]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var g=o.get("formatter"),y=this._formatterLabel(g,{start:r.start.y,end:r.end.y,nameMap:p}),_=new Me({z2:30,style:Fe(o,{text:y}),silent:o.get("silent")});_.attr(this._yearTextPositionControl(_,v[l],i,l,s)),a.add(_)}},t.prototype._monthTextPositionControl=function(e,r,i,a,o){var s="left",l="top",u=e[0],c=e[1];return"horizontal"===i?(c+=o,r&&(s="center"),"start"===a&&(l="bottom")):(u+=o,r&&(l="middle"),"start"===a&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,r,i,a){var o=e.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),h=[this._tlpoints,this._blpoints];(!s||U(s))&&(s&&(r=_p(s)||r),s=r.get(["time","monthAbbr"])||[]);var f="start"===u?0:1,v="horizontal"===i?0:1;l="start"===u?-l:l;for(var p="center"===c,g=o.get("silent"),m=0;m<h[f].length-1;m++){var y=h[f][m].slice(),_=this._firstDayOfMonth[m];p&&(y[v]=(this._firstDayPoints[m][v]+h[0][m+1][v])/2);var x=o.get("formatter"),b=s[+_.m-1],w={yyyy:_.y,yy:(_.y+"").slice(2),MM:_.m,M:+_.m,nameMap:b},C=this._formatterLabel(x,w),T=new Me({z2:30,style:V(Fe(o,{text:C}),this._monthTextPositionControl(y,p,i,u,l)),silent:g});a.add(T)}}},t.prototype._weekTextPositionControl=function(e,r,i,a,o){var s="center",l="middle",u=e[0],c=e[1],h="start"===i;return"horizontal"===r?(u=u+a+(h?1:-1)*o[0]/2,s=h?"right":"left"):(c=c+a+(h?1:-1)*o[1]/2,l=h?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,r,i,a,o){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),h=s.get("margin"),f=l.getFirstDayOfWeek();c&&!U(c)||(c&&(r=_p(c)||r),c=r.get(["time","dayOfWeekShort"])||G(r.get(["time","dayOfWeekAbbr"]),function(w){return w[0]}));var p=l.getNextNDay(i.end.time,7-i.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];h=Y(h,Math.min(g[1],g[0])),"start"===u&&(p=l.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var m=s.get("silent"),y=0;y<7;y++){var x,_=l.getNextNDay(p,y),S=l.dataToRect([_.time],!1).center;x=Math.abs((y+f)%7);var b=new Me({z2:30,style:V(Fe(s,{text:c[x]}),this._weekTextPositionControl(S,a,u,h,g)),silent:m});o.add(b)}}},t.type="calendar",t}(je);const tU=eU;var uy=864e5,nU=function(){function n(t,e,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){var e=(t=rr(t)).getFullYear(),r=t.getMonth()+1,i=r<10?"0"+r:""+r,a=t.getDate(),o=a<10?"0"+a:""+a,s=t.getDay();return{y:e+"",m:i,d:o,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},n.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[r,7]:[7,r];D([0,1],function(h){c(a,h)&&(o[i[h]]=a[h]*s[h])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=lt(o,l);function c(h,f){return null!=h[f]&&"auto"!==h[f]}D([0,1],function(h){c(a,h)||(a[h]=u[i[h]]/s[h])}),this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(t,e){F(t)&&(t=t[0]),null==e&&(e=!0);var r=this.getDateInfo(t),i=this._rangeInfo;if(e&&!(r.time>=i.start.time&&r.time<i.end.time+uy))return[NaN,NaN];var o=r.day,s=this._getRangeInfo([i.start.time,r.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(r,e-1,i):this._getDateByWeeksAndDay(e,r-1,i)},n.prototype.convertToPixel=function(t,e,r){var i=LA(e);return i===this?i.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){var i=LA(e);return i===this?i.pointToData(r):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(F(t)&&1===t.length&&(t=t[0]),F(t))e=t;else{var r=t.toString();if(/^\d{4}$/.test(r)&&(e=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);e=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(e=[r,r])}if(!e)return t;var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},n.prototype._getRangeInfo=function(t){var r,e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];e[0].time>e[1].time&&(r=!0,e.reverse());var i=Math.floor(e[1].time/uy)-Math.floor(e[0].time/uy)+1,a=new Date(e[0].time),o=a.getDate(),s=e[1].date.getDate();a.setDate(o+i-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-e[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-e[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+e[0].day+6)/7),h=r?1-c:c-1;return r&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:c,nthWeek:h,fweek:e[0].day,lweek:e[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,r){var i=this._getRangeInfo(r);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=7*(t-1)-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},n.create=function(t,e){var r=[];return t.eachComponent("calendar",function(i){var a=new n(i,t,e);r.push(a),i.coordinateSystem=a}),t.eachSeries(function(i){"calendar"===i.get("coordinateSystem")&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n}();function LA(n){var t=n.calendarModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}const rU=nU;function OA(n,t){var e;return D(t,function(r){null!=n[r]&&"auto"!==n[r]&&(e=!0)}),e}var RA=["transition","enterFrom","leaveTo"],sU=RA.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function nf(n,t,e){if(e&&(!n[e]&&t[e]&&(n[e]={}),n=n[e],t=t[e]),n&&t)for(var r=e?RA:sU,i=0;i<r.length;i++){var a=r[i];null==n[a]&&null!=t[a]&&(n[a]=t[a])}}var uU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return E(t,n),t.prototype.mergeOption=function(e,r){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,r),this.option.elements=i},t.prototype.optionUpdated=function(e,r){var i=this.option,a=(r?i:e).elements,o=i.elements=r?[]:i.elements,s=[];this._flatten(a,s,null);var l=Z_(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];D(l,function(c,h){var f=c.newOption;!f||(u.push(f),function(n,t){var e=n.existing;if(t.id=n.keyInfo.id,!t.type&&e&&(t.type=e.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:e&&(t.parentId=e.parentId)}t.parentOption=null}(c,f),function(n,t,e){var r=V({},e),i=n[t],a=e.$action||"merge";"merge"===a?i?(de(i,r,!0),li(i,r,{ignoreSize:!0}),S1(e,i),nf(e,i),nf(e,i,"shape"),nf(e,i,"style"),nf(e,i,"extra"),e.clipPath=i.clipPath):n[t]=r:"replace"===a?n[t]=r:"remove"===a&&i&&(n[t]=null)}(o,h,f),function(n,t){if(n&&(n.hv=t.hv=[OA(t,["left","right"]),OA(t,["top","bottom"])],"group"===n.type)){var e=n,r=t;null==e.width&&(e.width=r.width=0),null==e.height&&(e.height=r.height=0)}}(o[h],f))},this),i.elements=Pe(o,function(c){return c&&delete c.$action,null!=c})},t.prototype._flatten=function(e,r,i){D(e,function(a){if(a){i&&(a.parentOption=i),r.push(a);var o=a.children;o&&o.length&&this._flatten(o,r,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Ae),NA={path:null,compoundPath:null,group:ue,image:St,text:Me},Dn=Ce(),cU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(){this._elMap=Q()},t.prototype.render=function(e,r,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var r=e.useElOptionsToUpdate();if(r){var i=this._elMap,a=this.group,o=e.get("z"),s=e.get("zlevel");D(r,function(l){var u=st(l.id,null),c=null!=u?i.get(u):null,h=st(l.parentId,null),f=null!=h?i.get(h):a,v=l.type,p=l.style;"text"===v&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var g=l.textContent,m=l.textConfig;if(p&&BM(p,v,!!m,!!g)){var y=VM(p,v,!0);!m&&y.textConfig&&(m=l.textConfig=y.textConfig),!g&&y.textContent&&(g=y.textContent)}var _=function(n){return n=V({},n),D(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(_1),function(t){delete n[t]}),n}(l),S=l.$action||"merge",x="merge"===S,b="replace"===S;if(x){var C=c;(w=!c)?C=kA(u,f,l.type,i):(C&&(Dn(C).isNew=!1),QM(C)),C&&(Xh(C,_,e,{isInit:w}),EA(C,l,o,s))}else if(b){rf(c,l,i,e);var T=kA(u,f,l.type,i);T&&(Xh(T,_,e,{isInit:!0}),EA(T,l,o,s))}else"remove"===S&&(ZM(c,l),rf(c,l,i,e));var z=i.get(u);if(z&&g)if(x){var M=z.getTextContent();M?M.attr(g):z.setTextContent(new Me(g))}else b&&z.setTextContent(new Me(g));if(z){var A=l.clipPath;if(A){var I=A.type,P=void 0,w=!1;if(x){var L=z.getClipPath();P=(w=!L||Dn(L).type!==I)?cy(I):L}else b&&(w=!0,P=cy(I));z.setClipPath(P),Xh(P,A,e,{isInit:w}),Jh(P,A.keyframeAnimation,e)}var O=Dn(z);z.setTextConfig(m),O.option=l,function(n,t,e){var r=ce(n).eventData;!n.silent&&!n.ignore&&!r&&(r=ce(n).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:n.name}),r&&(r.info=e.info)}(z,e,l),_a({el:z,componentModel:e,itemName:z.name,itemTooltipOption:l.tooltip}),Jh(z,l.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,r){for(var i=e.option.elements,a=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<i.length;c++)if((v=null!=(f=st((h=i[c]).id,null))?o.get(f):null)&&v.isGroup){var g=(p=v.parent)===a,m=Dn(v),y=Dn(p);m.width=Y(m.option.width,g?s:y.width)||0,m.height=Y(m.option.height,g?l:y.height)||0}for(c=i.length-1;c>=0;c--){var h,f,v;if(v=null!=(f=st((h=i[c]).id,null))?o.get(f):null){y=Dn(p=v.parent);var p,S={},x=_c(v,h,p===a?{width:s,height:l}:{width:y.width,height:y.height},null,{hv:h.hv,boundingMode:h.bounding},S);if(!Dn(v).isNew&&x){for(var b=h.transition,w={},C=0;C<u.length;C++){var T=u[C],z=S[T];b&&(Ua(b)||_e(b,T)>=0)?w[T]=z:v[T]=z}Ie(v,w,e,0)}else v.attr(S)}}},t.prototype._clear=function(){var e=this,r=this._elMap;r.each(function(i){rf(i,Dn(i).option,r,e._lastGraphicModel)}),this._elMap=Q()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(je);function cy(n){var e=new(X(NA,n)?NA[n]:rd(n))({});return Dn(e).type=n,e}function kA(n,t,e,r){var i=cy(e);return t.add(i),r.set(n,i),Dn(i).id=n,Dn(i).isNew=!0,i}function rf(n,t,e,r){n&&n.parent&&("group"===n.type&&n.traverse(function(a){rf(a,t,e,r)}),Qh(n,t,r),e.removeKey(Dn(n).id))}function EA(n,t,e,r){n.isGroup||D([["cursor",dn.prototype.cursor],["zlevel",r||0],["z",e||0],["z2",0]],function(i){var a=i[0];X(t,a)?n[a]=ve(t[a],i[1]):null==n[a]&&(n[a]=i[1])}),D(we(t),function(i){if(0===i.indexOf("on")){var a=t[i];n[i]=ee(a)?a:null}}),X(t,"draggable")&&(n.draggable=t.draggable),null!=t.name&&(n.name=t.name),null!=t.id&&(n.id=t.id)}var BA=["x","y","radius","angle","single"],pU=["cartesian2d","polar","singleAxis"];function Ti(n){return n+"Axis"}function VA(n){var t=n.ecModel,e={infoList:[],infoMap:Q()};return n.eachTargetAxis(function(r,i){var a=t.getComponent(Ti(r),i);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(e.infoList.push(l={model:o,axisModels:[]}),e.infoMap.set(s,l)),l.axisModels.push(a)}}}),e}var hy=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),mU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return E(t,n),t.prototype.init=function(e,r,i){var a=FA(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var r=FA(e);de(this.option,e,!0),de(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;D([["start","startValue"],["end","endValue"]],function(a,o){"value"===this._rangePropMode[o]&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=Q();this._fillSpecifiedTargetAxis(r)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return D(BA,function(i){var a=this.getReferringComponents(Ti(i),TO);if(a.specified){r=!0;var o=new hy;D(a.models,function(s){o.add(s.componentIndex)}),e.set(i,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var i=this.ecModel,a=!0;if(a){var o="vertical"===r?"y":"x";l(i.findComponents({mainType:o+"Axis"}),o)}function l(u,c){var h=u[0];if(h){var f=new hy;if(f.add(h.componentIndex),e.set(c,f),a=!1,"x"===c||"y"===c){var v=h.getReferringComponents("grid",it).models[0];v&&D(u,function(p){h.componentIndex!==p.componentIndex&&v===p.getReferringComponents("grid",it).models[0]&&f.add(p.componentIndex)})}}}a&&l(i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}}),"single"),a&&D(BA,function(u){if(a){var c=i.findComponents({mainType:Ti(u),filter:function(f){return"category"===f.get("type",!0)}});if(c[0]){var h=new hy;h.add(c[0].componentIndex),e.set(u,h),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,i=this.get("rangeMode");D([["start","startValue"],["end","endValue"]],function(a,o){var s=null!=e[a[0]],l=null!=e[a[1]];s&&!l?r[o]="percent":!s&&l?r[o]="value":i?r[o]=i[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,i){null==e&&(e=this.ecModel.getComponent(Ti(r),i))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(i,a){D(i.indexList,function(o){e.call(r,a,o)})})},t.prototype.getAxisProxy=function(e,r){var i=this.getAxisModel(e,r);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[r])return this.ecModel.getComponent(Ti(e),r)},t.prototype.setRawRange=function(e){var r=this.option,i=this.settledOption;D([["start","startValue"],["end","endValue"]],function(a){(null!=e[a[0]]||null!=e[a[1]])&&(r[a[0]]=i[a[0]]=e[a[0]],r[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;D(["start","startValue","end","endValue"],function(i){r[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(null!=e||null!=r)return this.getAxisProxy(e,r).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Ae);function FA(n){var t={};return D(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}const nu=mU;var yU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="dataZoom.select",t}(nu);const _U=yU;var SU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i,a){this.dataZoomModel=e,this.ecModel=r,this.api=i},t.type="dataZoom",t}(je);const fy=SU;var xU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="dataZoom.select",t}(fy);const bU=xU;var as=D,GA=pn,wU=function(){function n(t,e,r,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function(n){var t=n.get("coordinateSystem");return _e(pU,t)>=0}(e)){var r=Ti(this._dimName),i=e.getReferringComponents(r,it).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return se(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var u,e=this._dataExtent,i=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[];as(["start","end"],function(f,v){var p=t[f],g=t[f+"Value"];"percent"===a[v]?(null==p&&(p=o[v]),g=i.parse(Oe(p,o,e))):(u=!0,p=Oe(g=null==g?e[v]:i.parse(g),e,o)),l[v]=null==g||isNaN(g)?e[v]:g,s[v]=null==p||isNaN(p)?o[v]:p}),GA(l),GA(s);var c=this._minMaxSpan;function h(f,v,p,g,m){var y=m?"Span":"ValueSpan";Wa(0,f,p,"all",c["min"+y],c["max"+y]);for(var _=0;_<2;_++)v[_]=Oe(f[_],p,g,!0),m&&(v[_]=i.parse(v[_]))}return u?h(l,s,e,o,!1):h(s,l,o,e,!0),{valueWindow:l,percentWindow:s}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(n,t,e){var r=[1/0,-1/0];as(e,function(o){!function(n,t,e){t&&D(zh(t,e),function(r){var i=t.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}(r,o.getData(),t)});var i=n.getAxisModel(),a=dT(i.axis.scale,i,r).calculate();return[a.min,a.max]}(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var r=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;"none"!==a&&as(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if("weakFilter"===a){var h=u.getStore(),f=G(c,function(v){return u.getDimensionIndex(v)},u);u.filterSelf(function(v){for(var p,g,m,y=0;y<c.length;y++){var _=h.get(f[y],v),S=!isNaN(_),x=_<o[0],b=_>o[1];if(S&&!x&&!b)return!0;S&&(m=!0),x&&(p=!0),b&&(g=!0)}return m&&p&&g})}else as(c,function(v){if("empty"===a)l.setData(u=u.map(v,function(g){return function(l){return l>=o[0]&&l<=o[1]}(g)?g:NaN}));else{var p={};p[v]=o,u.selectRange(p)}});as(c,function(v){u.setApproximateExtent(o,v)})}})}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;as(["min","max"],function(i){var a=e.get(i+"Span"),o=e.get(i+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?a=Oe(r[0]+o,r,[0,100],!0):null!=a&&(o=Oe(a,[0,100],r,!0)-r[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=o},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var i=P_(r,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;0!==e[0]&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),100!==e[1]&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},n}();const TU=wU;var zU={getTargetSeries:function(n){function t(i){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=n.getComponent(Ti(o),s);i(o,s,l,a)})})}t(function(i,a,o,s){o.__dzAxisProxy=null});var e=[];t(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new TU(i,a,s,n),e.push(o.__dzAxisProxy))});var r=Q();return D(e,function(i){D(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,i){e.getAxisProxy(r,i).reset(e)}),e.eachTargetAxis(function(r,i){e.getAxisProxy(r,i).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};const DU=zU;var HA=!1;function vy(n){HA||(HA=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,DU),function(n){n.registerAction("dataZoom",function(t,e){D(function(n,t){var a,e=Q(),r=[],i=Q();n.eachComponent({mainType:"dataZoom",query:t},function(c){i.get(c.uid)||s(c)});do{a=!1,n.eachComponent("dataZoom",o)}while(a);function o(c){!i.get(c.uid)&&function(c){var h=!1;return c.eachTargetAxis(function(f,v){var p=e.get(f);p&&p[v]&&(h=!0)}),h}(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),r.push(c),function(c){c.eachTargetAxis(function(h,f){(e.get(h)||e.set(h,[]))[f]=!0})}(c)}return r}(e,t),function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function AU(n){n.registerComponentModel(_U),n.registerComponentView(bU),vy(n)}var Mn=function(){},WA={};function os(n,t){WA[n]=t}function YA(n){return WA[n]}var IU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;D(this.option.feature,function(r,i){var a=YA(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),de(r,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Ae);const PU=IU;function ZA(n,t){var e=To(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),new Te({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}var OU=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.render=function(e,r,i,a){var o=this.group;if(o.removeAll(),e.get("show")){var s=+e.get("itemSize"),l="vertical"===e.get("orient"),u=e.get("feature")||{},c=this._features||(this._features={}),h=[];D(u,function(p,g){h.push(g)}),new kr(this._featureNames||[],h).add(f).update(f).remove(pe(f,null)).execute(),this._featureNames=h,function(n,t,e){var r=t.getBoxLayoutParams(),i=t.get("padding"),a={width:e.getWidth(),height:e.getHeight()},o=lt(r,a,i);ha(t.get("orient"),n,t.get("itemGap"),o.width,o.height),_c(n,r,a,i)}(o,e,i),o.add(ZA(o.getBoundingRect(),e)),l||o.eachChild(function(p){var g=p.__title,m=p.ensureState("emphasis"),y=m.textConfig||(m.textConfig={}),_=p.getTextContent(),S=_&&_.ensureState("emphasis");if(S&&!ee(S)&&g){var x=S.style||(S.style={}),b=Ps(g,Me.makeFont(x)),w=p.x+o.x,T=!1;p.y+o.y+s+b.height>i.getHeight()&&(y.position="top",T=!0);var z=T?-5-b.height:s+10;w+b.width/2>i.getWidth()?(y.position=["100%",z],x.align="right"):w-b.width/2<0&&(y.position=[0,z],x.align="left")}})}function f(p,g){var x,m=h[p],y=h[g],_=u[m],S=new Ge(_,e,e.ecModel);if(a&&null!=a.newTitle&&a.featureName===m&&(_.title=a.newTitle),m&&!y){if(function(n){return 0===n.indexOf("my")}(m))x={onclick:S.option.onclick,featureName:m};else{var b=YA(m);if(!b)return;x=new b}c[m]=x}else if(!(x=c[y]))return;x.uid=xo("toolbox-feature"),x.model=S,x.ecModel=r,x.api=i;var w=x instanceof Mn;m||!y?!S.get("show")||w&&x.unusable?w&&x.remove&&x.remove(r,i):(function(p,g,m){var b,w,y=p.getModel("iconStyle"),_=p.getModel(["emphasis","iconStyle"]),S=g instanceof Mn&&g.getIcons?g.getIcons():p.get("icon"),x=p.get("title")||{};U(S)?(b={})[m]=S:b=S,U(x)?(w={})[m]=x:w=x;var C=p.iconPaths={};D(b,function(T,z){var M=ll(T,{},{x:-s/2,y:-s/2,width:s,height:s});M.setStyle(y.getItemStyle()),M.ensureState("emphasis").style=_.getItemStyle();var I=new Me({style:{text:w[z],align:_.get("textAlign"),borderRadius:_.get("textBorderRadius"),padding:_.get("textPadding"),fill:null,font:pp({fontStyle:_.get("textFontStyle"),fontFamily:_.get("textFontFamily"),fontSize:_.get("textFontSize"),fontWeight:_.get("textFontWeight")},r)},ignore:!0});M.setTextContent(I),_a({el:M,componentModel:e,itemName:z,formatterParamsExtra:{title:w[z]}}),M.__title=w[z],M.on("mouseover",function(){var P=_.getItemStyle(),L=l?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";I.setStyle({fill:_.get("textFill")||P.fill||P.stroke||"#000",backgroundColor:_.get("textBackgroundColor")}),M.setTextConfig({position:_.get("textPosition")||L}),I.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==p.get(["iconStatus",z])&&i.leaveEmphasis(this),I.hide()}),("emphasis"===p.get(["iconStatus",z])?Lr:Or)(M),o.add(M),M.on("click",$(g.onclick,g,r,i,z)),C[z]=M})}(S,x,m),S.setIconStatus=function(C,T){var z=this.option,M=this.iconPaths;z.iconStatus=z.iconStatus||{},z.iconStatus[C]=T,M[C]&&("emphasis"===T?Lr:Or)(M[C])},x instanceof Mn&&x.render&&x.render(S,r,i,a)):w&&x.dispose&&x.dispose(r,i)}},t.prototype.updateView=function(e,r,i,a){D(this._features,function(o){o instanceof Mn&&o.updateView&&o.updateView(o.model,r,i,a)})},t.prototype.remove=function(e,r){D(this._features,function(i){i instanceof Mn&&i.remove&&i.remove(e,r)}),this.group.removeAll()},t.prototype.dispose=function(e,r){D(this._features,function(i){i instanceof Mn&&i.dispose&&i.dispose(e,r)})},t.type="toolbox",t}(je);const NU=OU;var kU=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.onclick=function(e,r){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",o="svg"===r.getZr().painter.getType(),s=o?"svg":i.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=ze.browser;if("function"!=typeof MouseEvent||!u.newEdge&&(u.ie||u.edge))if(window.navigator.msSaveOrOpenBlob||o){var f=l.split(","),v=f[0].indexOf("base64")>-1,p=o?decodeURIComponent(f[1]):f[1];v&&(p=window.atob(p));var g=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=p.length,y=new Uint8Array(m);m--;)y[m]=p.charCodeAt(m);var _=new Blob([y]);window.navigator.msSaveOrOpenBlob(_,g)}else{var S=document.createElement("iframe");document.body.appendChild(S);var x=S.contentWindow,b=x.document;b.open("image/svg+xml","replace"),b.write(p),b.close(),x.focus(),b.execCommand("SaveAs",!0,g),document.body.removeChild(S)}}else{var w=i.get("lang"),C='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',T=window.open();T.document.write(C),T.document.title=a}else{var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=l;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(h)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(Mn);const EU=kU;var UA="__ec_magicType_stack__",BU=[["line","bar"],["stack"]],VU=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.getIcons=function(){var e=this.model,r=e.get("icon"),i={};return D(e.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,r,i){var a=this.model,o=a.get(["seriesIndex",i]);if($A[i]){var s={series:[]};D(BU,function(h){_e(h,i)>=0&&D(h,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(h){var p=$A[i](h.subType,h.id,h,a);p&&(re(p,h.option),s.series.push(p));var g=h.coordinateSystem;if(g&&"cartesian2d"===g.type&&("line"===i||"bar"===i)){var m=g.getAxesByScale("ordinal")[0];if(m){var _=m.dim+"Axis",x=h.getReferringComponents(_,it).models[0].componentIndex;s[_]=s[_]||[];for(var b=0;b<=x;b++)s[_][x]=s[_][x]||{};s[_][x].boundaryGap="bar"===i}}});var u,c=i;"stack"===i&&(u=de({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),"emphasis"!==a.get(["iconStatus",i])&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t}(Mn),$A={line:function(n,t,e,r){if("bar"===n)return de({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,t,e,r){if("line"===n)return de({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,t,e,r){var i=e.get("stack")===UA;if("line"===n||"bar"===n)return r.setIconStatus("stack",i?"normal":"emphasis"),de({id:t,stack:i?"":UA},r.get(["option","stack"])||{},!0)}};fr({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});const FU=VU;var af=new Array(60).join("-");function HU(n){var t=[];return D(n,function(e,r){var i=e.categoryAxis,o=e.valueAxis.dim,s=[" "].concat(G(e.series,function(v){return v.name})),l=[i.model.getCategories()];D(e.series,function(v){var p=v.getRawData();l.push(v.getRawData().mapArray(p.mapDimension(o),function(g){return g}))});for(var u=[s.join("\t")],c=0;c<l[0].length;c++){for(var h=[],f=0;f<l.length;f++)h.push(l[f][c]);u.push(h.join("\t"))}t.push(u.join("\n"))}),t.join("\n\n"+af+"\n\n")}function WU(n){return G(n,function(t){var e=t.getRawData(),r=[t.name],i=[];return e.each(e.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=e.getName(o),l=0;l<a-1;l++)i[l]=arguments[l];r.push((s?s+"\t":"")+i.join("\t"))}),r.join("\n")}).join("\n\n"+af+"\n\n")}function of(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var py=new RegExp("[\t]+","g");var QU=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.onclick=function(e,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var h=a.get("optionToContent"),f=a.get("contentToOption"),v=function(n){var t=function(n){var t={},e=[],r=[];return n.eachRawSeries(function(i){var a=i.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)e.push(i);else{var o=a.getBaseAxis();if("category"===o.type){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(i)}else e.push(i)}}),{seriesGroupByCategoryAxis:t,other:e,meta:r}}(n);return{value:Pe([HU(t.seriesGroupByCategoryAxis),WU(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join("\n\n"+af+"\n\n"),meta:t.meta}}(e);if(ee(h)){var p=h(r.getOption());U(p)?u.innerHTML=p:no(p)&&u.appendChild(p)}else{c.readOnly=a.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=a.get("textColor"),g.borderColor=a.get("textareaBorderColor"),g.backgroundColor=a.get("textareaColor"),c.value=v.value,u.appendChild(c)}var m=v.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var _="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",S=document.createElement("div"),x=document.createElement("div");_+=";background-color:"+a.get("buttonColor"),_+=";color:"+a.get("buttonTextColor");var b=this;function w(){i.removeChild(o),b._dom=null}Yf(S,"click",w),Yf(x,"click",function(){if(null==f&&null!=h||null!=f&&null==h)w();else{var C;try{C=ee(f)?f(u,r.getOption()):function(n,t){var e=n.split(new RegExp("\n*"+af+"\n*","g")),r={series:[]};return D(e,function(i,a){if(function(n){if(n.slice(0,n.indexOf("\n")).indexOf("\t")>=0)return!0}(i)){var o=function(n){for(var t=n.split(/\n+/g),r=[],i=G(of(t.shift()).split(py),function(l){return{name:l,data:[]}}),a=0;a<t.length;a++){var o=of(t[a]).split(py);r.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:r}}(i),s=t[a],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else o=function(n){for(var t=n.split(/\n+/g),e=of(t.shift()),r=[],i=0;i<t.length;i++){var a=of(t[i]);if(a){var o=a.split(py),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[i]={name:s,value:[]},l=r[i].value):l=r[i]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);1===l.length&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:e,data:r}}(i),r.series.push(o)}),r}(c.value,m)}catch(T){throw w(),new Error("Data view format error "+T)}C&&r.dispatchAction({type:"changeDataView",newOption:C}),w()}}),S.innerHTML=l[1],x.innerHTML=l[2],x.style.cssText=S.style.cssText=_,!a.get("readOnly")&&y.appendChild(x),y.appendChild(S),o.appendChild(s),o.appendChild(u),o.appendChild(y),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(e,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(Mn);function JU(n,t){return G(n,function(e,r){var i=t&&t[r];if(oe(i)&&!F(i)){oe(e)&&!F(e)||(e={value:e});var o=null!=i.name&&null==e.name;return e=re(e,i),o&&delete e.name,e}return e})}fr({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];D(n.newOption.series,function(r){var i=t.getSeriesByName(r.name)[0];if(i){var a=i.get("data");e.push({name:r.name,data:JU(r.data,a)})}else e.push(V({type:"scatter"},r))}),t.mergeOption(re({series:e},n.newOption))});const qU=QU;var XA=D,QA=Ce();function dy(n){var t=QA(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var n9=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.onclick=function(e,r){(function(n){QA(n).snapshots=null})(e),r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(Mn);fr({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});const r9=n9;var i9=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],a9=function(){function n(t,e,r){var i=this;this._targetInfoList=[];var a=JA(e,t);D(o9,function(o,s){(!r||!r.include||_e(r.include,s)>=0)&&o(a,i._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var o=my[r.brushType](0,a,i);r.__rangeOffset={offset:eI[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,r){D(t,function(i){var a=this.findTargetInfo(i,e);a&&!0!==a&&D(a.coordSyses,function(o){var s=my[i.brushType](1,o,i.range,!0);r(i,s.values,o,e)})},this)},n.prototype.setInputRanges=function(t,e){D(t,function(r){var i=this.findTargetInfo(r,e);if(r.range=r.range||[],i&&!0!==i){r.panelId=i.panelId;var a=my[r.brushType](0,i.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?eI[r.brushType](a.values,o.offset,function(n,t){var e=nI(n),r=nI(t),i=[e[0]/r[0],e[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}(a.xyMinMax,o.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(t,e){return G(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:jD(i),isTargetByCursor:eM(i,t,r.coordSysModel),getLinearBrushOtherExtent:KD(i)}})},n.prototype.controlSeries=function(t,e,r){var i=this.findTargetInfo(t,r);return!0===i||i&&_e(i.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var r=this._targetInfoList,i=JA(e,t),a=0;a<r.length;a++){var o=r[a],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<qA.length;l++)if(qA[l](i,o))return o}return!0},n}();function gy(n){return n[0]>n[1]&&n.reverse(),n}function JA(n,t){return ks(n,t,{includeMainTypes:i9})}var o9={grid:function(n,t){var e=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,a=Q(),o={},s={};!e&&!r&&!i||(D(e,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),D(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),D(i,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var c=[];D(l.coordinateSystem.getCartesians(),function(h,f){(_e(e,h.getAxis("x").model)>=0||_e(r,h.getAxis("y").model)>=0)&&c.push(h)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:jA.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,t){D(n.geoModels,function(e){var r=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:jA.geo})})}},qA=[function(n,t){var e=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],jA={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(ya(n)),t}},my={lineX:pe(KA,0),lineY:pe(KA,1),rect:function(n,t,e,r){var i=n?t.pointToData([e[0][0],e[1][0]],r):t.dataToPoint([e[0][0],e[1][0]],r),a=n?t.pointToData([e[0][1],e[1][1]],r):t.dataToPoint([e[0][1],e[1][1]],r),o=[gy([i[0],a[0]]),gy([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(n,t,e,r){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:G(e,function(o){var s=n?t.pointToData(o,r):t.dataToPoint(o,r);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s}),xyMinMax:i}}};function KA(n,t,e,r){var i=e.getAxis(["x","y"][n]),a=gy(G([0,1],function(s){return t?i.coordToData(i.toLocalCoord(r[s]),!0):i.toGlobalCoord(i.dataToCoord(r[s]))})),o=[];return o[n]=a,o[1-n]=[NaN,NaN],{values:a,xyMinMax:o}}var eI={lineX:pe(tI,0),lineY:pe(tI,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return G(n,function(r,i){return[r[0]-e[0]*t[i][0],r[1]-e[1]*t[i][1]]})}};function tI(n,t,e,r){return[t[0]-r[n]*e[0],t[1]-r[n]*e[1]]}function nI(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const yy=a9;var _y=D,u9=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.render=function(e,r,i,a){this._brushController||(this._brushController=new Cm(i.getZr()),this._brushController.on("brush",$(this._onBrush,this)).mount()),function(n,t,e,r,i){var a=e._isZoomActive;r&&"takeGlobalCursor"===r.type&&(a="dataZoomSelect"===r.key&&r.dataZoomSelectActive),e._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var s=new yy(Sy(n),t,{include:["grid"]}).makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()})}(e,r,this,a,i),function(n,t){n.setIconStatus("back",function(n){return dy(n).length}(t)>1?"emphasis":"normal")}(e,r)},t.prototype.onclick=function(e,r,i){c9[i].call(this)},t.prototype.remove=function(e,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var r=e.areas;if(e.isEnd&&r.length){var i={},a=this.ecModel;this._brushController.updateCovers([]),new yy(Sy(this.model),a,{include:["grid"]}).matchOutputRanges(r,a,function(u,c,h){if("cartesian2d"===h.type){var f=u.brushType;"rect"===f?(s("x",h,c[0]),s("y",h,c[1])):s({lineX:"x",lineY:"y"}[f],h,c)}}),function(n,t){var e=dy(n);XA(t,function(r,i){for(var a=e.length-1;a>=0&&!e[a][i];a--);if(a<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();e[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),e.push(t)}(a,i),this._dispatchZoomAction(i)}function s(u,c,h){var f=c.getAxis(u),v=f.model,p=function(u,c,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(v){v.getAxisModel(u,c.componentIndex)&&(f=v)}),f}(u,v,a),g=p.findRepresentativeAxisProxy(v).getMinMaxSpan();(null!=g.minValueSpan||null!=g.maxValueSpan)&&(h=Wa(0,h.slice(),f.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:h[0],endValue:h[1]})}},t.prototype._dispatchZoomAction=function(e){var r=[];_y(e,function(i,a){r.push(se(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(Mn),c9={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var t=dy(n),e=t[t.length-1];t.length>1&&t.pop();var r={};return XA(e,function(i,a){for(var o=t.length-1;o>=0;o--)if(i=t[o][a]){r[a]=i;break}}),r}(this.ecModel))}};function Sy(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}!function(n,t){Rt(null==Ap.get(n)&&t),Ap.set(n,t)}("dataZoom",function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var r=t.getModel(e),i=[],o=ks(n,Sy(r));return _y(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),_y(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")}),i}function s(l,u,c){var h=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+u+h};f[c]=h,i.push(f)}});const v9=u9;var d9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Ae);const g9=d9;function rI(n){var t=n.get("confine");return null!=t?!!t:"richText"===n.get("renderMode")}function iI(n){if(ze.domSupported)for(var t=document.documentElement.style,e=0,r=n.length;e<r;e++)if(n[e]in t)return n[e]}var aI=iI(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function oI(n,t){if(!n)return t;t=g1(t,!0);var e=n.indexOf(t);return(n=-1===e?t:"-"+n.slice(0,e)+"-"+t).toLowerCase()}var _9=oI(iI(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),xy=oI(aI,"transform"),S9="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ze.transform3dSupported?"will-change:transform;":"");function sI(n,t,e){var r=n.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!ze.transformSupported)return e?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=ze.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return e?"top:0;left:0;"+xy+":"+o+";":[["top",0],["left",0],[aI,o]]}function lI(n,t,e,r,i){var a=t&&t.painter;if(e){var o=a&&a.getViewportRoot();o&&function(n,t,e,r,i){Ff(Vf,t,r,i,!0)&&Ff(n,e,Vf[0],Vf[1])}(n,o,e,r,i)}else{n[0]=r,n[1]=i;var s=a&&a.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var z9=function(){function n(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ze.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=t.getZr(),a=e.appendTo,o=a&&(U(a)?document.querySelector(a):no(a)?a:ee(a)&&a(t.getDom()));lI(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(r),this._api=t,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler;hn(i.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),r=function(n,t){var e=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return e?e[t]:null}(e,"position"),i=e.style;"absolute"!==i.position&&"absolute"!==r&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=S9+function(n,t,e){var r=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),o=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),u=n.get("shadowOffsetY"),c=n.getModel("textStyle"),h=Dx(n,"html");return r.push("box-shadow:"+l+"px "+u+"px "+o+"px "+s),t&&i&&r.push(function(n,t){var e="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+e,i="opacity"+r+",visibility"+r;return t||(r=" "+n+"s "+e,i+=ze.transformSupported?","+xy+r:",left"+r+",top"+r),_9+":"+i}(i,e)),a&&r.push("background-color:"+a),D(["width","color","radius"],function(v){var p="border-"+v,g=g1(p),m=n.get(g);null!=m&&r.push(p+":"+m+("color"===v?"":"px"))}),r.push(function(n){var t=[],e=n.get("fontSize"),r=n.getTextColor();r&&t.push("color:"+r),t.push("font:"+n.getFont());var i=ve(n.get("lineHeight"),Math.round(3*e/2));e&&t.push("line-height:"+i+"px");var a=n.get("textShadowColor"),o=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return a&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),D(["decoration","align"],function(u){var c=n.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}(c)),null!=h&&r.push("padding:"+To(h).join("px ")+"px"),r.join(";")+";"}(t,!this._firstShow,this._longHide)+sI(a[0],a[1],!0)+"border-color:"+ua(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,r,i,a){var o=this.el;if(null!=t){var s="";if(U(a)&&"item"===r.get("trigger")&&!rI(r)&&(s=function(n,t,e){if(!U(e)||"inside"===e)return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");t=ua(t);var u,a=function(n){return"left"===n?"right":"right"===n?"left":"top"===n?"bottom":"top"}(e),o=Math.max(1.5*Math.round(i),6),s="",l=xy+":";_e(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u="left"===a?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u="top"===a?225:45)+"deg)");var c=u*Math.PI/180,h=o+i,f=h*Math.abs(Math.cos(c))+h*Math.abs(Math.sin(c)),p=t+" solid "+i+"px;";return'<div style="'+["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",(s+=";"+a+":-"+Math.round(100*((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-h)/2))/100+"px")+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"].join("")+'"></div>'}(r,i,a)),U(t))o.innerHTML=t+s;else if(t){o.innerHTML="",F(t)||(t=[t]);for(var l=0;l<t.length;l++)no(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}}else o.innerHTML=""},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},n.prototype.moveTo=function(t,e){if(this.el){var r=this._styleCoord;if(lI(r,this._zr,this._container,t,e),null!=r[0]&&null!=r[1]){var i=this.el.style;D(sI(r[0],r[1]),function(o){i[o[0]]=o[1]})}}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",ze.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout($(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},n}();const D9=z9;var M9=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),cI(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,r,i,a){var o=this;oe(t)&&Le(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new Me({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Dx(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),D(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),D(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),r=uI(t.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]},n.prototype.moveTo=function(t,e){var r=this.el;if(r){var i=this._styleCoord;cI(i,this._zr,t,e),t=i[0],e=i[1];var a=r.style,o=zi(a.borderWidth||0),s=uI(a);r.x=t+o+s.left,r.y=e+o+s.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout($(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function zi(n){return Math.max(0,n)}function uI(n){var t=zi(n.shadowBlur||0),e=zi(n.shadowOffsetX||0),r=zi(n.shadowOffsetY||0);return{left:zi(t-e),right:zi(t+e),top:zi(t-r),bottom:zi(t+r)}}function cI(n,t,e,r){n[0]=e,n[1]=r,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}const A9=M9;var I9=new Te({shape:{x:-1,y:-1,width:2,height:2}}),P9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e,r){if(!ze.node&&r.getDom()){var i=e.getComponent("tooltip"),a=this._renderMode=function(n){return"auto"===n?ze.domSupported?"html":"richText":n||"html"}(i.get("renderMode"));this._tooltipContent="richText"===a?new A9(r):new D9(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,r,i){if(!ze.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?Eo(this,"_updatePosition",50,"fixRate"):cl(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel.get("triggerOn");dA("itemTooltip",this._api,$(function(i,a,o){"none"!==r&&(r.indexOf(i)>=0?this._tryShow(a,o):"leave"===i&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,r=this._ecModel,i=this._api,a=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(e,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,r,i,a){if(a.from!==this.uid&&!ze.node&&i.getDom()){var o=hI(a,i);this._ticket="";var s=a.dataByCoordSys,l=function(n,t,e){var r=Nv(n).queryOptionMap,i=r.keys()[0];if(i&&"series"!==i){var l,o=Es(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(o&&(e.getViewOfComponentModel(o).group.traverse(function(u){var c=ce(u).tooltipConfig;if(c&&c.name===n.name)return l=u,!0}),l))return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}(a,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&null!=a.x&&null!=a.y){var c=I9;c.x=a.x,c.y=a.y,c.update(),ce(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(e,r,i,a))return;var h=mA(a,r),f=h.point[0],v=h.point[1];null!=f&&null!=v&&this._tryShow({offsetX:f,offsetY:v,target:h.el,position:a.position,positionDefault:"bottom"},o)}else null!=a.x&&null!=a.y&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},t.prototype.manuallyHideTip=function(e,r,i,a){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(hI(a,i))},t.prototype._manuallyAxisShowTip=function(e,r,i,a){var o=a.seriesIndex,s=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=s&&null!=l){var u=r.getSeriesByIndex(o);if(u&&"axis"===ru([u.getData().getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}},t.prototype._tryShow=function(e,r){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){var l,u;if("legend"===ce(i).ssrType)return;this._lastDataByCoordSys=null,Sa(i,function(c){return null!=ce(c).dataIndex?(l=c,!0):null!=ce(c).tooltipConfig?(u=c,!0):void 0},!0),l?this._showSeriesItemTooltip(e,l,r):u?this._showComponentItemTooltip(e,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(e,r){var i=e.get("showDelay");r=$(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},t.prototype._showAxisTooltip=function(e,r){var i=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],s=ru([r.tooltipOption],a),l=this._renderMode,u=[],c=ft("section",{blocks:[],noHeader:!0}),h=[],f=new Up;D(e,function(_){D(_.dataByAxis,function(S){var x=i.getComponent(S.axisDim+"Axis",S.axisIndex),b=S.value;if(x&&null!=b){var w=uA(b,x.axis,i,S.seriesDataIndices,S.valueLabelOpt),C=ft("section",{header:w,noHeader:!Pn(w),sortBlocks:!0,blocks:[]});c.blocks.push(C),D(S.seriesDataIndices,function(T){var z=i.getSeriesByIndex(T.seriesIndex),M=T.dataIndexInside,A=z.getDataParams(M);if(!(A.dataIndex<0)){A.axisDim=S.axisDim,A.axisIndex=S.axisIndex,A.axisType=S.axisType,A.axisId=S.axisId,A.axisValue=cg(x.axis,{value:b}),A.axisValueLabel=w,A.marker=f.makeTooltipMarker("item",ua(A.color),l);var I=ix(z.formatTooltip(M,!0,null)),P=I.frag;if(P){var L=ru([z],a).get("valueFormatter");C.blocks.push(L?V({valueFormatter:L},P):P)}I.text&&h.push(I.text),u.push(A)}})}})}),c.blocks.reverse(),h.reverse();var v=r.position,p=s.get("order"),g=Cx(c,f,l,p,i.get("useUTC"),s.get("textStyle"));g&&h.unshift(g);var y=h.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,y,u,Math.random()+"",o[0],o[1],v,null,f)})},t.prototype._showSeriesItemTooltip=function(e,r,i){var a=this._ecModel,o=ce(r),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,h=o.dataType,f=u.getData(h),v=this._renderMode,p=e.positionDefault,g=ru([f.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),m=g.get("trigger");if(null==m||"item"===m){var y=u.getDataParams(c,h),_=new Up;y.marker=_.makeTooltipMarker("item",ua(y.color),v);var S=ix(u.formatTooltip(c,!1,h)),x=g.get("order"),b=g.get("valueFormatter"),w=S.frag,C=w?Cx(b?V({valueFormatter:b},w):w,_,v,x,a.get("useUTC"),g.get("textStyle")):S.text,T="item_"+u.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,C,y,T,e.offsetX,e.offsetY,e.position,e.target,_)}),i({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,r,i){var a="html"===this._renderMode,o=ce(r),l=o.tooltipConfig.option||{},u=l.encodeHTMLContent;U(l)&&(l={content:l,formatter:l},u=!0),u&&a&&l.content&&((l=se(l)).content=Dt(l.content));var h=[l],f=this._ecModel.getComponent(o.componentMainType,o.componentIndex);f&&h.push(f),h.push({formatter:l.content});var v=e.positionDefault,p=ru(h,this._tooltipModel,v?{position:v}:null),g=p.get("content"),m=Math.random()+"",y=new Up;this._showOrMove(p,function(){var _=se(p.get("formatterParams")||{});this._showTooltipContent(p,g,_,m,e.offsetX,e.offsetY,e.position,r,y)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,r,i,a,o,s,l,u,c){if(this._ticket="",e.get("showContent")&&e.get("show")){var h=this._tooltipContent;h.setEnterable(e.get("enterable"));var f=e.get("formatter");l=l||e.get("position");var v=r,g=this._getNearestPoint([o,s],i,e.get("trigger"),e.get("borderColor")).color;if(f)if(U(f)){var m=e.ecModel.get("useUTC"),y=F(i)?i[0]:i;v=f,y&&y.axisType&&y.axisType.indexOf("time")>=0&&(v=fc(y.axisValue,v,m)),v=y1(v,i,!0)}else if(ee(f)){var S=$(function(x,b){x===this._ticket&&(h.setContent(b,c,e,g,l),this._updatePosition(e,l,o,s,h,i,u))},this);this._ticket=a,v=f(i,a,S)}else v=f;h.setContent(v,c,e,g,l),h.show(e,g),this._updatePosition(e,l,o,s,h,i,u)}},t.prototype._getNearestPoint=function(e,r,i,a){return"axis"===i||F(r)?{color:a||("html"===this._renderMode?"#fff":"none")}:F(r)?void 0:{color:a||r.color||r.borderColor}},t.prototype._updatePosition=function(e,r,i,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||e.get("position");var h=o.getSize(),f=e.get("align"),v=e.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),ee(r)&&(r=r([i,a],s,o.el,p,{viewSize:[u,c],contentSize:h.slice()})),F(r))i=Y(r[0],u),a=Y(r[1],c);else if(oe(r)){var g=r;g.width=h[0],g.height=h[1];var m=lt(g,{width:u,height:c});i=m.x,a=m.y,f=null,v=null}else if(U(r)&&l){var y=function(n,t,e,r){var i=e[0],a=e[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=t.width,c=t.height;switch(n){case"inside":s=t.x+u/2-i/2,l=t.y+c/2-a/2;break;case"top":s=t.x+u/2-i/2,l=t.y-a-o;break;case"bottom":s=t.x+u/2-i/2,l=t.y+c+o;break;case"left":s=t.x-i-o,l=t.y+c/2-a/2;break;case"right":s=t.x+u+o,l=t.y+c/2-a/2}return[s,l]}(r,p,h,e.get("borderWidth"));i=y[0],a=y[1]}else y=function(n,t,e,r,i,a,o){var s=e.getSize(),l=s[0],u=s[1];return null!=a&&(n+l+a+2>r?n-=l+a:n+=a),null!=o&&(t+u+o>i?t-=u+o:t+=o),[n,t]}(i,a,o,u,c,f?null:20,v?null:20),i=y[0],a=y[1];f&&(i-=fI(f)?h[0]/2:"right"===f?h[0]:0),v&&(a-=fI(v)?h[1]/2:"bottom"===v?h[1]:0),rI(e)&&(y=function(n,t,e,r,i){var a=e.getSize(),o=a[0],s=a[1];return n=Math.min(n+o,r)-o,t=Math.min(t+s,i)-s,[n=Math.max(n,0),t=Math.max(t,0)]}(i,a,o,u,c),i=y[0],a=y[1]),o.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(e,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===e.length;return o&&D(i,function(s,l){var u=s.dataByAxis||[],h=(e[l]||{}).dataByAxis||[];(o=o&&u.length===h.length)&&D(u,function(f,v){var p=h[v]||{},g=f.seriesDataIndices||[],m=p.seriesDataIndices||[];(o=o&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&g.length===m.length)&&D(g,function(y,_){var S=m[_];o=o&&y.seriesIndex===S.seriesIndex&&y.dataIndex===S.dataIndex}),a&&D(f.seriesDataIndices,function(y){var _=y.seriesIndex,S=r[_],x=a[_];S&&x&&x.data!==S.data&&(o=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=r,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,r){ze.node||!r.getDom()||(cl(this,"_updatePosition"),this._tooltipContent.dispose(),ny("itemTooltip",r))},t.type="tooltip",t}(je);function ru(n,t,e){var i,r=t.ecModel;e?(i=new Ge(e,r,r),i=new Ge(t.option,i,r)):i=t;for(var a=n.length-1;a>=0;a--){var o=n[a];o&&(o instanceof Ge&&(o=o.get("tooltip",!0)),U(o)&&(o={formatter:o}),o&&(i=new Ge(o,i,r)))}return i}function hI(n,t){return n.dispatchAction||$(t.dispatchAction,t)}function fI(n){return"center"===n||"middle"===n}const k9=P9;var B9=["rect","polygon","keep","clear"];function V9(n,t){var e=ke(n?n.brush:[]);if(e.length){var r=[];D(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var i=n&&n.toolbox;F(i)&&(i=i[0]),i||(n.toolbox=[i={feature:{}}]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),function(n){var t={};D(n,function(e){t[e]=1}),n.length=0,D(t,function(e,r){n.push(r)})}(s),t&&!s.length&&s.push.apply(s,B9)}}var vI=D;function pI(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function by(n,t,e){var r={};return vI(t,function(a){var o=r[a]=function(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}();vI(n[a],function(s,l){if(Ct.isValidType(l)){var u={type:l,visual:s};e&&e(u,a),o[l]=new Ct(u),"opacity"===l&&((u=se(u)).type="colorAlpha",o.__hidden.__alphaForOpacity=new Ct(u))}})}),r}function dI(n,t,e){var r;D(e,function(i){t.hasOwnProperty(i)&&pI(t[i])&&(r=!0)}),r&&D(e,function(i){t.hasOwnProperty(i)&&pI(t[i])?n[i]=se(t[i]):delete n[i]})}var gI={lineX:mI(0),lineY:mI(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&Ea(e.range,n[0],n[1])},rect:function(n,t,e){var r=e.range;if(!n||r.length<=1)return!1;var i=n.x,a=n.y,o=n.width,s=n.height,l=r[0];return!!(Ea(r,i,a)||Ea(r,i+o,a)||Ea(r,i,a+s)||Ea(r,i+o,a+s)||me.create(n).contain(l[0],l[1])||ul(i,a,i+o,a,r)||ul(i,a,i,a+s,r)||ul(i+o,a,i+o,a+s,r)||ul(i,a+s,i+o,a+s,r))||void 0}}};function mI(n){var t=["x","y"],e=["width","height"];return{point:function(r,i,a){if(r)return iu(r[n],a.range)},rect:function(r,i,a){if(r){var o=a.range,s=[r[t[n]],r[t[n]]+r[e[n]]];return s[1]<s[0]&&s.reverse(),iu(s[0],o)||iu(s[1],o)||iu(o[0],s)||iu(o[1],s)}}}}function iu(n,t){return t[0]<=n&&n<=t[1]}var yI=["inBrush","outOfBrush"],wy="__ecBrushSelect",Cy="__ecInBrushSelectEvent";function _I(n){n.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new yy(t.option,n)).setInputRanges(t.areas,n)})}function Y9(n,t,e){var i,a,r=[];n.eachComponent({mainType:"brush"},function(o){e&&"takeGlobalCursor"===e.type&&o.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),_I(n),n.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:se(o.areas),selected:[]};r.push(l);var u=o.option,c=u.brushLink,h=[],f=[],v=[],p=!1;s||(i=u.throttleType,a=u.throttleDelay);var g=G(o.areas,function(b){var w=X9[b.brushType],C=re({boundingRect:w?w(b):void 0},b);return C.selectors=function(n){var t=n.brushType,e={point:function(r){return gI[t].point(r,e,n)},rect:function(r){return gI[t].rect(r,e,n)}};return e}(C),C}),m=by(o.option,yI,function(b){b.mappingMethod="fixed"});function y(b){return"all"===c||!!h[b]}function _(b){return!!b.length}F(c)&&D(c,function(b){h[b]=1}),n.eachSeries(function(b,w){var C=v[w]=[];"parallel"===b.subType?function(b,w){var C=b.coordinateSystem;p=p||C.hasAxisBrushed(),y(w)&&C.eachActiveState(b.getData(),function(T,z){"active"===T&&(f[z]=1)})}(b,w):function(b,w,C){if(b.brushSelector&&!function(n,t){var e=n.option.seriesIndex;return null!=e&&"all"!==e&&(F(e)?_e(e,t)<0:t!==e)}(o,w)&&(D(g,function(z){o.brushTargetManager.controlSeries(z,b,n)&&C.push(z),p=p||_(C)}),y(w)&&_(C))){var T=b.getData();T.each(function(z){SI(b,C,T,z)&&(f[z]=1)})}}(b,w,C)}),n.eachSeries(function(b,w){var C={seriesId:b.id,seriesIndex:w,seriesName:b.name,dataIndex:[]};l.selected.push(C);var T=v[w],z=b.getData(),M=y(w)?function(A){return f[A]?(C.dataIndex.push(z.getRawIndex(A)),"inBrush"):"outOfBrush"}:function(A){return SI(b,T,z,A)?(C.dataIndex.push(z.getRawIndex(A)),"inBrush"):"outOfBrush"};(y(w)?p:_(T))&&function(n,t,e,r,i,a){var s,o={};function l(h){return ld(e,s,h)}function u(h,f){zb(e,s,h,f)}function c(h,f){var v=e.getRawDataItem(s=h);if(!v||!1!==v.visualMap)for(var p=r.call(undefined,h),g=t[p],m=o[p],y=0,_=m.length;y<_;y++){var S=m[y];g[S]&&g[S].applyVisual(h,l,u)}}D(n,function(h){var f=Ct.prepareVisualTypes(t[h]);o[h]=f}),e.each(c)}(yI,m,z,M)})}),function(n,t,e,r,i){if(i){var a=n.getZr();a[Cy]||(a[wy]||(a[wy]=U9),Eo(a,wy,e,t)(n,r))}}(t,i,a,r,e)}function U9(n,t){if(!n.isDisposed()){var e=n.getZr();e[Cy]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[Cy]=!1}}function SI(n,t,e,r){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(n.brushSelector(r,e,o.selectors,o))return!0}}var X9={rect:function(n){return xI(n.range)},polygon:function(n){for(var t,e=n.range,r=0,i=e.length;r<i;r++){var a=e[r];a[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&xI(t)}};function xI(n){return new me(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var Q9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e,r){this.ecModel=e,this.api=r,(this._brushController=new Cm(r.getZr())).on("brush",$(this._onBrush,this)).mount()},t.prototype.render=function(e,r,i,a){this.model=e,this._updateController(e,r,i,a)},t.prototype.updateTransform=function(e,r,i,a){_I(r),this._updateController(e,r,i,a)},t.prototype.updateVisual=function(e,r,i,a){this.updateTransform(e,r,i,a)},t.prototype.updateView=function(e,r,i,a){this._updateController(e,r,i,a)},t.prototype._updateController=function(e,r,i,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:se(i),$from:r}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:se(i),$from:r})},t.type="brush",t}(je);const J9=Q9;var j9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return E(t,n),t.prototype.optionUpdated=function(e,r){var i=this.option;!r&&dI(i,e,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:"#ddd"},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){!e||(this.areas=G(e,function(r){return bI(this.option,r)},this))},t.prototype.setBrushOption=function(e){this.brushOption=bI(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Ae);function bI(n,t){return de({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Ge(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}const K9=j9;var e$=["rect","polygon","lineX","lineY","keep","clear"],t$=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return E(t,n),t.prototype.render=function(e,r,i){var a,o,s;r.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,D(e.get("type",!0),function(l){e.setIconStatus(l,("keep"===l?"multiple"===o:"clear"===l?s:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,r,i){this.render(e,r,i)},t.prototype.getIcons=function(){var e=this.model,r=e.get("icon",!0),i={};return D(e.get("type",!0),function(a){r[a]&&(i[a]=r[a])}),i},t.prototype.onclick=function(e,r,i){var a=this._brushType,o=this._brushMode;"clear"===i?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?a:a!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}})},t.getDefaultOption=function(e){return{show:!0,type:e$.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(Mn);const n$=t$;var i$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return E(t,n),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Ae),a$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.render=function(e,r,i){if(this.group.removeAll(),e.get("show")){var a=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=ve(e.get("textBaseline"),e.get("textVerticalAlign")),c=new Me({style:Fe(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=c.getBoundingRect(),f=e.get("subtext"),v=new Me({style:Fe(s,{text:f,fill:s.getTextColor(),y:h.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=e.get("link"),g=e.get("sublink"),m=e.get("triggerEvent",!0);c.silent=!p&&!m,v.silent=!g&&!m,p&&c.on("click",function(){mc(p,"_"+e.get("target"))}),g&&v.on("click",function(){mc(g,"_"+e.get("subtarget"))}),ce(c).eventData=ce(v).eventData=m?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(c),f&&a.add(v);var y=a.getBoundingRect(),_=e.getBoxLayoutParams();_.width=y.width,_.height=y.height;var S=lt(_,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));l||("middle"===(l=e.get("left")||e.get("right"))&&(l="center"),"right"===l?S.x+=S.width:"center"===l&&(S.x+=S.width/2)),u||("center"===(u=e.get("top")||e.get("bottom"))&&(u="middle"),"bottom"===u?S.y+=S.height:"middle"===u&&(S.y+=S.height/2),u=u||"top"),a.x=S.x,a.y=S.y,a.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),v.setStyle(x),y=a.getBoundingRect();var b=S.margin,w=e.getItemStyle(["color","opacity"]);w.fill=e.get("backgroundColor");var C=new Te({shape:{x:y.x-b[3],y:y.y-b[0],width:y.width+b[1]+b[3],height:y.height+b[0]+b[2],r:e.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});a.add(C)}},t.type="title",t}(je),s$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return E(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var r=this._data.count();this.option.loop?e=(e%r+r)%r:(e>=r&&(e=r-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var o,e=this.option,r=e.data||[],i=e.axisType,a=this._names=[];"category"===i?(o=[],D(r,function(u,c){var f,h=st(vo(u),"");oe(u)?(f=se(u)).value=c:f=c,o.push(f),a.push(h)})):o=r,(this._data=new Ft([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[i]||"number"}],this)).initData(o,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Ae);const wI=s$;var CI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="timeline.slider",t.defaultOption=oi(wI.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(wI);rt(CI,bc.prototype);const l$=CI;var u$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="timeline",t}(je);const c$=u$;var h$=function(n){function t(e,r,i,a){var o=n.call(this,e,r,i)||this;return o.type=a||"value",o}return E(t,n),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Yn);const f$=h$;var Ty=Math.PI,TI=Ce(),v$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(e,r){this.api=r},t.prototype.render=function(e,r,i){if(this.model=e,this.api=i,this.ecModel=r,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,e);e.formatTooltip=function(u){return ft("nameValue",{noName:!0,value:l.scale.getLabel({value:u})})},D(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,l,e)},this),this._renderAxisLabel(a,s,l,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,r){var s,i=e.get(["label","position"]),a=e.get("orient"),o=function(n,t){return lt(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},n.get("padding"))}(e,r),l={horizontal:"center",vertical:(s=null==i||"auto"===i?"horizontal"===a?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":U(i)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:i)>=0||"+"===s?"left":"right"},u={horizontal:s>=0||"+"===s?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:Ty/2},h="vertical"===a?o.height:o.width,f=e.getModel("controlStyle"),v=f.get("show",!0),p=v?f.get("itemSize"):0,g=v?f.get("itemGap"):0,m=p+g,y=e.get(["label","rotate"])||0;y=y*Ty/180;var _,S,x,b=f.get("position",!0),w=v&&f.get("showPlayBtn",!0),C=v&&f.get("showPrevBtn",!0),T=v&&f.get("showNextBtn",!0),z=0,M=h;"left"===b||"bottom"===b?(w&&(_=[0,0],z+=m),C&&(S=[z,0],z+=m),T&&(x=[M-p,0],M-=m)):(w&&(_=[M-p,0],M-=m),C&&(S=[0,0],z+=m),T&&(x=[M-p,0],M-=m));var A=[z,M];return e.get("inverse")&&A.reverse(),{viewRect:o,mainLength:h,orient:a,rotation:c[a],labelRotation:y,labelPosOpt:s,labelAlign:e.get(["label","align"])||l[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||u[a],playPosition:_,prevBtnPosition:S,nextBtnPosition:x,axisExtent:A,controlSize:p,controlGap:g}},t.prototype._position=function(e,r){var i=this._mainGroup,a=this._labelGroup,o=e.viewRect;if("vertical"===e.orient){var s=[1,0,0,1,0,0],l=o.x,u=o.y+o.height;jn(s,s,[-l,-u]),Ei(s,s,-Ty/2),jn(s,s,[l,u]),(o=o.clone()).applyTransform(s)}var c=_(o),h=_(i.getBoundingRect()),f=_(a.getBoundingRect()),v=[i.x,i.y],p=[a.x,a.y];p[0]=v[0]=c[0][0];var m,g=e.labelPosOpt;function y(x){x.originX=c[0][0]-x.x,x.originY=c[1][0]-x.y}function _(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function S(x,b,w,C,T){x[C]+=w[C][T]-b[C][T]}null==g||U(g)?(S(v,h,c,1,m="+"===g?0:1),S(p,f,c,1,1-m)):(S(v,h,c,1,m=g>=0?0:1),p[1]=v[1]+g),i.setPosition(v),a.setPosition(p),i.rotation=a.rotation=e.rotation,y(i),y(a)},t.prototype._createAxis=function(e,r){var i=r.getData(),a=r.get("axisType"),o=function(n,t){if(t=t||n.get("type"))switch(t){case"category":return new lg({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new fT({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new _i}}(r,a);o.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new f$("value",o,e.axisExtent,a);return l.model=r,l},t.prototype._createGroup=function(e){var r=this[e]=new ue;return this.group.add(r),r},t.prototype._renderAxisLine=function(e,r,i,a){var o=i.getExtent();if(a.get(["lineStyle","show"])){var s=new yt({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:V({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new yt({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:re({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},t.prototype._renderAxisTick=function(e,r,i,a){var o=this,s=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],D(l,function(u){var c=i.dataToCoord(u.value),h=s.getItemModel(u.value),f=h.getModel("itemStyle"),v=h.getModel(["emphasis","itemStyle"]),p=h.getModel(["progress","itemStyle"]),g={x:c,y:0,onclick:$(o._changeTimeline,o,u.value)},m=zI(h,f,r,g);m.ensureState("emphasis").style=v.getItemStyle(),m.ensureState("progress").style=p.getItemStyle(),oa(m);var y=ce(m);h.get("tooltip")?(y.dataIndex=u.value,y.dataModel=a):y.dataIndex=y.dataModel=null,o._tickSymbols.push(m)})},t.prototype._renderAxisLabel=function(e,r,i,a){var o=this;if(i.getLabelModel().get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],D(u,function(c){var h=c.tickValue,f=l.getItemModel(h),v=f.getModel("label"),p=f.getModel(["emphasis","label"]),g=f.getModel(["progress","label"]),m=i.dataToCoord(c.tickValue),y=new Me({x:m,y:0,rotation:e.labelRotation-e.rotation,onclick:$(o._changeTimeline,o,h),silent:!1,style:Fe(v,{text:c.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});y.ensureState("emphasis").style=Fe(p),y.ensureState("progress").style=Fe(g),r.add(y),oa(y),TI(y).dataIndex=h,o._tickLabels.push(y)})}},t.prototype._renderControl=function(e,r,i,a){var o=e.controlSize,s=e.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),h=a.get("inverse",!0);function f(v,p,g,m){if(v){var y=Rn(ve(a.get(["controlStyle",p+"BtnSize"]),o),o),S=function(n,t,e,r){var i=r.style,a=ll(n.get(["controlStyle",t]),r||{},new me(e[0],e[1],e[2],e[3]));return i&&a.setStyle(i),a}(a,p+"Icon",[0,-y/2,y,y],{x:v[0],y:v[1],originX:o/2,originY:0,rotation:m?-s:0,rectHover:!0,style:l,onclick:g});S.ensureState("emphasis").style=u,r.add(S),oa(S)}}f(e.nextBtnPosition,"next",$(this._changeTimeline,this,h?"-":"+")),f(e.prevBtnPosition,"prev",$(this._changeTimeline,this,h?"+":"-")),f(e.playPosition,c?"stop":"play",$(this._handlePlayClick,this,!c),!0)},t.prototype._renderCurrentPointer=function(e,r,i,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this;this._currentPointer=zI(l,l,this._mainGroup,{},this._currentPointer,{onCreate:function(h){h.draggable=!0,h.drift=$(u._handlePointerDrag,u),h.ondragend=$(u._handlePointerDragend,u),DI(h,u._progressLine,s,i,a,!0)},onUpdate:function(h){DI(h,u._progressLine,s,i,a)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,r){var i=this._toAxisCoord(e)[0],o=pn(this._axis.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=e.model;e._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Vn(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var a,r=this.model.getData(),i=1/0,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-e);c<i&&(i=c,a=l)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var r=this.model.getCurrentIndex();"+"===e?e=r+1:"-"===e&&(e=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<e);if(i)for(a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",TI(i[a]).dataIndex<=e)},t.type="timeline.slider",t}(c$);function zI(n,t,e,r,i,a){var o=t.get("color");i?(i.setColor(o),e.add(i),a&&a.onUpdate(i)):((i=ot(n.get("symbol"),-1,-1,2,2,o)).setStyle("strokeNoScale",!0),e.add(i),a&&a.onCreate(i));var l=t.getItemStyle(["color"]);i.setStyle(l),r=de({rectHover:!0,z2:100},r,!0);var u=Vo(n.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=xa(n.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var h=n.get("symbolRotate");return r.rotation=(h||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function DI(n,t,e,r,i,a){if(!n.dragging){var o=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",e));if(a||!o.get("animation",!0))n.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}const m$=v$;function _$(n){var t=n&&n.timeline;F(t)||(t=t?[t]:[]),D(t,function(e){!e||function(n){var t=n.type,e={number:"value",time:"time"};if(e[t]&&(n.axisType=e[t],delete n.type),MI(n),Xa(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});Xa(r,"position")||(r.position=n.controlPosition),"none"===r.position&&!Xa(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}D(n.data||[],function(i){oe(i)&&!F(i)&&(!Xa(i,"value")&&Xa(i,"name")&&(i.value=i.name),MI(i))})}(e)})}function MI(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),r=n.label||n.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};D(r,function(o,s){!a[s]&&!Xa(i,s)&&(i[s]=o)}),e.label&&!Xa(r,"emphasis")&&(r.emphasis=e.label,delete e.label)}function Xa(n,t){return n.hasOwnProperty(t)}function zy(n,t){if(!n)return!1;for(var e=F(n)?n:[n],r=0;r<e.length;r++)if(e[r]&&e[r][t])return!0;return!1}function sf(n){Ui(n,"label",["show"])}var lf=Ce(),AI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return E(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(ze.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,r){this._mergeOption(e,r,!1,!1)},t.prototype._mergeOption=function(e,r,i,a){var o=this.mainType;i||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=lf(s)[o];l&&l.data?(u?u._mergeOption(l,r,!0):(a&&sf(l),D(l.data,function(c){c instanceof Array?(sf(c[0]),sf(c[1])):sf(c)}),V(u=this.createMarkerModelFromSeries(l,this,r),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),lf(s)[o]=u):lf(s)[o]=null},this)},t.prototype.formatTooltip=function(e,r,i){var a=this.getData(),o=this.getRawValue(e),s=a.getName(e);return ft("section",{header:this.name,blocks:[ft("nameValue",{name:s,value:o,noName:!s,noValue:null==o})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,r){var i=bc.prototype.getDataParams.call(this,e,r),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(e,r){return lf(e)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Ae);rt(AI,bc.prototype);const Di=AI;var b$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Di);const w$=b$;function Dy(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function uf(n,t,e,r,i,a){var o=[],l=di(t,r)?t.getCalculationInfo("stackResultDimension"):r,u=Ay(t,l,n),c=t.indicesOfNearest(l,u)[0];o[i]=t.get(e,c),o[a]=t.get(l,c);var h=t.get(r,c),f=nr(t.get(r,c));return(f=Math.min(f,20))>=0&&(o[a]=+o[a].toFixed(f)),[o,h]}var My={min:pe(uf,"min"),max:pe(uf,"max"),average:pe(uf,"average"),median:pe(uf,"median")};function au(n,t){if(t){var e=n.getData(),r=n.coordinateSystem,i=r&&r.dimensions;if(!function(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}(t)&&!F(t.coord)&&F(i)){var a=II(t,e,r,n);if((t=se(t)).type&&My[t.type]&&a.baseAxis&&a.valueAxis){var o=_e(i,a.baseAxis.dim),s=_e(i,a.valueAxis.dim),l=My[t.type](e,a.baseDataDim,a.valueDataDim,o,s);t.coord=l[0],t.value=l[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&F(i))for(var u=t.coord,c=0;c<2;c++)My[u[c]]&&(u[c]=Ay(e,e.mapDimension(i[c]),u[c]));else t.coord=[];return t}}function II(n,t,e,r){var i={};return null!=n.valueIndex||null!=n.valueDim?(i.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,i.valueAxis=e.getAxis(function(n,t){var e=n.getData().getDimensionInfo(t);return e&&e.coordDim}(r,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function ou(n,t){return!(n&&n.containData&&t.coord&&!Dy(t))||n.containData(t.coord)}function PI(n,t){return n?function(e,r,i,a){return ui(a<2?e.coord&&e.coord[a]:e.value,t[a])}:function(e,r,i,a){return ui(e.value,t[a])}}function Ay(n,t,e){if("average"===e){var r=0,i=0;return n.each(t,function(a,o){isNaN(a)||(r+=a,i++)}),r/i}return"median"===e?n.getMedian(t):n.getDataExtent(t)["max"===e?1:0]}var Iy=Ce(),D$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.init=function(){this.markerGroupMap=Q()},t.prototype.render=function(e,r,i){var a=this,o=this.markerGroupMap;o.each(function(s){Iy(s).keep=!1}),r.eachSeries(function(s){var l=Di.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,r,i)}),o.each(function(s){!Iy(s).keep&&a.group.remove(s.group)})},t.prototype.markKeep=function(e){Iy(e).keep=!0},t.prototype.toggleBlurSeries=function(e,r){var i=this;D(e,function(a){var o=Di.getMarkerModelFromSeries(a,i.type);o&&o.getData().eachItemGraphicEl(function(l){l&&(r?kS(l):op(l))})})},t.type="marker",t}(je);const Py=D$;function LI(n,t,e){var r=t.coordinateSystem;n.each(function(i){var o,a=n.getItemModel(i),s=Y(a.get("x"),e.getWidth()),l=Y(a.get("y"),e.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(n.getValues(n.dimensions,i));else if(r){var u=n.get(r.dimensions[0],i),c=n.get(r.dimensions[1],i);o=r.dataToPoint([u,c])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),n.setItemLayout(i,o)})}var M$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(a){var o=Di.getMarkerModelFromSeries(a,"markPoint");o&&(LI(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,r,i,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new Al),h=function(n,t,e){var r;r=n?G(n&&n.dimensions,function(s){return V(V({},t.getData().getDimensionInfo(t.getData().mapDimension(s))||{}),{name:s,ordinalMeta:null})}):[{name:"value",type:"float"}];var i=new Ft(r,e),a=G(e.get("data"),pe(au,t));n&&(a=Pe(a,pe(ou,n)));var o=PI(!!n,r);return i.initData(a,null,o),i}(o,e,r);r.setData(h),LI(r.getData(),e,a),h.each(function(f){var v=h.getItemModel(f),p=v.getShallow("symbol"),g=v.getShallow("symbolSize"),m=v.getShallow("symbolRotate"),y=v.getShallow("symbolOffset"),_=v.getShallow("symbolKeepAspect");if(ee(p)||ee(g)||ee(m)||ee(y)){var S=r.getRawValue(f),x=r.getDataParams(f);ee(p)&&(p=p(S,x)),ee(g)&&(g=g(S,x)),ee(m)&&(m=m(S,x)),ee(y)&&(y=y(S,x))}var b=v.getModel("itemStyle").getItemStyle(),w=vl(l,"color");b.fill||(b.fill=w),h.setItemVisual(f,{symbol:p,symbolSize:g,symbolRotate:m,symbolOffset:y,symbolKeepAspect:_,style:b})}),c.updateData(h),this.group.add(c.group),h.eachItemGraphicEl(function(f){f.traverse(function(v){ce(v).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||e.get("silent")},t.type="markPoint",t}(Py);const I$=M$;var L$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Di);const O$=L$;var cf=Ce(),R$=function(n,t,e,r){var a,i=n.getData();if(F(r))a=r;else{var o=r.type;if("min"===o||"max"===o||"average"===o||"median"===o||null!=r.xAxis||null!=r.yAxis){var s=void 0,l=void 0;if(null!=r.yAxis||null!=r.xAxis)s=t.getAxis(null!=r.yAxis?"y":"x"),l=gt(r.yAxis,r.xAxis);else{var u=II(r,i,t,n);s=u.valueAxis,l=Ay(i,fC(i,u.valueDataDim),o)}var h="x"===s.dim?0:1,f=1-h,v=se(r),p={coord:[]};v.type=null,v.coord=[],v.coord[f]=-1/0,p.coord[f]=1/0;var g=e.get("precision");g>=0&&De(l)&&(l=+l.toFixed(Math.min(g,20))),v.coord[h]=p.coord[h]=l,a=[v,p,{type:o,valueIndex:r.valueIndex,value:l}]}else a=[]}var m=[au(n,a[0]),au(n,a[1]),V({},a[2])];return m[2].type=m[2].type||null,de(m[2],m[0]),de(m[2],m[1]),m};function hf(n){return!isNaN(n)&&!isFinite(n)}function OI(n,t,e,r){var i=1-n,a=r.dimensions[n];return hf(t[i])&&hf(e[i])&&t[n]===e[n]&&r.getAxis(a).containData(t[n])}function N$(n,t){if("cartesian2d"===n.type){var e=t[0].coord,r=t[1].coord;if(e&&r&&(OI(1,e,r,n)||OI(0,e,r,n)))return!0}return ou(n,t[0])&&ou(n,t[1])}function Ly(n,t,e,r,i){var s,a=r.coordinateSystem,o=n.getItemModel(t),l=Y(o.get("x"),i.getWidth()),u=Y(o.get("y"),i.getHeight());if(isNaN(l)||isNaN(u)){if(r.getMarkerPosition)s=r.getMarkerPosition(n.getValues(n.dimensions,t));else{var h=n.get((c=a.dimensions)[0],t),f=n.get(c[1],t);s=a.dataToPoint([h,f])}if(La(a,"cartesian2d")){var c,v=a.getAxis("x"),p=a.getAxis("y");hf(n.get((c=a.dimensions)[0],t))?s[0]=v.toGlobalCoord(v.getExtent()[e?0:1]):hf(n.get(c[1],t))&&(s[1]=p.toGlobalCoord(p.getExtent()[e?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}else s=[l,u];n.setItemLayout(t,s)}var k$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(a){var o=Di.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=cf(o).from,u=cf(o).to;l.each(function(c){Ly(l,c,!0,a,i),Ly(u,c,!1,a,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,r,i,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new im);this.group.add(c.group);var h=function(n,t,e){var r;r=n?G(n&&n.dimensions,function(u){return V(V({},t.getData().getDimensionInfo(t.getData().mapDimension(u))||{}),{name:u,ordinalMeta:null})}):[{name:"value",type:"float"}];var i=new Ft(r,e),a=new Ft(r,e),o=new Ft([],e),s=G(e.get("data"),pe(R$,t,n,e));n&&(s=Pe(s,pe(N$,n)));var l=PI(!!n,r);return i.initData(G(s,function(u){return u[0]}),null,l),a.initData(G(s,function(u){return u[1]}),null,l),o.initData(G(s,function(u){return u[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}(o,e,r),f=h.from,v=h.to,p=h.line;cf(r).from=f,cf(r).to=v,r.setData(p);var g=r.get("symbol"),m=r.get("symbolSize"),y=r.get("symbolRotate"),_=r.get("symbolOffset");function S(x,b,w){var C=x.getItemModel(b);Ly(x,b,w,e,a);var T=C.getModel("itemStyle").getItemStyle();null==T.fill&&(T.fill=vl(l,"color")),x.setItemVisual(b,{symbolKeepAspect:C.get("symbolKeepAspect"),symbolOffset:ve(C.get("symbolOffset",!0),_[w?0:1]),symbolRotate:ve(C.get("symbolRotate",!0),y[w?0:1]),symbolSize:ve(C.get("symbolSize"),m[w?0:1]),symbol:ve(C.get("symbol",!0),g[w?0:1]),style:T})}F(g)||(g=[g,g]),F(m)||(m=[m,m]),F(y)||(y=[y,y]),F(_)||(_=[_,_]),h.from.each(function(x){S(f,x,!0),S(v,x,!1)}),p.each(function(x){var b=p.getItemModel(x).getModel("lineStyle").getLineStyle();p.setItemLayout(x,[f.getItemLayout(x),v.getItemLayout(x)]),null==b.stroke&&(b.stroke=f.getItemVisual(x,"style").fill),p.setItemVisual(x,{fromSymbolKeepAspect:f.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(x,"symbolOffset"),fromSymbolRotate:f.getItemVisual(x,"symbolRotate"),fromSymbolSize:f.getItemVisual(x,"symbolSize"),fromSymbol:f.getItemVisual(x,"symbol"),toSymbolKeepAspect:v.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:v.getItemVisual(x,"symbolOffset"),toSymbolRotate:v.getItemVisual(x,"symbolRotate"),toSymbolSize:v.getItemVisual(x,"symbolSize"),toSymbol:v.getItemVisual(x,"symbol"),style:b})}),c.updateData(p),h.line.eachItemGraphicEl(function(x){ce(x).dataModel=r,x.traverse(function(b){ce(b).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||e.get("silent")},t.type="markLine",t}(Py);const B$=k$;var F$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Di);const G$=F$;var ff=Ce(),H$=function(n,t,e,r){var i=r[0],a=r[1];if(i&&a){var o=au(n,i),s=au(n,a),l=o.coord,u=s.coord;l[0]=gt(l[0],-1/0),l[1]=gt(l[1],-1/0),u[0]=gt(u[0],1/0),u[1]=gt(u[1],1/0);var c=If([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function vf(n){return!isNaN(n)&&!isFinite(n)}function RI(n,t,e,r){var i=1-n;return vf(t[i])&&vf(e[i])}function W$(n,t){var e=t.coord[0],r=t.coord[1],i={coord:e,x:t.x0,y:t.y0},a={coord:r,x:t.x1,y:t.y1};return La(n,"cartesian2d")?!(!e||!r||!RI(1,e,r)&&!RI(0,e,r))||function(n,t,e){return!(n&&n.containZone&&t.coord&&e.coord&&!Dy(t)&&!Dy(e))||n.containZone(t.coord,e.coord)}(n,i,a):ou(n,i)||ou(n,a)}function NI(n,t,e,r,i){var s,a=r.coordinateSystem,o=n.getItemModel(t),l=Y(o.get(e[0]),i.getWidth()),u=Y(o.get(e[1]),i.getHeight());if(isNaN(l)||isNaN(u)){if(r.getMarkerPosition){var c=n.getValues(["x0","y0"],t),h=n.getValues(["x1","y1"],t),f=a.clampData(c),v=a.clampData(h),p=[];p[0]="x0"===e[0]?f[0]>v[0]?h[0]:c[0]:f[0]>v[0]?c[0]:h[0],p[1]="y0"===e[1]?f[1]>v[1]?h[1]:c[1]:f[1]>v[1]?c[1]:h[1],s=r.getMarkerPosition(p,e,!0)}else{var y=[g=n.get(e[0],t),m=n.get(e[1],t)];a.clampData&&a.clampData(y,y),s=a.dataToPoint(y,!0)}if(La(a,"cartesian2d")){var _=a.getAxis("x"),S=a.getAxis("y"),g=n.get(e[0],t),m=n.get(e[1],t);vf(g)?s[0]=_.toGlobalCoord(_.getExtent()["x0"===e[0]?0:1]):vf(m)&&(s[1]=S.toGlobalCoord(S.getExtent()["y0"===e[1]?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}else s=[l,u];return s}var kI=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Y$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(a){var o=Di.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var u=G(kI,function(h){return NI(s,l,h,a,i)});s.setItemLayout(l,u),s.getItemGraphicEl(l).setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,r,i,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new ue});this.group.add(c.group),this.markKeep(c);var h=function(n,t,e){var r,i;if(n){var o=G(n&&n.dimensions,function(u){var c=t.getData();return V(V({},c.getDimensionInfo(c.mapDimension(u))||{}),{name:u,ordinalMeta:null})});i=G(["x0","y0","x1","y1"],function(u,c){return{name:u,type:o[c%2].type}}),r=new Ft(i,e)}else r=new Ft(i=[{name:"value",type:"float"}],e);var s=G(e.get("data"),pe(H$,t,n,e));n&&(s=Pe(s,pe(W$,n)));var l=n?function(u,c,h,f){return ui(u.coord[Math.floor(f/2)][f%2],i[f])}:function(u,c,h,f){return ui(u.value,i[f])};return r.initData(s,null,l),r.hasItemOption=!0,r}(o,e,r);r.setData(h),h.each(function(f){var v=G(kI,function(T){return NI(h,f,T,e,a)}),p=o.getAxis("x").scale,g=o.getAxis("y").scale,m=p.getExtent(),y=g.getExtent(),_=[p.parse(h.get("x0",f)),p.parse(h.get("x1",f))],S=[g.parse(h.get("y0",f)),g.parse(h.get("y1",f))];pn(_),pn(S),h.setItemLayout(f,{points:v,allClipped:!!(m[0]>_[1]||m[1]<_[0]||y[0]>S[1]||y[1]<S[0])});var w=h.getItemModel(f).getModel("itemStyle").getItemStyle(),C=vl(l,"color");w.fill||(w.fill=C,U(w.fill)&&(w.fill=Ru(w.fill,.4))),w.stroke||(w.stroke=C),h.setItemVisual(f,"style",w)}),h.diff(ff(c).data).add(function(f){var v=h.getItemLayout(f);if(!v.allClipped){var p=new $t({shape:{points:v.points}});h.setItemGraphicEl(f,p),c.group.add(p)}}).update(function(f,v){var p=ff(c).data.getItemGraphicEl(v),g=h.getItemLayout(f);g.allClipped?p&&c.group.remove(p):(p?Ie(p,{shape:{points:g.points}},r,f):p=new $t({shape:{points:g.points}}),h.setItemGraphicEl(f,p),c.group.add(p))}).remove(function(f){var v=ff(c).data.getItemGraphicEl(f);c.group.remove(v)}).execute(),h.eachItemGraphicEl(function(f,v){var p=h.getItemModel(v),g=h.getItemVisual(v,"style");f.useStyle(h.getItemVisual(v,"style")),bt(f,ht(p),{labelFetcher:r,labelDataIndex:v,defaultText:h.getName(v)||"",inheritColor:U(g.fill)?Ru(g.fill,1):"#000"}),xt(f,p),Je(f,null,null,p.get(["emphasis","disabled"])),ce(f).dataModel=r}),ff(c).data=h,c.group.silent=r.get("silent")||e.get("silent")},t.type="markArea",t}(Py);const U$=Y$;var Q$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return E(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},t.prototype._updateSelector=function(e){var r=e.selector,i=this.ecModel;!0===r&&(r=e.selector=["all","inverse"]),F(r)&&D(r,function(a,o){U(a)&&(a={type:a}),r[o]=de(a,function(n,t){return"all"===t?{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var r=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var r=[],i=[];e.eachRawSeries(function(l){var c;if(i.push(l.name),l.legendVisualProvider){var f=l.legendVisualProvider.getAllNames();e.isSeriesFiltered(l)||(i=i.concat(f)),f.length?r=r.concat(f):c=!0}else c=!0;c&&Rv(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,o=Q(),s=G(a,function(l){return(U(l)||De(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new Ge(l,this,this.ecModel))},this);this._data=Pe(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var r=this.option.selected;"single"===this.get("selectedMode")&&D(this._data,function(o){r[o.get("name")]=!1}),r[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var r=this.option.selected;D(this._data,function(i){r[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this.option.selected;D(this._data,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},t.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&_e(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Ae);const Oy=Q$;var ls=pe,Ry=D,pf=ue,J$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return E(t,n),t.prototype.init=function(){this.group.add(this._contentGroup=new pf),this.group.add(this._selectorGroup=new pf),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||"auto"===o)&&(o="right"===e.get("left")&&"vertical"===s?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||"auto"===u)&&(u="horizontal"===s?"end":"start"),this.renderInner(o,e,r,i,l,s,u);var c=e.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},f=e.get("padding"),v=lt(c,h,f),p=this.layoutInner(e,o,v,a,l,u),g=lt(re({width:p.width,height:p.height},c),h,f);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=ZA(p,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,r,i,a,o,s,l){var u=this.getContentGroup(),c=Q(),h=r.get("selectedMode"),f=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&f.push(v.id)}),Ry(r.getData(),function(v,p){var g=v.get("name");if(!this.newlineDisabled&&(""===g||"\n"===g)){var m=new pf;return m.newline=!0,void u.add(m)}var y=i.getSeriesByName(g)[0];if(!c.get(g))if(y){var _=y.getData(),S=_.getVisual("legendLineStyle")||{},x=_.getVisual("legendIcon"),b=_.getVisual("style"),w=this._createItem(y,g,p,v,r,e,S,b,x,h,a);w.on("click",ls(EI,g,null,a,f)).on("mouseover",ls(Ny,y.name,null,a,f)).on("mouseout",ls(ky,y.name,null,a,f)),i.ssr&&w.eachChild(function(C){var T=ce(C);T.seriesIndex=y.seriesIndex,T.dataIndex=p,T.ssrType="legend"}),c.set(g,!0)}else i.eachRawSeries(function(C){if(!c.get(g)&&C.legendVisualProvider){var T=C.legendVisualProvider;if(!T.containName(g))return;var z=T.indexOfName(g),M=T.getItemVisual(z,"style"),A=T.getItemVisual(z,"legendIcon"),I=Wt(M.fill);I&&0===I[3]&&(I[3]=.2,M=V(V({},M),{fill:er(I,"rgba")}));var P=this._createItem(C,g,p,v,r,e,{},M,A,h,a);P.on("click",ls(EI,null,g,a,f)).on("mouseover",ls(Ny,null,g,a,f)).on("mouseout",ls(ky,null,g,a,f)),i.ssr&&P.eachChild(function(L){var O=ce(L);O.seriesIndex=C.seriesIndex,O.dataIndex=p,O.ssrType="legend"}),c.set(g,!0)}},this)},this),o&&this._createSelector(o,r,a,s,l)},t.prototype._createSelector=function(e,r,i,a,o){var s=this.getSelectorGroup();Ry(e,function(u){var c=u.type,h=new Me({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===c?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(h),bt(h,{normal:r.getModel("selectorLabel"),emphasis:r.getModel(["emphasis","selectorLabel"])},{defaultText:u.title}),oa(h)})},t.prototype._createItem=function(e,r,i,a,o,s,l,u,c,h,f){var v=e.visualDrawType,p=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(r),y=a.get("symbolRotate"),_=a.get("symbolKeepAspect"),S=a.get("icon"),x=function(n,t,e,r,i,a,o){function s(m,y){"auto"===m.lineWidth&&(m.lineWidth=y.lineWidth>0?2:0),Ry(m,function(_,S){"inherit"===m[S]&&(m[S]=y[S])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=0===n.lastIndexOf("empty",0)?"fill":"stroke",h=l.getShallow("decal");u.decal=h&&"inherit"!==h?Go(h,o):r.decal,"inherit"===u.fill&&(u.fill=r[i]),"inherit"===u.stroke&&(u.stroke=r[c]),"inherit"===u.opacity&&(u.opacity=("fill"===i?r:e).opacity),s(u,r);var f=t.getModel("lineStyle"),v=f.getLineStyle();if(s(v,e),"auto"===u.fill&&(u.fill=r.fill),"auto"===u.stroke&&(u.stroke=r.fill),"auto"===v.stroke&&(v.stroke=r.fill),!a){var p=t.get("inactiveBorderWidth");u.lineWidth="auto"===p?r.lineWidth>0&&u[c]?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),v.stroke=f.get("inactiveColor"),v.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:v}}(c=S||c||"roundRect",a,l,u,v,m,f),b=new pf,w=a.getModel("textStyle");if(!ee(e.getLegendIcon)||S&&"inherit"!==S){var C="inherit"===S&&e.getData().getVisual("symbol")?"inherit"===y?e.getData().getVisual("symbolRotate"):y:0;b.add(function(n){var t=n.icon||"roundRect",e=ot(t,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return e.setStyle(n.itemStyle),e.rotation=(n.iconRotate||0)*Math.PI/180,e.setOrigin([n.itemWidth/2,n.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}({itemWidth:p,itemHeight:g,icon:c,iconRotate:C,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:_}))}else b.add(e.getLegendIcon({itemWidth:p,itemHeight:g,icon:c,iconRotate:y,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:_}));var T="left"===s?p+5:-5,z=s,M=o.get("formatter"),A=r;U(M)&&M?A=M.replace("{name}",null!=r?r:""):ee(M)&&(A=M(r));var I=m?w.getTextColor():a.get("inactiveColor");b.add(new Me({style:Fe(w,{text:A,x:T,y:g/2,fill:I,align:z,verticalAlign:"middle"},{inheritColor:I})}));var P=new Te({shape:b.getBoundingRect(),style:{fill:"transparent"}}),L=a.getModel("tooltip");return L.get("show")&&_a({el:P,componentModel:o,itemName:r,itemTooltipOption:L.option}),b.add(P),b.eachChild(function(O){O.silent=!0}),P.silent=!h,this.getContentGroup().add(b),oa(b),b.__legendDataIndex=i,b},t.prototype.layoutInner=function(e,r,i,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();ha(e.get("orient"),l,e.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),h=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){ha("horizontal",u,e.get("selectorItemGap",!0));var f=u.getBoundingRect(),v=[-f.x,-f.y],p=e.get("selectorButtonGap",!0),g=e.getOrient().index,m=0===g?"width":"height",y=0===g?"height":"width",_=0===g?"y":"x";"end"===s?v[g]+=c[m]+p:h[g]+=f[m]+p,v[1-g]+=c[y]/2-f[y]/2,u.x=v[0],u.y=v[1],l.x=h[0],l.y=h[1];var S={x:0,y:0};return S[m]=c[m]+p+f[m],S[y]=Math.max(c[y],f[y]),S[_]=Math.min(0,f[_]+v[1-g]),S}return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(je);function EI(n,t,e,r){ky(n,t,e,r),e.dispatchAction({type:"legendToggleSelect",name:null!=n?n:t}),Ny(n,t,e,r)}function BI(n){for(var e,t=n.getZr().storage.getDisplayList(),r=0,i=t.length;r<i&&!(e=t[r].states.emphasis);)r++;return e&&e.hoverLayer}function Ny(n,t,e,r){BI(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:r})}function ky(n,t,e,r){BI(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:r})}const VI=J$;function K$(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var r=0;r<t.length;r++)if(!t[r].isSelected(e.name))return!1;return!0})}function su(n,t,e){var r="allSelect"===n||"inverseSelect"===n,i={},a=[];e.eachComponent({mainType:"legend",query:t},function(s){r?s[n]():s[n](t.name),FI(s,i),a.push(s.componentIndex)});var o={};return e.eachComponent("legend",function(s){D(i,function(l,u){s[l?"select":"unSelect"](u)}),FI(s,o)}),r?{selected:o,legendIndex:a}:{name:t.name,selected:o}}function FI(n,t){var e=t||{};return D(n.getData(),function(r){var i=r.get("name");if("\n"!==i&&""!==i){var a=n.isSelected(i);e[i]=X(e,i)?e[i]&&a:a}}),e}function GI(n){n.registerComponentModel(Oy),n.registerComponentView(VI),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,K$),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(n){n.registerAction("legendToggleSelect","legendselectchanged",pe(su,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",pe(su,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",pe(su,"inverseSelect")),n.registerAction("legendSelect","legendselected",pe(su,"select")),n.registerAction("legendUnSelect","legendunselected",pe(su,"unSelect"))}(n)}var tX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,r,i){var a=zo(e);n.prototype.init.call(this,e,r,i),HI(this,e,a)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),HI(this,this.option,e)},t.type="legend.scroll",t.defaultOption=oi(Oy.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Oy);function HI(n,t,e){var i=[1,1];i[n.getOrient().index]=0,li(t,e,{type:"box",ignoreSize:!!i})}const nX=tX;var WI=ue,Ey=["width","height"],By=["x","y"],rX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return E(t,n),t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new WI),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new WI)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,r,i,a,o,s,l){var u=this;n.prototype.renderInner.call(this,e,r,i,a,o,s,l);var c=this._controllerGroup,h=r.get("pageIconSize",!0),f=F(h)?h:[h,h];p("pagePrev",0);var v=r.getModel("pageTextStyle");function p(g,m){var y=g+"DataIndex",_=ll(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:$(u._pageGo,u,y,r,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});_.name=g,c.add(_)}c.add(new Me({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},t.prototype.layoutInner=function(e,r,i,a,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,c=Ey[u],h=By[u],f=Ey[1-u],v=By[1-u];o&&ha("horizontal",l,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),g=l.getBoundingRect(),m=[-g.x,-g.y],y=se(i);o&&(y[c]=i[c]-g[c]-p);var _=this._layoutContentAndController(e,a,y,u,c,f,v,h);if(o){if("end"===s)m[u]+=_[c]+p;else{var S=g[c]+p;m[u]-=S,_[h]-=S}_[c]+=g[c]+p,m[1-u]+=_[v]+_[f]/2-g[f]/2,_[f]=Math.max(_[f],g[f]),_[v]=Math.min(_[v],g[v]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return _},t.prototype._layoutContentAndController=function(e,r,i,a,o,s,l,u){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;ha(e.get("orient"),c,e.get("itemGap"),a?i.width:null,a?null:i.height),ha("horizontal",f,e.get("pageButtonItemGap",!0));var v=c.getBoundingRect(),p=f.getBoundingRect(),g=this._showController=v[o]>i[o],m=[-v.x,-v.y];r||(m[a]=c[u]);var y=[0,0],_=[-p.x,-p.y],S=ve(e.get("pageButtonGap",!0),e.get("itemGap",!0));g&&("end"===e.get("pageButtonPosition",!0)?_[a]+=i[o]-p[o]:y[a]+=p[o]+S),_[1-a]+=v[s]/2-p[s]/2,c.setPosition(m),h.setPosition(y),f.setPosition(_);var b={x:0,y:0};if(b[o]=g?i[o]:v[o],b[s]=Math.max(v[s],p[s]),b[l]=Math.min(0,p[l]+_[1-a]),h.__rectSize=i[o],g){var w={x:0,y:0};w[o]=Math.max(i[o]-p[o]-S,0),w[s]=b[s],h.setClipPath(new Te({shape:w})),h.__rectSize=w[o]}else f.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(e);return null!=C.pageIndex&&Ie(c,{x:C.contentPosition[0],y:C.contentPosition[1]},g?e:null),this._updatePageInfoView(e,C),b},t.prototype._pageGo=function(e,r,i){var a=this._getPageInfo(r)[e];null!=a&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},t.prototype._updatePageInfoView=function(e,r){var i=this._controllerGroup;D(["pagePrev","pageNext"],function(c){var f=null!=r[c+"DataIndex"],v=i.childOfName(c);v&&(v.setStyle("fill",e.get(f?"pageIconColor":"pageIconInactiveColor",!0)),v.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),o=e.get("pageFormatter"),s=r.pageIndex,l=null!=s?s+1:0,u=r.pageCount;a&&o&&a.setStyle("text",U(o)?o.replace("{current}",null==l?"":l+"").replace("{total}",null==u?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=e.getOrient().index,s=Ey[o],l=By[o],u=this._findTargetItemIndex(r),c=i.children(),h=c[u],f=c.length,v=f?1:0,p={contentPosition:[i.x,i.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return p;var g=x(h);p.contentPosition[o]=-g.s;for(var m=u+1,y=g,_=g,S=null;m<=f;++m)(!(S=x(c[m]))&&_.e>y.s+a||S&&!b(S,y.s))&&(y=_.i>y.i?_:S)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=y.i),++p.pageCount),_=S;for(m=u-1,y=g,_=g,S=null;m>=-1;--m)(!(S=x(c[m]))||!b(_,S.s))&&y.i<_.i&&(_=y,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=y.i),++p.pageCount,++p.pageIndex),y=S;return p;function x(w){if(w){var C=w.getBoundingRect(),T=C[l]+w[l];return{s:T,e:T+C[s],i:w.__legendDataIndex}}}function b(w,C){return w.e>=C&&w.s<=C+a}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(o,s){var l=o.__legendDataIndex;null==a&&null!=l&&(a=s),l===e&&(r=s)}),null!=r?r:a):0;var r,a},t.type="legend.scroll",t}(VI);const iX=rX;function oX(n){Se(GI),n.registerComponentModel(nX),n.registerComponentView(iX),function(n){n.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;null!=r&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(r)})})}(n)}var lX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="dataZoom.inside",t.defaultOption=oi(nu.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(nu);const uX=lX;var Vy=Ce();function cX(n,t,e){Vy(n).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function YI(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function vX(n,t){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function pX(n,t,e,r){return n.coordinateSystem.containPoint([e,r])}var mX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return E(t,n),t.prototype.render=function(e,r,i){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),cX(i,e,{pan:$(Fy.pan,this),zoom:$(Fy.zoom,this),scrollMove:$(Fy.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(n,t){for(var e=Vy(n).coordSysRecordMap,r=e.keys(),i=0;i<r.length;i++){var o=e.get(r[i]),s=o.dataZoomInfoMap;if(s){var l=t.uid;s.get(l)&&(s.removeKey(l),s.keys().length||YI(e,o))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(fy),Fy={zoom:function(n,t,e,r){var i=this.range,a=i.slice(),o=n.axisModels[0];if(o){var s=Gy[t](null,[r.originX,r.originY],o,e,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/r.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Wa(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:ZI(function(n,t,e,r,i,a){var o=Gy[r]([a.oldX,a.oldY],[a.newX,a.newY],t,i,e);return o.signal*(n[1]-n[0])*o.pixel/o.pixelLength}),scrollMove:ZI(function(n,t,e,r,i,a){return Gy[r]([0,0],[a.scrollDelta,a.scrollDelta],t,i,e).signal*(n[1]-n[0])*a.scrollDelta})};function ZI(n){return function(t,e,r,i){var a=this.range,o=a.slice(),s=t.axisModels[0];if(s&&(Wa(n(o,s,t,e,r,i),o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1]))return o}}var Gy={grid:function(n,t,e,r,i){var a=e.axis,o={},s=i.model.coordinateSystem.getRect();return n=n||[0,0],"x"===a.dim?(o.pixel=t[0]-n[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-n[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(n,t,e,r,i){var a=e.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],t=s.pointToCoord(t),"radiusAxis"===e.mainType?(o.pixel=t[0]-n[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-n[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(n,t,e,r,i){var a=e.axis,o=i.model.coordinateSystem.getRect(),s={};return n=n||[0,0],"horizontal"===a.orient?(s.pixel=t[0]-n[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};const yX=mX;function UI(n){vy(n),n.registerComponentModel(uX),n.registerComponentView(yX),function(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=Vy(e),i=r.coordSysRecordMap||(r.coordSysRecordMap=Q());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){D(VA(a).infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,function(n,t){var e={model:t,containsPoint:pe(pX,t),dispatchAction:pe(vX,n),dataZoomInfoMap:null,controller:null},r=e.controller=new Vl(n.getZr());return D(["pan","zoom","scrollMove"],function(i){r.on(i,function(a){var o=[];e.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&e.dispatchAction(o)})}),e}(e,s.model));(u.dataZoomInfoMap||(u.dataZoomInfoMap=Q())).set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),i.each(function(a){var s,o=a.controller,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];null!=u&&(s=l.get(u))}if(s){var c=function(n){var t,e="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return n.each(function(a){var o=a.model,s=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");r[e+s]>r[e+t]&&(t=s),i=i&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}(l);o.enable(c.controlType,c.opt),o.setPointerChecker(a.containsPoint),Eo(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")}else YI(i,a)})})}(n)}var _X=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=oi(nu.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(nu);const SX=_X;var lu=Te,uu="horizontal",XI="vertical",CX=["line","bar","candlestick","scatter"],TX={easing:"cubicOut",duration:100,delay:0},zX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return E(t,n),t.prototype.init=function(e,r){this.api=r,this._onBrush=$(this._onBrush,this),this._onBrushEnd=$(this._onBrushEnd,this)},t.prototype.render=function(e,r,i,a){if(n.prototype.render.apply(this,arguments),Eo(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show"))return e.noTarget()?(this._clear(),void this.group.removeAll()):((!a||"dataZoom"!==a.type||a.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){cl(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new ue;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,a=e.get("brushSelect")?7:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===uu?{right:s.width-o.x-o.width,top:s.height-30-7-a,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},u=zo(e.option);D(["right","top","width","height"],function(h){"ph"===u[h]&&(u[h]=l[h])});var c=lt(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===XI&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,r=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i!==uu||o?i===uu&&o?{scaleY:l?1:-1,scaleX:-1}:i!==XI||o?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var u=e.getBoundingRect([s]);e.x=r.x-u.x,e.y=r.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,a=e.get("brushSelect");i.add(new lu({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new lu({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:$(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var r=this._size,i=this._shadowSize||[],a=e.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():e.otherDim;if(null!=l){var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var h=o.getDataExtent(l),f=.3*(h[1]-h[0]);h=[h[0]-f,h[1]+f];var x,v=[0,r[1]],g=[[r[0],0],[0,0]],m=[],y=r[0]/(o.count()-1),_=0,S=Math.round(o.count()/r[0]);o.each([l],function(z,M){if(S>0&&M%S)_+=y;else{var A=null==z||isNaN(z)||""===z,I=A?0:Oe(z,h,v,!0);A&&!x&&M?(g.push([g[g.length-1][0],0]),m.push([m[m.length-1][0],0])):!A&&x&&(g.push([_,0]),m.push([_,0])),g.push([_,I]),m.push([_,I]),_+=y,x=A}}),u=this._shadowPolygonPts=g,c=this._shadowPolylinePts=m}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];for(var M,A,I,P,b=this.dataZoomModel,C=0;C<3;C++){var T=(M=void 0,A=void 0,void 0,void 0,M=b.getModel(1===C?"selectedDataBackground":"dataBackground"),A=new ue,I=new $t({shape:{points:u},segmentIgnoreThreshold:1,style:M.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),P=new Xt({shape:{points:c},segmentIgnoreThreshold:1,style:M.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),A.add(I),A.add(P),A);this._displayables.sliderGroup.add(T),this._displayables.dataShadowSegs.push(T)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(!1!==r){var i,a=this.ecModel;return e.eachTargetAxis(function(o,s){D(e.getAxisProxy(o,s).getTargetSeriesModels(),function(u){if(!(i||!0!==r&&_e(CX,u.get("type"))<0)){var f,c=a.getComponent(Ti(o),s).axis,h=function(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}(o),v=u.coordinateSystem;null!=h&&v.getOtherAxis&&(f=v.getOtherAxis(c).inverse),h=u.getData().mapDimension(h),i={thisAxis:c,series:u,thisDim:o,otherDim:h,otherAxisInverse:f}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,r=this._displayables,i=r.handles=[null,null],a=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,h=l.get("brushSelect"),f=r.filler=new lu({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new lu({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),D([0,1],function(S){var x=l.get("handleIcon");!Zc[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var b=ot(x,-1,0,2,2,null,!0);b.attr({cursor:QI(this._orient),draggable:!0,drift:$(this._onDragMove,this,S),ondragend:$(this._onDragEnd,this),onmouseover:$(this._showDataInfo,this,!0),onmouseout:$(this._showDataInfo,this,!1),z2:5});var w=b.getBoundingRect(),C=l.get("handleSize");this._handleHeight=Y(C,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,b.setStyle(l.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),oa(b);var T=l.get("handleColor");null!=T&&(b.style.fill=T),o.add(i[S]=b);var z=l.getModel("textStyle"),M=l.get("handleLabel")||{};e.add(a[S]=new Me({silent:!0,invisible:!M.show,style:Fe(z,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:z.getTextColor(),font:z.getFont()}),z2:10}))},this);var v=f;if(h){var p=Y(l.get("moveHandleSize"),s[1]),g=r.moveHandle=new Te({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),m=.8*p,y=r.moveHandleIcon=ot(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);y.silent=!0,y.y=s[1]+p/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var _=Math.min(s[1]/2,Math.max(p,10));(v=r.moveZone=new Te({invisible:!0,shape:{y:s[1]-_,height:p+_}})).on("mouseover",function(){u.enterEmphasis(g)}).on("mouseout",function(){u.leaveEmphasis(g)}),o.add(g),o.add(y),o.add(v)}v.attr({draggable:!0,cursor:QI(this._orient),drift:$(this._onDragMove,this,"all"),ondragstart:$(this._showDataInfo,this,!0),ondragend:$(this._onDragEnd,this),onmouseover:$(this._showDataInfo,this,!0),onmouseout:$(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Oe(e[0],[0,100],r,!0),Oe(e[1],[0,100],r,!0)]},t.prototype._updateInterval=function(e,r){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Wa(r,a,o,i.get("zoomLock")?"all":e,null!=s.minSpan?Oe(s.minSpan,l,o,!0):null,null!=s.maxSpan?Oe(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=pn([Oe(a[0],o,l,!0),Oe(a[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(e){var r=this._displayables,i=this._handleEnds,a=pn(i.slice()),o=this._size;D([0,1],function(v){var g=this._handleHeight;r.handles[v].attr({scaleX:g/2,scaleY:g/2,x:i[v]+(v?-1:1),y:o[1]/2-g/2})},this),r.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,a[0],a[1],o[0]],c=0;c<l.length;c++){var h=l[c],f=h.getClipPath();f||(f=new Te,h.setClipPath(f)),f.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,h=e?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var f=pn(this._handleEnds.slice());function v(p){var g=ya(i.handles[p].parent,this.group),m=Fc(0===p?"right":"left",g),y=this._handleWidth/2+5,_=Vn([f[p]+(0===p?-y:y),this._size[1]/2],g);a[p].setStyle({x:_[0],y:_[1],verticalAlign:o===uu?"middle":m,align:o===uu?m:"center",text:s[p]})}v.call(this,0),v.call(this,1)},t.prototype._formatLabel=function(e,r){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(null==o||"auto"===o)&&(o=r.getPixelPrecision());var s=null==e||isNaN(e)?"":"category"===r.type||"time"===r.type?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return ee(a)?a(e,s):U(a)?a.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var i=(this.dataZoomModel.get("handleLabel")||{}).show||!1,o=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,s=e||this._dragging?o:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(e,r,i,a){this._dragging=!0,Cr(a.event);var s=Vn([r,i],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var a=this._handleEnds,s=this._updateInterval("all",i[0]-(a[0]+a[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new ge(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,r){r.attr("ignore",!0);var i=r.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=pn([Oe(i.x,o,s,!0),Oe(i.x+i.width,o,s,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Cr(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,r){var i=this._displayables,o=i.brushRect;o||(o=i.brushRect=new lu({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,r),c=l.transformCoordToLocal(s.x,s.y),h=this._size;u[0]=Math.max(Math.min(h[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:h[1]})},t.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?TX:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var e,r=VA(this.dataZoomModel).infoList;if(!e&&r.length){var i=r[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var a=this.api.getWidth(),o=this.api.getHeight();e={x:.2*a,y:.2*o,width:.6*a,height:.6*o}}return e},t.type="dataZoom.slider",t}(fy);function QI(n){return"vertical"===n?"ns-resize":"ew-resize"}const MX=zX;function JI(n){n.registerComponentModel(SX),n.registerComponentView(MX),vy(n)}var IX={get:function(n,t,e){var r=se((PX[n]||{})[t]);return e&&F(r)?r[r.length-1]:r}},PX={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const qI=IX;var jI=Ct.mapVisual,LX=Ct.eachVisual,OX=F,KI=D,RX=pn,NX=Oe,kX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return E(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,r){!r&&dI(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var r=this.stateList;e=$(e,this),this.controllerVisuals=by(this.option.controller,r,e),this.targetVisuals=by(this.option.target,r,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,r=[];return null==e||"all"===e?this.ecModel.eachSeries(function(i,a){r.push(a)}):r=ke(e),r},t.prototype.eachTargetSeries=function(e,r){D(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&e.call(r,a)},this)},t.prototype.isTargetSeries=function(e){var r=!1;return this.eachTargetSeries(function(i){i===e&&(r=!0)}),r},t.prototype.formatValueText=function(e,r,i){var u,a=this.option,o=a.precision,s=this.dataBound,l=a.formatter;i=i||["<",">"],F(e)&&(e=e.slice(),u=!0);var c=r?e:u?[h(e[0]),h(e[1])]:h(e);return U(l)?l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c):ee(l)?u?l(e[0],e[1]):l(e):u?e[0]===s[0]?i[0]+" "+c[1]:e[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1]:c;function h(f){return f===s[0]?"min":f===s[1]?"max":(+f).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,r=RX([e.min,e.max]);this._dataExtent=r},t.prototype.getDataDimensionIndex=function(e){var r=this.option.dimension;if(null!=r)return e.getDimensionIndex(r);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var s=e.getDimensionInfo(i[a]);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),o=r.controller||(r.controller={});de(a,i),de(o,i);var s=this.isCategory();function l(h){OX(r.color)&&!h.inRange&&(h.inRange={color:r.color.slice().reverse()}),h.inRange=h.inRange||{color:e.get("gradientColor")}}l.call(this,a),l.call(this,o),function(h,f,v){var p=h[f],g=h[v];p&&!g&&(g=h[v]={},KI(p,function(m,y){if(Ct.isValidType(y)){var _=qI.get(y,"inactive",s);null!=_&&(g[y]=_,"color"===y&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,v=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),m=this.getItemSymbol()||"roundRect";KI(this.stateList,function(y){var _=this.itemSize,S=h[y];S||(S=h[y]={color:s?p:[p]}),null==S.symbol&&(S.symbol=f&&se(f)||(s?m:[m])),null==S.symbolSize&&(S.symbolSize=v&&se(v)||(s?_[0]:[_[0],_[0]])),S.symbol=jI(S.symbol,function(w){return"none"===w?m:w});var x=S.symbolSize;if(null!=x){var b=-1/0;LX(x,function(w){w>b&&(b=w)}),S.symbolSize=jI(x,function(w){return NX(w,[0,b],[0,_[0]],!0)})}},this)}.call(this,o)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Ae);const df=kX;var e2=[20,140],EX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=e2[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=e2[1])},t.prototype._resetRange=function(){var e=this.getExtent(),r=this.option.range;!r||r.auto?(e.auto=1,this.option.range=e):F(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],e[0]),r[1]=Math.min(r[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),D(this.stateList,function(e){var r=this.option.controller[e].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),r=pn((this.get("range")||[]).slice());return r[0]>e[1]&&(r[0]=e[1]),r[1]>e[1]&&(r[1]=e[1]),r[0]<e[0]&&(r[0]=e[0]),r[1]<e[0]&&(r[1]=e[0]),r},t.prototype.getValueState=function(e){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=e)&&(r[1]>=i[1]||e<=r[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){e[0]<=s&&s<=e[1]&&a.push(l)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},t.prototype.getVisualMeta=function(e){var r=t2(0,0,this.getExtent()),i=t2(0,0,this.option.range.slice()),a=[];function o(v,p){a.push({value:v,color:e(v,p)})}for(var s=0,l=0,u=i.length,c=r.length;l<c&&(!i.length||r[l]<=i[0]);l++)r[l]<i[s]&&o(r[l],"outOfRange");for(var h=1;s<u;s++,h=0)h&&a.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(h=1;l<c;l++)(!i.length||i[i.length-1]<r[l])&&(h&&(a.length&&o(a[a.length-1].value,"outOfRange"),h=0),o(r[l],"outOfRange"));var f=a.length;return{stops:a,outerColors:[f?a[0].color:"transparent",f?a[f-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=oi(df.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(df);function t2(n,t,e){if(e[0]===e[1])return e.slice();for(var i=(e[1]-e[0])/200,a=e[0],o=[],s=0;s<=200&&a<e[1];s++)o.push(a),a+=i;return o.push(e[1]),o}const BX=EX;var VX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return E(t,n),t.prototype.init=function(e,r){this.ecModel=e,this.api=r},t.prototype.render=function(e,r,i,a){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,r,i,a):this.group.removeAll()},t.prototype.renderBackground=function(e){var r=this.visualMapModel,i=To(r.get("padding")||0),a=e.getBoundingRect();e.add(new Te({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,r,i){var a=(i=i||{}).forceState,o=this.visualMapModel,s={};if("color"===r){var l=o.get("contentColor");s.color=l}function u(v){return s[v]}function c(v,p){s[v]=p}var h=o.controllerVisuals[a||o.getValueState(e)];return D(Ct.prepareVisualTypes(h),function(v){var p=h[v];i.convertOpacityToAlpha&&"opacity"===v&&(v="colorAlpha",p=h.__alphaForOpacity),Ct.dependsOn(v,r)&&p&&p.applyVisual(e,u,c)}),s[r]},t.prototype.positionGroup=function(e){var i=this.api;_c(e,this.visualMapModel.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,r,i,a){},t.type="visualMap",t}(je);const n2=VX;var r2=[["left","right","width"],["top","bottom","height"]];function i2(n,t,e){var r=n.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var a={width:t.getWidth(),height:t.getHeight()},o="horizontal"===r.orient?1:0,s=r2[o],l=[0,null,10],u={},c=0;c<3;c++)u[r2[1-o][c]]=l[c],u[s[c]]=2===c?e[0]:r[s[c]];var h=[["x","width",3],["y","height",0]][o],f=lt(u,a,r.padding);return s[(f.margin[h[2]]||0)+f[h[0]]+.5*f[h[1]]<.5*a[h[1]]?0:1]}function gf(n,t){return D(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var yr=Oe,FX=D,a2=Math.min,Wy=Math.max,WX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return E(t,n),t.prototype.init=function(e,r){n.prototype.init.call(this,e,r),this._hoverLinkFromSeriesMouseOver=$(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=$(this._hideIndicator,this)},t.prototype.doRender=function(e,r,i,a){(!a||"selectDataRange"!==a.type||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,r=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(r);var i=e.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},t.prototype._renderEndsText=function(e,r,i){if(r){var a=r[1-i];a=null!=a?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,0===i?-s:l[1]+s],u),h=this._applyTransform(0===i?"bottom":"top",u),f=this._orient;this.group.add(new Me({style:Fe(this.visualMapModel.textStyleModel,{x:c[0],y:c[1],verticalAlign:"horizontal"===f?"middle":h,align:"horizontal"===f?h:"center",text:a})}))}},t.prototype._renderBar=function(e){var r=this.visualMapModel,i=this._shapes,a=r.itemSize,o=this._orient,s=this._useHandle,l=i2(r,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new ue;u.add(c),c.add(i.outOfRange=o2()),c.add(i.inRange=o2(null,s?l2(this._orient):null,$(this._dragHandle,this,"all",!1),$(this._dragHandle,this,"all",!0))),c.setClipPath(new Te({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=r.textStyleModel.getTextRect("\u56fd"),f=Wy(h.width,h.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,a,f,o),this._createHandle(r,u,1,a,f,o)),this._createIndicator(r,u,a,f,o),e.add(u)},t.prototype._createHandle=function(e,r,i,a,o,s){var l=$(this._dragHandle,this,i,!1),u=$(this._dragHandle,this,i,!0),c=Rn(e.get("handleSize"),a[0]),h=ot(e.get("handleIcon"),-c/2,-c/2,c,c,null,!0),f=l2(this._orient);h.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){Cr(y.event)}}),h.x=a[0]/2,h.useStyle(e.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),sa(h,!0),r.add(h);var p=new Me({cursor:f,draggable:!0,drift:l,onmousemove:function(y){Cr(y.event)},ondragend:u,style:Fe(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[c,0],m=this._shapes;m.handleThumbs[i]=h,m.handleLabelPoints[i]=g,m.handleLabels[i]=p},t.prototype._createIndicator=function(e,r,i,a,o){var s=Rn(e.get("indicatorSize"),i[0]),l=ot(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof St){var c=l.style;l.useStyle(V({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var f=new Me({silent:!0,invisible:!0,style:Fe(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(f);var v=[("horizontal"===o?a/2:6)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=f,p.indicatorLabelPoint=v,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,r,i,a){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():s2(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,r=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[yr(r[0],i,a,!0),yr(r[1],i,a,!0)]},t.prototype._updateInterval=function(e,r){var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];Wa(r=r||0,a,o,e,0);var s=i.getExtent();this._dataInterval=[yr(a[0],o,s,!0),yr(a[1],o,s,!0)]},t.prototype._updateView=function(e){var r=this.visualMapModel,i=r.getExtent(),a=this._shapes,o=[0,r.itemSize[1]],s=e?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,r,i,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,o),l=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new ol(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,r){var a=[],o=(e[1]-e[0])/100;a.push({color:this.getControllerVisual(e[0],"color",r),offset:0});for(var s=1;s<100;s++){var l=e[0]+o*s;if(l>e[1])break;a.push({color:this.getControllerVisual(l,"color",r),offset:s/100})}return a.push({color:this.getControllerVisual(e[1],"color",r),offset:1}),a},t.prototype._createBarPoints=function(e,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-r[1],e[1]]]},t.prototype._createBarGroup=function(e){var r=this._orient,i=this.visualMapModel.get("inverse");return new ue("horizontal"!==r||i?"horizontal"===r&&i?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==r||i?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,r){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);FX([0,1],function(h){var f=o[h];f.setStyle("fill",r.handlesColor[h]),f.y=e[h];var v=yr(e[h],[0,l[1]],u,!0),p=this.getControllerVisual(v,"symbolSize");f.scaleX=f.scaleY=p/l[0],f.x=l[0]-p/2;var g=Vn(i.handleLabelPoints[h],ya(f,this.group));"horizontal"===this._orient&&(g[1]+="left"===c||"top"===c?(l[0]-p)/2:(l[0]-p)/-2),s[h].setStyle({x:g[0],y:g[1],text:a.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,r,i,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,h=c.indicator;if(h){h.attr("invisible",!1);var v=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),p=this.getControllerVisual(e,"symbolSize"),g=yr(e,s,u,!0),m=l[0]-p/2,y={x:h.x,y:h.y};h.y=g,h.x=m;var _=Vn(c.indicatorLabelPoint,ya(h,this.group)),S=c.indicatorLabel;S.attr("invisible",!1);var x=this._applyTransform("left",c.mainGroup),w="horizontal"===this._orient;S.setStyle({text:(i||"")+o.formatValueText(r),verticalAlign:w?x:"middle",align:w?"center":x});var C={x:m,y:g,style:{fill:v}},T={style:{x:_[0],y:_[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var z={duration:100,easing:"cubicInOut",additive:!0};h.x=y.x,h.y=y.y,h.animateTo(C,z),S.animateTo(T,z)}else h.attr(C),S.attr(T);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var A=0;A<M.length;A++)this.api.enterBlur(M[A])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(r){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([r.offsetX,r.offsetY],e._shapes.mainGroup,!0,!0);a[1]=a2(Wy(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,r){var i=this.visualMapModel;if(i.option.hoverLink){var o=[0,i.itemSize[1]],s=i.getExtent();e=a2(Wy(o[0],e),o[1]);var l=function(n,t,e){var r=6,i=n.get("hoverLinkDataSize");return i&&(r=yr(i,t,e,!0)/2),r}(i,s,o),u=[e-l,e+l],c=yr(e,o,s,!0),h=[yr(u[0],o,s,!0),yr(u[1],o,s,!0)];u[0]<o[0]&&(h[0]=-1/0),u[1]>o[1]&&(h[1]=1/0),r&&(h[0]===-1/0?this._showIndicator(c,h[1],"< ",l):h[1]===1/0?this._showIndicator(c,h[0],"> ",l):this._showIndicator(c,c,"\u2248 ",l));var f=this._hoverLinkDataIndices,v=[];(r||s2(i))&&(v=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var p=function(n,t){var e={},r={};return i(n||[],e),i(t||[],r,e),[a(e),a(r)];function i(o,s,l){for(var u=0,c=o.length;u<c;u++){var h=st(o[u].seriesId,null);if(null==h)return;for(var f=ke(o[u].dataIndex),v=l&&l[h],p=0,g=f.length;p<g;p++){var m=f[p];v&&v[m]?v[m]=null:(s[h]||(s[h]={}))[m]=1}}}function a(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&null!=o[u])if(s)l.push(+u);else{var c=a(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}(f,v);this._dispatchHighDown("downplay",gf(p[0],i)),this._dispatchHighDown("highlight",gf(p[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var r;if(Sa(e.target,function(l){var u=ce(l);if(null!=u.dataIndex)return r=u,!0},!0),r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(r.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",gf(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,r,i,a){var o=ya(r,a?null:this.group);return F(e)?Vn(e,o,i):Fc(e,o,i)},t.prototype._dispatchHighDown=function(e,r){r&&r.length&&this.api.dispatchAction({type:e,batch:r})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(n2);function o2(n,t,e,r){return new $t({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){Cr(i.event)},ondragend:r})}function s2(n){var t=n.get("hoverLinkOnHandle");return!!(null==t?n.get("realtime"):t)}function l2(n){return"vertical"===n?"ns-resize":"ew-resize"}const ZX=WX;var UX={type:"selectDataRange",event:"dataRangeSelected",update:"update"},$X=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},XX=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(r){var i=n.pipelineContext;!r.isTargetSeries(n)||i&&i.large||e.push(function(n,t,e,r){var i={};return D(n,function(a){var o=Ct.prepareVisualTypes(t[a]);i[a]=o}),{progress:function(o,s){var l;function u(b){return ld(s,h,b)}function c(b,w){zb(s,h,b,w)}null!=r&&(l=s.getDimensionIndex(r));for(var h,f=s.getStore();null!=(h=o.next());){var v=s.getRawDataItem(h);if(!v||!1!==v.visualMap)for(var p=null!=r?f.get(l,h):h,g=e(p),m=t[g],y=i[g],_=0,S=y.length;_<S;_++){var x=y[_];m[x]&&m[x].applyVisual(p,u,c)}}}}}(r.stateList,r.targetVisuals,$(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),r=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var a=i.getVisualMeta($(QX,null,n,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(e);o>=0&&(a.dimension=o,r.push(a))}}),n.getData().setVisual("visualMeta",r)}}];function QX(n,t,e,r){for(var i=t.targetVisuals[r],a=Ct.prepareVisualTypes(i),o={color:vl(n.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=i["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(e,h,f)}return o.color;function h(v){return o[v]}function f(v,p){o[v]=p}}var u2=D;function JX(n){var t=n&&n.visualMap;F(t)||(t=t?[t]:[]),u2(t,function(e){if(e){us(e,"splitList")&&!us(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var r=e.pieces;r&&F(r)&&u2(r,function(i){oe(i)&&(us(i,"start")&&!us(i,"min")&&(i.min=i.start),us(i,"end")&&!us(i,"max")&&(i.max=i.end))})}})}function us(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var c2=!1;function h2(n){c2||(c2=!0,n.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),n.registerAction(UX,$X),D(XX,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(JX))}function f2(n){n.registerComponentModel(BX),n.registerComponentView(ZX),h2(n)}var qX=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return E(t,n),t.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],jX[this._mode].call(this,this._pieceList),this._resetSelected(e,r);var a=this.option.categories;this.resetVisual(function(o,s){"categories"===i?(o.mappingMethod="category",o.categories=se(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=G(this._pieceList,function(l){return l=se(l),"inRange"!==s&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,r={},i=Ct.listVisualTypes(),a=this.isCategory();function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}D(e.pieces,function(s){D(i,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),D(r,function(s,l){var u=!1;D(this.stateList,function(c){u=u||o(e,c,l)||o(e.target,c,l)},this),!u&&D(this.stateList,function(c){(e[c]||(e[c]={}))[l]=qI.get(l,"inRange"===c?"active":"inactive",a)})},this),n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,r){var i=this.option,a=this._pieceList,o=(r?i:e).selected||{};if(i.selected=o,D(a,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),"single"===i.selectedMode){var s=!1;D(a,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=se(e)},t.prototype.getValueState=function(e){var r=Ct.findPieceIndex(e,this._pieceList);return null!=r&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){Ct.findPieceIndex(l,i)===e&&o.push(u)},this),r.push({seriesId:a.id,dataIndex:o})},this),r},t.prototype.getRepresentValue=function(e){var r;if(this.isCategory())r=e.value;else if(null!=e.value)r=e.value;else{var i=e.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var r=[],i=["",""],a=this,s=this._pieceList.slice();if(s.length){var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),(l=s[s.length-1].interval[1])!==1/0&&s.push({interval:[l,1/0]})}else s.push({interval:[-1/0,1/0]});var u=-1/0;return D(s,function(c){var h=c.interval;h&&(h[0]>u&&o([u,h[0]],"outOfRange"),o(h.slice()),u=h[1])},this),{stops:r,outerColors:i}}function o(c,h){var f=a.getRepresentValue({interval:c});h||(h=a.getValueState(f));var v=e(f,h);c[0]===-1/0?i[0]=v:c[1]===1/0?i[1]=v:r.push({value:c[0],color:v},{value:c[1],color:v})}},t.type="visualMap.piecewise",t.defaultOption=oi(df.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(df),jX={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=a,o++)n.push({interval:[s,o===i-1?r[1]:s+a],close:[1,1]});t.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),k_(n),D(n,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var t=this.option;D(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),v2(t,n)},pieces:function(n){var t=this.option;D(t.pieces,function(e,r){oe(e)||(e={value:e});var i={text:"",index:r};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],v=0;v<3&&null==o[h];v++)o[h]=e[f[v]],s[h]=l[v],c[h]=2===v;null==o[h]&&(o[h]=u[h])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=Ct.retrieveVisuals(e),n.push(i)},this),v2(t,n),k_(n),D(n,function(e){var r=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][r[1]],[">","\u2265"][r[0]]])},this)}};function v2(n,t){var e=n.inverse;("vertical"===n.orient?!e:e)&&t.reverse()}const KX=qX;var eQ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return E(t,n),t.prototype.doRender=function(){var e=this.group;e.removeAll();var r=this.visualMapModel,i=r.get("textGap"),a=r.textStyleModel,o=a.getFont(),s=a.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),h=c.endsText,f=gt(r.get("showLabel",!0),!h),v=!r.get("selectedMode");h&&this._renderEndsText(e,h[0],u,f,l),D(c.viewPieceList,function(p){var g=p.piece,m=new ue;m.onclick=$(this._onItemClick,this,g),this._enableHoverLink(m,p.indexInModelPieceList);var y=r.getRepresentValue(g);if(this._createItemSymbol(m,y,[0,0,u[0],u[1]],v),f){var _=this.visualMapModel.getValueState(y);m.add(new Me({style:{x:"right"===l?-i:u[0]+i,y:u[1]/2,text:g.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:"outOfRange"===_?.5:1},silent:v}))}e.add(m)},this),h&&this._renderEndsText(e,h[1],u,f,l),ha(r.get("orient"),e,r.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,r){var i=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:gf(s.findTargetDataIndices(r),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,r=e.option;if("vertical"===r.orient)return i2(e,this.api,e.itemSize);var i=r.align;return(!i||"auto"===i)&&(i="left"),i},t.prototype._renderEndsText=function(e,r,i,a,o){if(r){var s=new ue;s.add(new Me({style:Fe(this.visualMapModel.textStyleModel,{x:a?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:r})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,r=G(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=e.get("text"),a=e.get("orient"),o=e.get("inverse");return("horizontal"===a?o:!o)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},t.prototype._createItemSymbol=function(e,r,i,a){var o=ot(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color"));o.silent=a,e.add(o)},t.prototype._onItemClick=function(e){var r=this.visualMapModel,i=r.option,a=i.selectedMode;if(a){var o=se(i.selected),s=r.getSelectedMapKey(e);"single"===a||!0===a?(o[s]=!0,D(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(n2);const tQ=eQ;function p2(n){n.registerComponentModel(KX),n.registerComponentView(tQ),h2(n)}var rQ={label:{enabled:!0},decal:{show:!1}},d2=Ce(),iQ={};function aQ(n,t){var e=n.getModel("aria");if(e.get("enabled")){var r=se(rQ);de(r.label,n.getLocaleModel().get("aria"),!1),de(e.option,r,!1),function(){if(e.getModel("decal").get("show")){var h=Q();n.eachSeries(function(f){if(!f.isColorBySeries()){var v=h.get(f.type);v||h.set(f.type,v={}),d2(f).scope=v}}),n.eachRawSeries(function(f){if(!n.isSeriesFiltered(f))if(ee(f.enableAriaDecal))f.enableAriaDecal();else{var v=f.getData();if(f.isColorBySeries()){var _=Pp(f.ecModel,f.name,iQ,n.getSeriesCount()),S=v.getVisual("decal");v.setVisual("decal",x(S,_))}else{var p=f.getRawData(),g={},m=d2(f).scope;v.each(function(b){var w=v.getRawIndex(b);g[w]=b});var y=p.count();p.each(function(b){var w=g[b],C=p.getName(b)||b+"",T=Pp(f.ecModel,C,m,y),z=v.getItemVisual(w,"decal");v.setItemVisual(w,"decal",x(z,T))})}}function x(b,w){var C=b?V(V({},w),b):w;return C.dirty=!0,C}})}}(),function(){var u=t.getZr().dom;if(u){var c=n.getLocaleModel().get("aria"),h=e.getModel("label");if(h.option=re(h.option,c),h.get("enabled")){if(u.setAttribute("role","img"),h.get("description"))return void u.setAttribute("aria-label",h.get("description"));var m,f=n.getSeriesCount(),v=h.get(["data","maxCount"])||10,p=h.get(["series","maxCount"])||10,g=Math.min(f,p);if(!(f<1)){var y=function(){var u=n.get("title");return u&&u.length&&(u=u[0]),u&&u.text}();if(y)m=o(h.get(["general","withTitle"]),{title:y});else m=h.get(["general","withoutTitle"]);var S=[];m+=o(h.get(f>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:f}),n.eachSeries(function(T,z){if(z<g){var M=void 0,I=T.get("name")?"withName":"withoutName";M=o(M=h.get(f>1?["series","multiple",I]:["series","single",I]),{seriesId:T.seriesIndex,seriesName:T.get("name"),seriesType:l(T.subType)});var P=T.getData();P.count()>v?M+=o(h.get(["data","partialData"]),{displayCnt:v}):M+=h.get(["data","allData"]);for(var O=h.get(["data","separator","middle"]),R=h.get(["data","separator","end"]),k=h.get(["data","excludeDimensionId"]),N=[],B=0;B<P.count();B++)if(B<v){var H=P.getName(B),W=k?Pe(P.getValues(B),function(K,te){return-1===_e(k,te)}):P.getValues(B),Z=h.get(["data",H?"withName":"withoutName"]);N.push(o(Z,{name:H,value:W.join(O)}))}M+=N.join(O)+R,S.push(M)}});var b=h.getModel(["series","multiple","separator"]),w=b.get("middle"),C=b.get("end");m+=S.join(w)+C,u.setAttribute("aria-label",m)}}}}()}function o(u,c){if(!U(u))return u;var h=u;return D(c,function(f,v){h=h.replace(new RegExp("\\{\\s*"+v+"\\s*\\}","g"),f)}),h}function l(u){var c=n.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function oQ(n){if(n&&n.aria){var t=n.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},D(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var g2={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},lQ=function(){function n(t){var e=this._condVal=U(t)?new RegExp(t):function(n){return"[object RegExp]"===to.call(n)}(t)?t:null;null==e&&Le("")}return n.prototype.evaluate=function(t){var e=typeof t;return U(e)?this._condVal.test(t):!!De(e)&&this._condVal.test(t+"")},n}(),uQ=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),cQ=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),hQ=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),fQ=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),vQ=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,r=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:r))return!1;return!0},n}();function Yy(n,t){if(!0===n||!1===n){var e=new uQ;return e.value=n,e}return y2(n)||Le(""),n.and?m2("and",n,t):n.or?m2("or",n,t):n.not?function(n,t){var e=n.not;y2(e)||Le("");var i=new fQ;return i.child=Yy(e,t),i.child||Le(""),i}(n,t):function(n,t){for(var r=t.prepareGetValue(n),i=[],a=we(n),o=n.parser,s=o?lx(o):null,l=0;l<a.length;l++){var u=a[l];if("parser"!==u&&!t.valueGetterAttrMap.get(u)){var c=X(g2,u)?g2[u]:u,h=n[u],f=s?s(h):h,v=ak(c,f)||"reg"===c&&new lQ(f);v||Le(""),i.push(v)}}i.length||Le("");var p=new vQ;return p.valueGetterParam=r,p.valueParser=s,p.getValue=t.getValue,p.subCondList=i,p}(n,t)}function m2(n,t,e){var r=t[n];F(r)||Le(""),r.length||Le("");var a="and"===n?new cQ:new hQ;return a.children=G(r,function(o){return Yy(o,e)}),a.children.length||Le(""),a}function y2(n){return oe(n)&&!zt(n)}var gQ=function(){function n(t,e){this._cond=Yy(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),yQ={type:"echarts:filter",transform:function(n){for(var e,t=n.upstream,r=function(n,t){return new gQ(n,t)}(n.config,{valueGetterAttrMap:Q({dimension:!0}),prepareGetValue:function(s){var u=s.dimension;X(s,"dimension")||Le("");var c=t.getDimensionInfo(u);return c||Le(""),{dimIdx:c.index}},getValue:function(s){return t.retrieveValueFromItem(e,s.dimIdx)}}),i=[],a=0,o=t.count();a<o;a++)e=t.getRawDataItem(a),r.evaluate()&&i.push(e);return{data:i}}},_Q={type:"echarts:sort",transform:function(n){var t=n.upstream,r="",i=ke(n.config);i.length||Le(r);var a=[];D(i,function(c){var h=c.dimension,f=c.order,v=c.parser,p=c.incomparable;null==h&&Le(r),"asc"!==f&&"desc"!==f&&Le(r),p&&"min"!==p&&"max"!==p&&Le(""),"asc"!==f&&"desc"!==f&&Le("");var y=t.getDimensionInfo(h);y||Le(r);var _=v?lx(v):null;v&&!_&&Le(r),a.push({dimIdx:y.index,parser:_,comparator:new cx(f,p)})});var o=t.sourceFormat;o!==Mt&&o!==_n&&Le(r);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(c,h){for(var f=0;f<a.length;f++){var v=a[f],p=t.retrieveValueFromItem(c,v.dimIdx),g=t.retrieveValueFromItem(h,v.dimIdx);v.parser&&(p=v.parser(p),g=v.parser(g));var m=v.comparator.evaluate(p,g);if(0!==m)return m}return 0}),{data:s}}},xQ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return E(t,n),t.prototype.init=function(e,r,i){n.prototype.init.call(this,e,r,i),this._sourceManager=new gx(this),mx(this)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),mx(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:cr},t}(Ae),bQ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return E(t,n),t.type="dataset",t}(je),_r=lr.CMD;function cs(n,t){return Math.abs(n-t)<1e-5}function Zy(n){var i,P,L,O,R,k,N,B,H,W,Z,K,te,he,ye,ae,xe,J,t=n.data,e=n.len(),r=[],a=0,o=0,s=0,l=0;function u(P,L){i&&i.length>2&&r.push(i),i=[P,L]}function c(P,L,O,R){cs(P,O)&&cs(L,R)||i.push(P,L,O,R,O,R)}for(var f,v,p,g,m=0;m<e;){var y=t[m++],_=1===m;switch(_&&(s=a=t[m],l=o=t[m+1],(y===_r.L||y===_r.C||y===_r.Q)&&(i=[s,l])),y){case _r.M:a=s=t[m++],o=l=t[m++],u(s,l);break;case _r.L:c(a,o,f=t[m++],v=t[m++]),a=f,o=v;break;case _r.C:i.push(t[m++],t[m++],t[m++],t[m++],a=t[m++],o=t[m++]);break;case _r.Q:f=t[m++],v=t[m++],p=t[m++],g=t[m++],i.push(a+2/3*(f-a),o+2/3*(v-o),p+2/3*(f-p),g+2/3*(v-g),p,g),a=p,o=g;break;case _r.A:var S=t[m++],x=t[m++],b=t[m++],w=t[m++],C=t[m++],T=t[m++]+C;m+=1;var z=!t[m++];f=Math.cos(C)*b+S,v=Math.sin(C)*w+x,_?u(s=f,l=v):c(a,o,f,v),a=Math.cos(T)*b+S,o=Math.sin(T)*w+x;for(var M=(z?-1:1)*Math.PI/2,A=C;z?A>T:A<T;A+=M){P=A,L=z?Math.max(A+M,T):Math.min(A+M,T),O=S,R=x,k=b,N=w,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,B=Math.abs(L-P),H=4*Math.tan(B/4)/3,W=L<P?-1:1,Z=Math.cos(P),K=Math.sin(P),te=Math.cos(L),he=Math.sin(L),i.push(Z*k+O-(xe=k*H*W)*K,K*N+R+(J=N*H*W)*Z,(ye=te*k+O)+xe*he,(ae=he*N+R)-J*te,ye,ae)}break;case _r.R:s=a=t[m++],l=o=t[m++],f=s+t[m++],v=l+t[m++],u(f,l),c(f,l,f,v),c(f,v,s,v),c(s,v,s,l),c(s,l,f,l);break;case _r.Z:i&&c(a,o,s,l),a=s,o=l}}return i&&i.length>2&&r.push(i),r}function Uy(n,t,e,r,i,a,o,s,l,u){if(cs(n,e)&&cs(t,r)&&cs(i,o)&&cs(a,s))l.push(o,s);else{var c=2/u,h=c*c,f=o-n,v=s-t,p=Math.sqrt(f*f+v*v);f/=p,v/=p;var g=e-n,m=r-t,y=i-o,_=a-s,S=g*g+m*m,x=y*y+_*_;if(S<h&&x<h)l.push(o,s);else{var b=f*g+v*m,w=-f*y-v*_;if(S-b*b<h&&b>=0&&x-w*w<h&&w>=0)l.push(o,s);else{var z=[],M=[];jr(n,e,i,o,.5,z),jr(t,r,a,s,.5,M),Uy(z[0],M[0],z[1],M[1],z[2],M[2],z[3],M[3],l,u),Uy(z[4],M[4],z[5],M[5],z[6],M[6],z[7],M[7],l,u)}}}}function _2(n,t,e){var a=Math.abs(n[t]/n[1-t]),o=Math.ceil(Math.sqrt(a*e)),s=Math.floor(e/o);0===s&&(s=1,o=e);for(var l=[],u=0;u<o;u++)l.push(s);var h=e-o*s;if(h>0)for(u=0;u<h;u++)l[u%o]+=1;return l}function S2(n,t,e){for(var r=n.r0,i=n.r,a=n.startAngle,s=Math.abs(n.endAngle-a),l=s*i,u=i-r,c=l>Math.abs(u),h=_2([l,u],c?0:1,t),f=(c?s:u)/h.length,v=0;v<h.length;v++)for(var p=(c?u:s)/h[v],g=0;g<h[v];g++){var m={};c?(m.startAngle=a+f*v,m.endAngle=a+f*(v+1),m.r0=r+p*g,m.r=r+p*(g+1)):(m.startAngle=a+p*g,m.endAngle=a+p*(g+1),m.r0=r+f*v,m.r=r+f*(v+1)),m.clockwise=n.clockwise,m.cx=n.cx,m.cy=n.cy,e.push(m)}}function x2(n,t,e,r){return n*r-e*t}function zQ(n,t,e,r,i,a,o,s){var l=e-n,u=r-t,c=o-i,h=s-a,f=x2(c,h,l,u);if(Math.abs(f)<1e-6)return null;var g=x2(n-i,t-a,c,h)/f;return g<0||g>1?null:new ge(g*l+n,g*u+t)}function DQ(n,t,e){var r=new ge;ge.sub(r,e,t),r.normalize();var i=new ge;return ge.sub(i,n,t),i.dot(r)}function hs(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function b2(n){var t=n.points,e=[],r=[];ec(t,e,r);var i=new me(e[0],e[1],r[0]-e[0],r[1]-e[1]),a=i.width,o=i.height,s=i.x,l=i.y,u=new ge,c=new ge;return a>o?(u.x=c.x=s+a/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+a),function(n,t,e){for(var r=n.length,i=[],a=0;a<r;a++){var o=n[a],s=n[(a+1)%r],l=zQ(o[0],o[1],s[0],s[1],t.x,t.y,e.x,e.y);l&&i.push({projPt:DQ(l,t,e),pt:l,idx:a})}if(i.length<2)return[{points:n},{points:n}];i.sort(function(m,y){return m.projPt-y.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var h=u;u=c,c=h}var f=[u.pt.x,u.pt.y],v=[c.pt.x,c.pt.y],p=[f],g=[v];for(a=u.idx+1;a<=c.idx;a++)hs(p,n[a].slice());for(hs(p,v),hs(p,f),a=c.idx+1;a<=u.idx+r;a++)hs(g,n[a%r].slice());return hs(g,f),hs(g,v),[{points:p},{points:g}]}(t,u,c)}function mf(n,t,e,r){if(1===e)r.push(t);else{var i=Math.floor(e/2),a=n(t);mf(n,a[0],i,r),mf(n,a[1],e-i,r)}return r}function IQ(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function OQ(n,t){var e=n.length,r=t.length;if(e===r)return[n,t];for(var i=[],a=[],o=e<r?n:t,s=Math.min(e,r),l=Math.abs(r-e)/6,c=Math.ceil(l/((s-2)/6))+1,h=[o[0],o[1]],f=l,v=2;v<s;){var p=o[v-2],g=o[v-1],m=o[v++],y=o[v++],_=o[v++],S=o[v++],x=o[v++],b=o[v++];if(f<=0)h.push(m,y,_,S,x,b);else{for(var w=Math.min(f,c-1)+1,C=1;C<=w;C++){var T=C/w;jr(p,m,_,x,T,i),jr(g,y,S,b,T,a),h.push(i[1],a[1],i[2],a[2],p=i[3],g=a[3]),m=i[5],y=a[5],_=i[6],S=a[6]}f-=w-1}}return o===n?[h,t]:[n,h]}function w2(n,t){for(var e=n.length,r=n[e-2],i=n[e-1],a=[],o=0;o<t.length;)a[o++]=r,a[o++]=i;return a}function C2(n){for(var t=0,e=0,r=0,i=n.length,a=0,o=i-2;a<i;o=a,a+=2){var s=n[o],l=n[o+1],u=n[a],c=n[a+1],h=s*c-u*l;t+=h,e+=(s+u)*h,r+=(l+c)*h}return 0===t?[n[0]||0,n[1]||0]:[e/t/3,r/t/3,t]}function NQ(n,t,e,r){for(var i=(n.length-2)/6,a=1/0,o=0,s=n.length,l=s-2,u=0;u<i;u++){for(var c=6*u,h=0,f=0;f<s;f+=2){var v=0===f?c:(c+f-2)%l+2,_=t[f]-r[0]-(n[v]-e[0]),S=t[f+1]-r[1]-(n[v+1]-e[1]);h+=_*_+S*S}h<a&&(a=h,o=u)}return o}function kQ(n){for(var t=[],e=n.length,r=0;r<e;r+=2)t[r]=n[e-r-2],t[r+1]=n[e-r-1];return t}function yf(n){return n.__isCombineMorphing}var T2="__mOriginal_";function _f(n,t,e){var r=T2+t,i=n[r]||n[t];n[r]||(n[r]=n[t]);var a=e.replace,o=e.after,s=e.before;n[t]=function(){var u,l=arguments;return s&&s.apply(this,l),u=a?a.apply(this,l):i.apply(this,l),o&&o.apply(this,l),u}}function cu(n,t){var e=T2+t;n[e]&&(n[t]=n[e],n[e]=null)}function z2(n,t){for(var e=0;e<n.length;e++)for(var r=n[e],i=0;i<r.length;){var a=r[i],o=r[i+1];r[i++]=t[0]*a+t[2]*o+t[4],r[i++]=t[1]*a+t[3]*o+t[5]}}function D2(n,t){var e=n.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),i=function(n,t){for(var e,r,i,a=[],o=[],s=0;s<Math.max(n.length,t.length);s++){var l=n[s],u=t[s],c=void 0,h=void 0;l?u?(r=c=(e=OQ(l,u))[0],i=h=e[1]):(h=w2(i||l,l),c=l):(c=w2(r||u,u),h=u),a.push(c),o.push(h)}return[a,o]}(Zy(e),Zy(r)),a=i[0],o=i[1],s=n.getComputedTransform(),l=t.getComputedTransform();s&&z2(a,s),l&&z2(o,l),_f(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var c=function(n,t,e,r){for(var a,i=[],o=0;o<n.length;o++){var s=n[o],l=t[o],u=C2(s),c=C2(l);null==a&&(a=u[2]<0!=c[2]<0);var h=[],f=[],v=0,p=1/0,g=[],m=s.length;a&&(s=kQ(s));for(var y=6*NQ(s,l,u,c),_=m-2,S=0;S<_;S+=2){var x=(y+S)%_+2;h[S+2]=s[x]-u[0],h[S+3]=s[x+1]-u[1]}h[0]=s[y]-u[0],h[1]=s[y+1]-u[1];for(var b=r/10,w=-r/2;w<=r/2;w+=b){var C=Math.sin(w),T=Math.cos(w),z=0;for(S=0;S<s.length;S+=2){var M=h[S],A=h[S+1],I=l[S]-c[0],P=l[S+1]-c[1],L=I*T-P*C,O=I*C+P*T;g[S]=L,g[S+1]=O;var R=L-M,k=O-A;z+=R*R+k*k}if(z<p){p=z,v=w;for(var N=0;N<g.length;N++)f[N]=g[N]}}i.push({from:h,to:f,fromCp:u,toCp:c,rotation:-v})}return i}(a,o,0,Math.PI),h=[];_f(t,"buildPath",{replace:function(f){for(var v=t.__morphT,p=1-v,g=[],m=0;m<c.length;m++){var y=c[m],_=y.from,S=y.to,x=y.rotation*v,b=y.fromCp,w=y.toCp,C=Math.sin(x),T=Math.cos(x);wu(g,b,w,v);for(var z=0;z<_.length;z+=2){var L=_[z]*p+(I=S[z])*v,O=_[z+1]*p+(P=S[z+1])*v;h[z]=L*T-O*C+g[0],h[z+1]=L*C+O*T+g[1]}var R=h[0],k=h[1];for(f.moveTo(R,k),z=2;z<_.length;){var I=h[z++],P=h[z++],N=h[z++],B=h[z++],H=h[z++],W=h[z++];R===I&&k===P&&N===H&&B===W?f.lineTo(H,W):f.bezierCurveTo(I,P,N,B,H,W),R=H,k=W}}}})}function $y(n,t,e){if(!n||!t)return t;var r=e.done,i=e.during;return D2(n,t),t.__morphT=0,t.animateTo({__morphT:1},re({during:function(o){t.dirtyShape(),i&&i(o)},done:function(){cu(t,"buildPath"),cu(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),r&&r()}},e)),t}function BQ(n,t,e,r,i,a){n=i===e?0:Math.round(32767*(n-e)/(i-e)),t=a===r?0:Math.round(32767*(t-r)/(a-r));for(var l,s=0,u=32768;u>0;u/=2){var c=0,h=0;(n&u)>0&&(c=1),(t&u)>0&&(h=1),s+=u*u*(3*c^h),0===h&&(1===c&&(n=u-1-n,t=u-1-t),l=n,n=t,t=l)}return s}function Sf(n){var t=1/0,e=1/0,r=-1/0,i=-1/0,a=G(n,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),h=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),e=Math.min(h,e),r=Math.max(c,r),i=Math.max(h,i),[c,h]});return G(a,function(s,l){return{cp:s,z:BQ(s[0],s[1],t,e,r,i),path:n[l]}}).sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function M2(n){return function(n,t){var i,e=[],r=n.shape;switch(n.type){case"rect":(function(n,t,e){for(var r=n.width,i=n.height,a=r>i,o=_2([r,i],a?0:1,t),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",h=n[s]/o.length,f=0;f<o.length;f++)for(var v=n[l]/o[f],p=0;p<o[f];p++){var g={};g[u]=f*h,g[c]=p*v,g[s]=h,g[l]=v,g.x+=n.x,g.y+=n.y,e.push(g)}})(r,t,e),i=Te;break;case"sector":S2(r,t,e),i=Ut;break;case"circle":S2({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,e),i=Ut;break;default:var a=n.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=G(function(n,t){var e=Zy(n),r=[];t=t||1;for(var i=0;i<e.length;i++){var a=e[i],o=[],s=a[0],l=a[1];o.push(s,l);for(var u=2;u<a.length;){var c=a[u++],h=a[u++],f=a[u++],v=a[u++],p=a[u++],g=a[u++];Uy(s,l,c,h,f,v,p,g,o,t),s=p,l=g}r.push(o)}return r}(n.getUpdatedPathProxy(),o),function(y){return function(n){for(var t=[],e=0;e<n.length;)t.push([n[e++],n[e++]]);return t}(y)}),l=s.length;if(0===l)mf(b2,{points:s[0]},t,e);else if(l===t)for(var u=0;u<l;u++)e.push({points:s[u]});else{var c=0,h=G(s,function(y){var _=[],S=[];ec(y,_,S);var x=(S[1]-_[1])*(S[0]-_[0]);return c+=x,{poly:y,area:x}});h.sort(function(y,_){return _.area-y.area});var f=t;for(u=0;u<l;u++){var v=h[u];if(f<=0)break;var p=u===l-1?f:Math.ceil(v.area/c*t);p<0||(mf(b2,{points:v.poly},p,e),f-=p)}}i=$t}if(!i)return function(n,t){for(var e=[],r=0;r<t;r++)e.push(qp(n));return e}(n,t);var g=[];for(u=0;u<e.length;u++){var m=new i;m.setShape(e[u]),IQ(n,m),g.push(m)}return g}(n.path,n.count)}function A2(n){return F(n[0])}function I2(n,t){for(var e=[],r=n.length,i=0;i<r;i++)e.push({one:n[i],many:[]});for(i=0;i<t.length;i++){var a=t[i].length,o=void 0;for(o=0;o<a;o++)e[o%r].many.push(t[i][o])}var s=0;for(i=r-1;i>=0;i--)if(!e[i].many.length){var l=e[s].many;if(l.length<=1){if(!s)return e;s=0}a=l.length;var u=Math.ceil(a/2);e[i].many=l.slice(u,a),e[s].many=l.slice(0,u),s++}return e}var GQ={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var i=qp(n.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function Qy(n,t,e,r,i,a){if(n.length&&t.length){var o=yo("update",r,i);if(o&&o.duration>0){var u,c,s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o);A2(n)&&(u=n,c=t),A2(t)&&(u=t,c=n);for(var f=u?u===n:n.length>t.length,v=u?I2(c,u):I2(f?t:n,[f?n:t]),p=0,g=0;g<v.length;g++)p+=v[g].many.length;var m=0;for(g=0;g<v.length;g++)h(v[g],f,m,p),m+=v[g].many.length}}function h(y,_,S,x,b){var w=y.many,C=y.one;if(1!==w.length||b)for(var A=re({dividePath:GQ[e],individualDelay:s&&function(k,N,B,H){return s(k+S,x)}},l),I=_?function(n,t,e){var r=[];!function i(b){for(var w=0;w<b.length;w++){var C=b[w];yf(C)?i(C.childrenRef()):C instanceof be&&r.push(C)}}(n);var a=r.length;if(!a)return{fromIndividuals:[],toIndividuals:[],count:0};var s=(e.dividePath||M2)({path:t,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};r=Sf(r),s=Sf(s);for(var l=e.done,u=e.during,c=e.individualDelay,h=new Dr,f=0;f<a;f++){var v=r[f],p=s[f];p.parent=t,p.copyTransform(h),c||D2(v,p)}function g(b){for(var w=0;w<s.length;w++)s[w].addSelfToZr(b)}function m(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,cu(t,"addSelfToZr"),cu(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return s},_f(t,"addSelfToZr",{after:function(b){g(b)}}),_f(t,"removeSelfFromZr",{after:function(b){for(var w=0;w<s.length;w++)s[w].removeSelfFromZr(b)}});var y=s.length;if(c){var _=y,S=function(){0==--_&&(m(),l&&l())};for(f=0;f<y;f++){var x=c?re({delay:(e.delay||0)+c(f,y,r[f],s[f]),done:S},e):e;$y(r[f],s[f],x)}}else t.__morphT=0,t.animateTo({__morphT:1},re({during:function(b){for(var w=0;w<y;w++){var C=s[w];C.__morphT=t.__morphT,C.dirtyShape()}u&&u(b)},done:function(){m();for(var b=0;b<n.length;b++)cu(n[b],"updateTransform");l&&l()}},e));return t.__zr&&g(t.__zr),{fromIndividuals:r,toIndividuals:s,count:y}}(w,C,A):function(n,t,e){var r=t.length,i=[],a=e.dividePath||M2;if(yf(n)){!function o(v){for(var p=0;p<v.length;p++){var g=v[p];yf(g)?o(g.childrenRef()):g instanceof be&&i.push(g)}}(n.childrenRef());var s=i.length;if(s<r)for(var l=0,u=s;u<r;u++)i.push(qp(i[l++%s]));i.length=r}else{i=a({path:n,count:r});var c=n.getComputedTransform();for(u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}i=Sf(i),t=Sf(t);var h=e.individualDelay;for(u=0;u<r;u++){var f=h?re({delay:(e.delay||0)+h(u,r,i[u],t[u])},e):e;$y(i[u],t[u],f)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}(C,w,A),P=I.fromIndividuals,L=I.toIndividuals,O=P.length,R=0;R<O;R++)M=s?re({delay:s(R,O)},l):l,a(P[R],L[R],_?w[R]:y.one,_?y.one:w[R],M);else{var M,T=_?w[0]:C,z=_?C:w[0];yf(T)?h({many:[T],one:z},!0,S,x,!0):($y(T,z,M=s?re({delay:s(S,x)},l):l),a(T,z,T,z,M))}}}function Qa(n){if(!n)return[];if(F(n)){for(var t=[],e=0;e<n.length;e++)t.push(Qa(n[e]));return t}var r=[];return n.traverse(function(i){i instanceof be&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var WQ=Ce();function R2(n,t,e,r){var a=function(n,t){for(var e=n.dimensions,r=0;r<e.length;r++){var i=n.getDimensionInfo(e[r]);if(i&&0===i.otherDims[t])return e[r]}}(n,r?"itemChildGroupId":"itemGroupId");if(a){var o=function(n,t,e){var r=n.getDimensionInfo(e),i=r&&r.ordinalMeta;if(r){var a=n.get(r.name,t);return i&&i.categories[a]||a+""}}(n,t,a);return o}var s=n.getRawDataItem(t),l=r?"childGroupId":"groupId";return s&&s[l]?s[l]+"":r?void 0:e||n.getId(t)}function N2(n){var t=[];return D(n,function(e){var r=e.data,i=e.dataGroupId;if(!(r.count()>1e4))for(var a=r.getIndices(),o=0;o<a.length;o++)t.push({data:r,groupId:R2(r,o,i,!1),childGroupId:R2(r,o,i,!0),divide:e.divide,dataIndex:o})}),t}function Jy(n,t,e){n.traverse(function(r){r instanceof be&&Ue(r,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function qy(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function fs(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function k2(n,t,e){var r=N2(n),i=N2(t);function a(S,x,b,w,C){(b||S)&&x.animateFrom({style:b&&b!==S?V(V({},b.style),S.style):S.style},C)}var o=!1,s=0,l=Q(),u=Q();r.forEach(function(S){S.groupId&&l.set(S.groupId,!0),S.childGroupId&&u.set(S.childGroupId,!0)});for(var c=0;c<i.length;c++){if(u.get(i[c].groupId)){s=1;break}var f=i[c].childGroupId;if(f&&l.get(f)){s=2;break}}function v(S,x){return function(b){return x?b.data.getId(b.dataIndex):S?1===s?b.childGroupId:b.groupId:2===s?b.childGroupId:b.groupId}}var p=function(n,t){var e=n.length;if(e!==t.length)return!1;for(var r=0;r<e;r++){var i=n[r],a=t[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(r,i),g={};if(!p)for(c=0;c<i.length;c++){var m=i[c],y=m.data.getItemGraphicEl(m.dataIndex);y&&(g[y.id]=!0)}function _(S,x){var b=r[x],w=i[S],C=w.data.hostModel,T=b.data.getItemGraphicEl(b.dataIndex),z=w.data.getItemGraphicEl(w.dataIndex);T!==z?T&&g[T.id]||z&&(fs(z),T?(fs(T),qy(T),o=!0,Qy(Qa(T),Qa(z),w.divide,C,S,a)):Jy(z,C,S)):z&&function(n,t,e){var r=yo("update",e,t);r&&n.traverse(function(i){if(i instanceof dn){var a=function(n){return YS(n).oldStyle}(i);a&&i.animateFrom({style:a},r)}})}(z,w.dataIndex,C)}new kr(r,i,v(!0,p),v(!1,p),null,"multiple").update(_).updateManyToOne(function(S,x){var b=i[S],w=b.data,C=w.hostModel,T=w.getItemGraphicEl(b.dataIndex),z=Pe(G(x,function(M){return r[M].data.getItemGraphicEl(r[M].dataIndex)}),function(M){return M&&M!==T&&!g[M.id]});T&&(fs(T),z.length?(D(z,function(M){fs(M),qy(M)}),o=!0,Qy(Qa(z),Qa(T),b.divide,C,S,a)):Jy(T,C,b.dataIndex))}).updateOneToMany(function(S,x){var b=r[x],w=b.data.getItemGraphicEl(b.dataIndex);if(!w||!g[w.id]){var C=Pe(G(S,function(z){return i[z].data.getItemGraphicEl(i[z].dataIndex)}),function(z){return z&&z!==w}),T=i[S[0]].data.hostModel;C.length&&(D(C,function(z){return fs(z)}),w?(fs(w),qy(w),o=!0,Qy(Qa(w),Qa(C),b.divide,T,S[0],a)):D(C,function(z){return Jy(z,T,S[0])}))}}).updateManyToMany(function(S,x){new kr(x,S,function(b){return r[b].data.getId(r[b].dataIndex)},function(b){return i[b].data.getId(i[b].dataIndex)}).update(function(b,w){_(S[b],x[w])}).execute()}).execute(),o&&D(t,function(S){var b=S.data.hostModel,w=b&&e.getViewOfSeriesModel(b),C=yo("update",b,0);w&&b.isAnimationEnabled()&&C&&C.duration>0&&w.group.traverse(function(T){T instanceof be&&!T.animators.length&&T.animateFrom({style:{opacity:0}},C)})})}function E2(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function B2(n){return F(n)?n.sort().join(","):n}function Mi(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function V2(n,t){for(var e=0;e<n.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===n[e].seriesIndex||null!=t.seriesId&&t.seriesId===n[e].id)return e}Se([function(n){n.registerPainter("canvas",sV)}]),Se([function(n){n.registerPainter("svg",WV)}]),Se([function(n){n.registerChartView(EF),n.registerSeriesModel(mF),n.registerLayout(Pl("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,AC("line"))},function(n){n.registerChartView(s3),n.registerSeriesModel(UF),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,pe(OC,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,RC("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,AC("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})},function(n){n.registerChartView(d3),n.registerSeriesModel(_3),Db("pie",n.registerAction),n.registerLayout(pe(u3,"pie")),n.registerProcessor(Ll("pie")),n.registerProcessor({seriesType:"pie",reset:function(t,e){var r=t.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),o=r.get(a,i);return!(De(o)&&!isNaN(o)&&o<0)})}})},function(n){Se(WT),n.registerSeriesModel(w3),n.registerChartView(A3),n.registerLayout(Pl("scatter"))},function(n){Se(o6),n.registerChartView(X5),n.registerSeriesModel(J5),n.registerLayout(Z5),n.registerProcessor(Ll("radar")),n.registerPreprocessor(U5)},function(n){Se(Lz),n.registerChartView(Z6),n.registerSeriesModel($6),n.registerLayout(J6),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Q6),Db("map",n.registerAction)},function(n){n.registerChartView(xG),n.registerSeriesModel(OG),n.registerLayout(NG),n.registerVisual(EG),function(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var i=t.dataIndex,o=r.getData().tree.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,r){e.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var o=Ig(i.coordinateSystem,t,void 0,r);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}(n)},function(n){n.registerSeriesModel(WG),n.registerChartView(r4),n.registerVisual(u4),n.registerLayout(m4),function(n){for(var t=0;t<Hz.length;t++)n.registerAction({type:Hz[t],update:"updateView"},tt);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"treemap",query:e},function(a,o){var l=Wl(e,["treemapZoomToNode","treemapRootToNode"],a);if(l){var u=a.getViewRoot();u&&(e.direction=kg(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}})})}(n)},function(n){n.registerChartView($4),n.registerSeriesModel(q4),n.registerProcessor(z4),n.registerVisual(D4),n.registerVisual(M4),n.registerLayout(O4),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,N4),n.registerLayout(E4),n.registerCoordinateSystem("graphView",{dimensions:Gl.dimensions,create:V4}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},tt),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},tt),n.registerAction(j4,function(t,e,r){e.eachComponent({mainType:"series",query:t},function(i){var o=Ig(i.coordinateSystem,t,void 0,r);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})},function(n){n.registerChartView(aH),n.registerSeriesModel(sH)},function(n){n.registerChartView(fH),n.registerSeriesModel(pH),n.registerLayout(yH),n.registerProcessor(Ll("funnel"))},function(n){Se(tM),n.registerChartView(CH),n.registerSeriesModel(MH),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,PH)},function(n){n.registerChartView(MW),n.registerSeriesModel(IW),n.registerLayout(PW),n.registerVisual(QW),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(n){n.registerSeriesModel(qW),n.registerChartView(nY),n.registerLayout(rY),n.registerTransform(lY)},function(n){n.registerChartView(wY),n.registerSeriesModel(CY),n.registerPreprocessor(TY),n.registerVisual(gY),n.registerLayout(MY)},function(n){n.registerChartView(OY),n.registerSeriesModel(NY),n.registerLayout(Pl("effectScatter"))},function(n){n.registerChartView($Y),n.registerSeriesModel(qY),n.registerLayout(dM),n.registerVisual(KY)},function(n){n.registerChartView(sZ),n.registerSeriesModel(uZ)},function(n){n.registerChartView(SZ),n.registerSeriesModel(bZ),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,pe(OC,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,RC("pictorialBar"))},function(n){n.registerChartView(zZ),n.registerSeriesModel(MZ),n.registerLayout(AZ),n.registerProcessor(Ll("themeRiver"))},function(n){n.registerChartView(BZ),n.registerSeriesModel(FZ),n.registerLayout(pe(GZ,"sunburst")),n.registerProcessor(pe(Ll,"sunburst")),n.registerVisual(WZ),function(n){n.registerAction({type:Em,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(i,a){var o=Wl(t,[Em],i);if(o){var s=i.getViewRoot();s&&(t.direction=kg(s,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}})}),n.registerAction({type:OM,update:"none"},function(t,e,r){t=V({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(a){var o=Wl(t,[OM],a);o&&(t.dataIndex=o.node.dataIndex)}),r.dispatchAction(V(t,{type:"highlight"}))}),n.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,e,r){t=V({},t),r.dispatchAction(V(t,{type:"downplay"}))})}(n)},function(n){n.registerChartView(y7),n.registerSeriesModel($Z)}]),Se(function(n){Se(WT),Se(tu)}),Se(function(n){Se(tu),ka.registerAxisPointerClass("PolarAxisPointer",n8),n.registerCoordinateSystem("polar",g8),n.registerComponentModel(i8),n.registerComponentView(L8),Xo(n,"angle",a8,I8),Xo(n,"radius",o8,P8),n.registerComponentView(S8),n.registerComponentView(z8),n.registerLayout(pe(A8,"bar"))}),Se(Lz),Se(function(n){Se(tu),ka.registerAxisPointerClass("SingleAxisPointer",Q8),n.registerComponentView(J8),n.registerComponentView(B8),n.registerComponentModel(sy),Xo(n,"single",sy,sy.defaultOption),n.registerCoordinateSystem("single",Z8)}),Se(tM),Se(function(n){n.registerComponentModel(K8),n.registerComponentView(tU),n.registerCoordinateSystem("calendar",rU)}),Se(function(n){n.registerComponentModel(uU),n.registerComponentView(cU),n.registerPreprocessor(function(t){var e=t.graphic;F(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),Se(function(n){n.registerComponentModel(PU),n.registerComponentView(NU),os("saveAsImage",EU),os("magicType",FU),os("dataView",qU),os("dataZoom",v9),os("restore",r9),Se(AU)}),Se(function(n){Se(tu),n.registerComponentModel(g9),n.registerComponentView(k9),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},tt),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},tt)}),Se(tu),Se(function(n){n.registerComponentView(J9),n.registerComponentModel(K9),n.registerPreprocessor(V9),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,Y9),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},tt),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},tt),os("brush",n$)}),Se(function(n){n.registerComponentModel(i$),n.registerComponentView(a$)}),Se(function(n){n.registerComponentModel(l$),n.registerComponentView(m$),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,r){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),re({currentIndex:i.option.currentIndex},t)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var r=e.getComponent("timeline");r&&null!=t.playState&&r.setPlayState(t.playState)})}(n),n.registerPreprocessor(_$)}),Se(function(n){n.registerComponentModel(w$),n.registerComponentView(I$),n.registerPreprocessor(function(t){zy(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),Se(function(n){n.registerComponentModel(O$),n.registerComponentView(B$),n.registerPreprocessor(function(t){zy(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),Se(function(n){n.registerComponentModel(G$),n.registerComponentView(U$),n.registerPreprocessor(function(t){zy(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),Se(function(n){Se(GI),Se(oX)}),Se(function(n){Se(UI),Se(JI)}),Se(UI),Se(JI),Se(function(n){Se(f2),Se(p2)}),Se(f2),Se(p2),Se(function(n){n.registerPreprocessor(oQ),n.registerVisual(n.PRIORITY.VISUAL.ARIA,aQ)}),Se(function(n){n.registerTransform(yQ),n.registerTransform(_Q)}),Se(function(n){n.registerComponentModel(xQ),n.registerComponentView(bQ)}),Se(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){D(ke(r.seriesTransition),function(i){D(ke(i.to),function(a){for(var o=r.updatedSeries,s=0;s<o.length;s++)(null!=a.seriesIndex&&a.seriesIndex===o[s].seriesIndex||null!=a.seriesId&&a.seriesId===o[s].id)&&(o[s][zc]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,r){var i=WQ(e);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)D(ke(a),function(v){!function(n,t,e,r){var i=[],a=[];D(ke(n.from),function(o){var s=V2(t.oldSeries,o);s>=0&&i.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:Mi(t.oldData[s]),groupIdDim:o.dimension})}),D(ke(n.to),function(o){var s=V2(e.updatedSeries,o);if(s>=0){var l=e.updatedSeries[s].getData();a.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:Mi(l),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&k2(i,a,r)}(v,i,r,e)});else{var o=function(n,t){var e=Q(),r=Q(),i=Q();return D(n.oldSeries,function(o,s){var l=n.oldDataGroupIds[s],u=n.oldData[s],c=E2(o),h=B2(c);r.set(h,{dataGroupId:l,data:u}),F(c)&&D(c,function(f){i.set(f,{key:h,dataGroupId:l,data:u})})}),D(t.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var s=o.get("dataGroupId"),l=o.getData(),u=E2(o),c=B2(u),h=r.get(c);if(h)e.set(c,{oldSeries:[{dataGroupId:h.dataGroupId,divide:Mi(h.data),data:h.data}],newSeries:[{dataGroupId:s,divide:Mi(l),data:l}]});else if(F(u)){var f=[];D(u,function(g){var m=r.get(g);m.data&&f.push({dataGroupId:m.dataGroupId,divide:Mi(m.data),data:m.data})}),f.length&&e.set(c,{oldSeries:f,newSeries:[{dataGroupId:s,data:l,divide:Mi(l)}]})}else{var v=i.get(u);if(v){var p=e.get(v.key);p||(p={oldSeries:[{dataGroupId:v.dataGroupId,data:v.data,divide:Mi(v.data)}],newSeries:[]},e.set(v.key,p)),p.newSeries.push({dataGroupId:s,data:l,divide:Mi(l)})}}}}),e}(i,r);D(o.keys(),function(v){var p=o.get(v);k2(p.oldSeries,p.newSeries,e)})}D(r.updatedSeries,function(v){v[zc]&&(v[zc]=!1)})}for(var s=t.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],h=0;h<s.length;h++){var f=s[h].getData();f.count()<1e4&&(l.push(s[h]),u.push(s[h].get("dataGroupId")),c.push(f))}})}),Se(zw);var d=le(7716),qQ=le(8058),jQ=le(8542),KQ=le(3080),eJ=le(9075),xf=le(2746),q=le(8583),ut=le(946),vs=le(521),Zn=le(3314),Xe=le(665),hu=le(4453),ie=le(7582),ne=le(6182),tJ=le(9490),nJ=le(7574),Re=le(9765);let jy=(()=>{class n{create(e){return"undefined"==typeof ResizeObserver?null:new ResizeObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Ky=(()=>{class n{constructor(e){this.nzResizeObserverFactory=e,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((e,r)=>this.cleanupObserver(r))}observe(e){const r=(0,tJ.fI)(e);return new nJ.y(i=>{const o=this.observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this.unobserveElement(r)}})}observeElement(e){if(this.observedElements.has(e))this.observedElements.get(e).count++;else{const r=new Re.xQ,i=this.nzResizeObserverFactory.create(a=>r.next(a));i&&i.observe(e),this.observedElements.set(e,{observer:i,stream:r,count:1})}return this.observedElements.get(e).stream}unobserveElement(e){this.observedElements.has(e)&&(this.observedElements.get(e).count--,this.observedElements.get(e).count||this.cleanupObserver(e))}cleanupObserver(e){if(this.observedElements.has(e)){const{observer:r,stream:i}=this.observedElements.get(e);r&&r.disconnect(),i.complete(),this.observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(jy))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(jy))},token:n,providedIn:"root"}),n})(),rJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[jy]}),n})();var Ja=le(9238),j=le(6782);const F2=["*"],iJ=["inputElement"],aJ=["nz-checkbox",""];let sJ=(()=>{class n{constructor(e,r){this.nzOnChange=new d.vpe,this.checkboxList=[],e.addClass(r.nativeElement,"ant-checkbox-group")}addCheckbox(e){this.checkboxList.push(e)}removeCheckbox(e){this.checkboxList.splice(this.checkboxList.indexOf(e),1)}onChange(){const e=this.checkboxList.filter(r=>r.nzChecked).map(r=>r.nzValue);this.nzOnChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-checkbox-wrapper"]],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],ngContentSelectors:F2,decls:1,vars:0,template:function(e,r){1&e&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),bf=(()=>{class n{constructor(e,r,i,a,o){this.elementRef=e,this.nzCheckboxWrapperComponent=r,this.cdr=i,this.focusMonitor=a,this.directionality=o,this.dir="ltr",this.destroy$=new Re.xQ,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new d.vpe,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null,this.elementRef.nativeElement.classList.add("ant-checkbox-wrapper")}hostClick(e){e.preventDefault(),this.focus(),this.innerCheckedChange(!this.nzChecked)}innerCheckedChange(e){this.nzDisabled||(this.nzChecked=e,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(e){this.nzChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=e,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){var e;this.focusMonitor.monitor(this.elementRef,!0).pipe((0,j.R)(this.destroy$)).subscribe(r=>{r||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),null===(e=this.directionality.change)||void 0===e||e.pipe((0,j.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(sJ,8),d.Y36(d.sBO),d.Y36(Ja.tE),d.Y36(ut.Is,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","nz-checkbox",""]],viewQuery:function(e,r){if(1&e&&d.Gf(iJ,7),2&e){let i;d.iGM(i=d.CRH())&&(r.inputElement=i.first)}},hostVars:4,hostBindings:function(e,r){1&e&&d.NdJ("click",function(a){return r.hostClick(a)}),2&e&&d.ekj("ant-checkbox-wrapper-checked",r.nzChecked)("ant-checkbox-rtl","rtl"===r.dir)},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked",nzId:"nzId"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],features:[d._Bn([{provide:Xe.JU,useExisting:(0,d.Gpc)(()=>n),multi:!0}])],attrs:aJ,ngContentSelectors:F2,decls:6,vars:11,consts:[[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"checked","ngModel","disabled","ngModelChange","click"],["inputElement",""],[1,"ant-checkbox-inner"]],template:function(e,r){1&e&&(d.F$t(),d.TgZ(0,"span",0),d.TgZ(1,"input",1,2),d.NdJ("ngModelChange",function(a){return r.innerCheckedChange(a)})("click",function(a){return a.stopPropagation()}),d.qZA(),d._UZ(3,"span",3),d.qZA(),d.TgZ(4,"span"),d.Hsn(5),d.qZA()),2&e&&(d.ekj("ant-checkbox-checked",r.nzChecked&&!r.nzIndeterminate)("ant-checkbox-disabled",r.nzDisabled)("ant-checkbox-indeterminate",r.nzIndeterminate),d.xp6(1),d.Q6J("checked",r.nzChecked)("ngModel",r.nzChecked)("disabled",r.nzDisabled),d.uIk("autofocus",r.nzAutoFocus?"autofocus":null)("id",r.nzId))},directives:[Xe.Wl,Xe.JJ,Xe.On],encapsulation:2,changeDetection:0}),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzAutoFocus",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzDisabled",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzIndeterminate",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzChecked",void 0),n})(),lJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,q.ez,Xe.u5,Ja.rt]]}),n})();var An=le(8178),Sr=le(6461),Un=le(625),fu=le(7636),pt=le(6215),sn=le(6682),Ai=le(2759),wf=le(9193),$n=le(739),e0=le(6736),Ot=le(8002),Gt=le(3190),Ii=le(5435),uJ=le(13),vu=le(7519),qe=le(2729),G2=le(6956),Pi=le(6911),qa=le(641),jt=le(464),Xn=le(3730),H2=le(7070);function cJ(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"div",0),d.NdJ("@slideMotion.done",function(i){return d.CHM(e),d.oxw().onAnimationEvent(i)})("mouseenter",function(){return d.CHM(e),d.oxw().setMouseState(!0)})("mouseleave",function(){return d.CHM(e),d.oxw().setMouseState(!1)}),d.Hsn(1),d.qZA()}if(2&n){const e=d.oxw();d.ekj("ant-dropdown-rtl","rtl"===e.dir),d.Q6J("ngClass",e.nzOverlayClassName)("ngStyle",e.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)}}const hJ=["*"],vJ=[Pi.yW.bottomLeft,Pi.yW.bottomRight,Pi.yW.topRight,Pi.yW.topLeft];let t0=(()=>{class n{constructor(e,r,i,a,o,s){this.nzConfigService=e,this.elementRef=r,this.overlay=i,this.renderer=a,this.viewContainerRef=o,this.platform=s,this._nzModuleName="dropDown",this.overlayRef=null,this.destroy$=new Re.xQ,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new pt.X(!1),this.nzTrigger$=new pt.X("hover"),this.overlayClose$=new Re.xQ,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzHasBackdrop=!1,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new d.vpe,this.elementRef.nativeElement.classList.add("ant-dropdown-trigger")}setDropdownMenuValue(e,r){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(e,r)}ngAfterViewInit(){if(this.nzDropdownMenu){const e=this.elementRef.nativeElement,r=(0,sn.T)((0,Ai.R)(e,"mouseenter").pipe((0,e0.h)(!0)),(0,Ai.R)(e,"mouseleave").pipe((0,e0.h)(!1))),a=(0,sn.T)(this.nzDropdownMenu.mouseState$,r),o=(0,Ai.R)(e,"click").pipe((0,Ot.U)(()=>!this.nzVisible)),s=this.nzTrigger$.pipe((0,Gt.w)(h=>"hover"===h?a:"click"===h?o:wf.E)),l=this.nzDropdownMenu.descendantMenuItemClick$.pipe((0,Ii.h)(()=>this.nzClickHide),(0,e0.h)(!1)),u=(0,sn.T)(s,l,this.overlayClose$).pipe((0,Ii.h)(()=>!this.nzDisabled)),c=(0,sn.T)(this.inputVisible$,u);(0,$n.aj)([c,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe((0,Ot.U)(([h,f])=>h||f),(0,uJ.e)(150),(0,vu.x)(),(0,Ii.h)(()=>this.platform.isBrowser),(0,j.R)(this.destroy$)).subscribe(h=>{const v=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:e).getBoundingClientRect().width;this.nzVisible!==h&&this.nzVisibleChange.emit(h),this.nzVisible=h,h?(this.overlayRef?this.overlayRef.getConfig().minWidth=v:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:v,disposeOnNavigation:!0,hasBackdrop:(this.nzHasBackdrop||this.nzBackdrop)&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),(0,sn.T)(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe((0,Ii.h)(p=>!this.elementRef.nativeElement.contains(p.target))),this.overlayRef.keydownEvents().pipe((0,Ii.h)(p=>p.keyCode===Sr.hY&&!(0,Sr.Vb)(p)))).pipe((0,j.R)(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)})),this.positionStrategy.withPositions([Pi.yW[this.nzPlacement],...vJ]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new fu.UE(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe((0,j.R)(this.destroy$)).subscribe(h=>{"void"===h.toState&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(e){const{nzVisible:r,nzDisabled:i,nzOverlayClassName:a,nzOverlayStyle:o,nzTrigger:s,nzHasBackdrop:l}=e;if(s&&this.nzTrigger$.next(this.nzTrigger),r&&this.inputVisible$.next(this.nzVisible),i){const u=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(u,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(u,"disabled")}a&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),o&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle),l&&(0,G2.iX)("`nzHasBackdrop` in dropdown component will be removed in 13.0.0, please use `nzBackdrop` instead.")}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(qe.jY),d.Y36(d.SBq),d.Y36(Un.aV),d.Y36(d.Qsj),d.Y36(d.s_b),d.Y36(vs.t4))},n.\u0275dir=d.lG2({type:n,selectors:[["","nz-dropdown",""]],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzHasBackdrop:"nzHasBackdrop",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[d.TTD]}),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzHasBackdrop",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzBackdrop",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzClickHide",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzDisabled",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzVisible",void 0),n})(),pJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),W2=(()=>{class n{constructor(e,r,i,a,o,s,l){this.cdr=e,this.elementRef=r,this.renderer=i,this.viewContainerRef=a,this.nzMenuService=o,this.directionality=s,this.noAnimation=l,this.mouseState$=new pt.X(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new d.vpe,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new Re.xQ}onAnimationEvent(e){this.animationStateChange$.emit(e)}setMouseState(e){this.mouseState$.next(e)}setValue(e,r){this[e]=r,this.cdr.markForCheck()}ngOnInit(){var e;null===(e=this.directionality.change)||void 0===e||e.pipe((0,j.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.s_b),d.Y36(Xn.hl),d.Y36(ut.Is,8),d.Y36(qa.P,9))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-dropdown-menu"]],viewQuery:function(e,r){if(1&e&&d.Gf(d.Rgc,7),2&e){let i;d.iGM(i=d.CRH())&&(r.templateRef=i.first)}},exportAs:["nzDropdownMenu"],features:[d._Bn([Xn.hl,{provide:Xn.Cc,useValue:!0}])],ngContentSelectors:hJ,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"ngClass","ngStyle","nzNoAnimation","mouseenter","mouseleave"]],template:function(e,r){1&e&&(d.F$t(),d.YNc(0,cJ,2,7,"ng-template"))},directives:[q.mk,q.PC,qa.P],encapsulation:2,data:{animation:[H2.mF]},changeDetection:0}),n})(),dJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,q.ez,Un.U8,Xe.u5,hu.sL,Xn.ip,jt.PV,qa.g,vs.ud,Pi.e4,pJ,An.T],Xn.ip]}),n})();new Un.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new Un.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new Un.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new Un.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"});var ln=le(9761),ja=le(6756);function gJ(n,t){1&n&&d._UZ(0,"nz-empty",6),2&n&&d.Q6J("nzNotFoundImage","simple")}function mJ(n,t){1&n&&d._UZ(0,"nz-empty",7),2&n&&d.Q6J("nzNotFoundImage","simple")}function yJ(n,t){1&n&&d._UZ(0,"nz-empty")}function _J(n,t){if(1&n&&(d.ynx(0,2),d.YNc(1,gJ,1,1,"nz-empty",3),d.YNc(2,mJ,1,1,"nz-empty",4),d.YNc(3,yJ,1,0,"nz-empty",5),d.BQk()),2&n){const e=d.oxw();d.Q6J("ngSwitch",e.size),d.xp6(1),d.Q6J("ngSwitchCase","normal"),d.xp6(1),d.Q6J("ngSwitchCase","small")}}function SJ(n,t){}function xJ(n,t){if(1&n&&d.YNc(0,SJ,0,0,"ng-template",8),2&n){const e=d.oxw(2);d.Q6J("cdkPortalOutlet",e.contentPortal)}}function bJ(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw(2);d.xp6(1),d.hij(" ",e.content," ")}}function wJ(n,t){if(1&n&&(d.ynx(0),d.YNc(1,xJ,1,1,void 0,1),d.YNc(2,bJ,2,1,"ng-container",1),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("ngIf","string"!==e.contentType),d.xp6(1),d.Q6J("ngIf","string"===e.contentType)}}function CJ(n,t){if(1&n&&(d.ynx(0),d._UZ(1,"img",5),d.BQk()),2&n){const e=d.oxw(2);d.xp6(1),d.Q6J("src",e.nzNotFoundImage,d.LSH)("alt",e.isContentString?e.nzNotFoundContent:"empty")}}function TJ(n,t){if(1&n&&(d.ynx(0),d.YNc(1,CJ,2,2,"ng-container",4),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("nzStringTemplateOutlet",e.nzNotFoundImage)}}function zJ(n,t){1&n&&d._UZ(0,"nz-empty-default")}function DJ(n,t){1&n&&d._UZ(0,"nz-empty-simple")}function MJ(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw(2);d.xp6(1),d.hij(" ",e.isContentString?e.nzNotFoundContent:e.locale.description," ")}}function AJ(n,t){if(1&n&&(d.TgZ(0,"p",6),d.YNc(1,MJ,2,1,"ng-container",4),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("nzStringTemplateOutlet",e.nzNotFoundContent)}}function IJ(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw(2);d.xp6(1),d.hij(" ",e.nzNotFoundFooter," ")}}function PJ(n,t){if(1&n&&(d.TgZ(0,"div",7),d.YNc(1,IJ,2,1,"ng-container",4),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("nzStringTemplateOutlet",e.nzNotFoundFooter)}}const LJ=new d.OlP("nz-empty-component-name");let Y2=(()=>{class n{constructor(e,r,i,a){this.configService=e,this.viewContainerRef=r,this.cdr=i,this.injector=a,this.contentType="string",this.size="",this.destroy$=new Re.xQ}ngOnChanges(e){e.nzComponentName&&(this.size=function(n){switch(n){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(e.nzComponentName.currentValue)),e.specificContent&&!e.specificContent.isFirstChange()&&(this.content=e.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const e=this.content;if("string"==typeof e)this.contentType="string";else if(e instanceof d.Rgc){const r={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new fu.UE(e,this.viewContainerRef,r)}else if(e instanceof d.DyG){const r=d.zs3.create({parent:this.injector,providers:[{provide:LJ,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new fu.C5(e,this.viewContainerRef,r)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe((0,ln.O)(!0),(0,j.R)(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(qe.jY),d.Y36(d.s_b),d.Y36(d.sBO),d.Y36(d.zs3))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[d.TTD],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["class","ant-empty-normal",3,"nzNotFoundImage",4,"ngSwitchCase"],["class","ant-empty-small",3,"nzNotFoundImage",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ant-empty-normal",3,"nzNotFoundImage"],[1,"ant-empty-small",3,"nzNotFoundImage"],[3,"cdkPortalOutlet"]],template:function(e,r){1&e&&(d.YNc(0,_J,4,3,"ng-container",0),d.YNc(1,wJ,3,2,"ng-container",1)),2&e&&(d.Q6J("ngIf",!r.content&&null!==r.specificContent),d.xp6(1),d.Q6J("ngIf",r.content))},directives:function(){return[q.O5,q.RF,q.n9,q.ED,NJ,fu.Pl]},encapsulation:2,changeDetection:0}),n})();const RJ=["default","simple"];let NJ=(()=>{class n{constructor(e,r){this.i18n=e,this.cdr=r,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new Re.xQ}ngOnChanges(e){const{nzNotFoundContent:r,nzNotFoundImage:i}=e;if(r&&(this.isContentString="string"==typeof r.currentValue),i){const a=i.currentValue||"default";this.isImageBuildIn=RJ.findIndex(o=>o===a)>-1}}ngOnInit(){this.i18n.localeChange.pipe((0,j.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ja.wi),d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[d.TTD],decls:6,vars:5,consts:[[1,"ant-empty-image"],[4,"ngIf"],["class","ant-empty-description",4,"ngIf"],["class","ant-empty-footer",4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"src","alt"],[1,"ant-empty-description"],[1,"ant-empty-footer"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.YNc(1,TJ,2,1,"ng-container",1),d.YNc(2,zJ,1,0,"nz-empty-default",1),d.YNc(3,DJ,1,0,"nz-empty-simple",1),d.qZA(),d.YNc(4,AJ,2,1,"p",2),d.YNc(5,PJ,2,1,"div",3)),2&e&&(d.xp6(1),d.Q6J("ngIf",!r.isImageBuildIn),d.xp6(1),d.Q6J("ngIf",r.isImageBuildIn&&"simple"!==r.nzNotFoundImage),d.xp6(1),d.Q6J("ngIf",r.isImageBuildIn&&"simple"===r.nzNotFoundImage),d.xp6(1),d.Q6J("ngIf",null!==r.nzNotFoundContent),d.xp6(1),d.Q6J("ngIf",r.nzNotFoundFooter))},directives:function(){return[q.O5,An.f,kJ,EJ]},encapsulation:2,changeDetection:0}),n})(),kJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(e,r){1&e&&(d.O4$(),d.TgZ(0,"svg",0),d.TgZ(1,"g",1),d.TgZ(2,"g",2),d._UZ(3,"ellipse",3),d._UZ(4,"path",4),d._UZ(5,"path",5),d._UZ(6,"path",6),d._UZ(7,"path",7),d.qZA(),d._UZ(8,"path",8),d.TgZ(9,"g",9),d._UZ(10,"ellipse",10),d._UZ(11,"path",11),d.qZA(),d.qZA(),d.qZA())},encapsulation:2,changeDetection:0}),n})(),EJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(e,r){1&e&&(d.O4$(),d.TgZ(0,"svg",0),d.TgZ(1,"g",1),d._UZ(2,"ellipse",2),d.TgZ(3,"g",3),d._UZ(4,"path",4),d._UZ(5,"path",5),d.qZA(),d.qZA(),d.qZA())},encapsulation:2,changeDetection:0}),n})(),Z2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,q.ez,fu.eL,An.T,ja.YI]]}),n})();var Tt=le(2298),xr=le(6102);const U2=["moz","ms","webkit"];function $2(n){if("undefined"==typeof window)return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(n);const t=U2.filter(e=>`${e}CancelAnimationFrame`in window||`${e}CancelRequestAnimationFrame`in window)[0];return t?(window[`${t}CancelAnimationFrame`]||window[`${t}CancelRequestAnimationFrame`]).call(this,n):clearTimeout(n)}const X2=function(){if("undefined"==typeof window)return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const n=U2.filter(t=>`${t}RequestAnimationFrame`in window)[0];return n?window[`${n}RequestAnimationFrame`]:function(){let n=0;return function(t){const e=(new Date).getTime(),r=Math.max(0,16-(e-n)),i=setTimeout(()=>{t(e+r)},r);return n=e+r,i}}()}();var Qn=le(4514);const Q2=["*"];function FJ(n,t){if(1&n&&(d.TgZ(0,"div",4),d._UZ(1,"nz-embed-empty",5),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("specificContent",e.notFoundContent)}}function GJ(n,t){if(1&n&&d._UZ(0,"nz-option-item-group",9),2&n){const e=d.oxw().$implicit;d.Q6J("nzLabel",e.groupLabel)}}function HJ(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"nz-option-item",10),d.NdJ("itemHover",function(i){return d.CHM(e),d.oxw(2).onItemHover(i)})("itemClick",function(i){return d.CHM(e),d.oxw(2).onItemClick(i)}),d.qZA()}if(2&n){const e=d.oxw().$implicit,r=d.oxw();d.Q6J("icon",r.menuItemSelectedIcon)("customContent",e.nzCustomContent)("template",e.template)("grouped",!!e.groupLabel)("disabled",e.nzDisabled)("showState","tags"===r.mode||"multiple"===r.mode)("label",e.nzLabel)("compareWith",r.compareWith)("activatedValue",r.activatedValue)("listOfSelectedValue",r.listOfSelectedValue)("value",e.nzValue)}}function WJ(n,t){1&n&&(d.ynx(0,6),d.YNc(1,GJ,1,1,"nz-option-item-group",7),d.YNc(2,HJ,1,11,"nz-option-item",8),d.BQk()),2&n&&(d.Q6J("ngSwitch",t.$implicit.type),d.xp6(1),d.Q6J("ngSwitchCase","group"),d.xp6(1),d.Q6J("ngSwitchCase","item"))}function YJ(n,t){}function ZJ(n,t){1&n&&d.Hsn(0)}const UJ=["inputElement"],$J=["mirrorElement"];function XJ(n,t){1&n&&d._UZ(0,"span",3,4)}function QJ(n,t){if(1&n&&d._UZ(0,"nz-select-item",6),2&n){const e=d.oxw(2);d.Q6J("deletable",!1)("disabled",!1)("removeIcon",e.removeIcon)("label",e.listOfTopItem[0].nzLabel)("contentTemplateOutlet",e.customTemplate)("contentTemplateOutletContext",e.listOfTopItem[0])}}function JJ(n,t){if(1&n){const e=d.EpF();d.ynx(0),d.TgZ(1,"nz-select-search",4),d.NdJ("isComposingChange",function(i){return d.CHM(e),d.oxw().isComposingChange(i)})("valueChange",function(i){return d.CHM(e),d.oxw().onInputValueChange(i)}),d.qZA(),d.YNc(2,QJ,1,6,"nz-select-item",5),d.BQk()}if(2&n){const e=d.oxw();d.xp6(1),d.Q6J("nzId",e.nzId)("disabled",e.disabled)("value",e.inputValue)("showInput",e.showSearch)("mirrorSync",!1)("autofocus",e.autofocus)("focusTrigger",e.open),d.xp6(1),d.Q6J("ngIf",e.isShowSingleLabel)}}function qJ(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"nz-select-item",9),d.NdJ("delete",function(){const a=d.CHM(e).$implicit;return d.oxw(2).onDeleteItem(a.contentTemplateOutletContext)}),d.qZA()}if(2&n){const e=t.$implicit,r=d.oxw(2);d.Q6J("removeIcon",r.removeIcon)("label",e.nzLabel)("disabled",e.nzDisabled||r.disabled)("contentTemplateOutlet",e.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",e.contentTemplateOutletContext)}}function jJ(n,t){if(1&n){const e=d.EpF();d.ynx(0),d.YNc(1,qJ,1,6,"nz-select-item",7),d.TgZ(2,"nz-select-search",8),d.NdJ("isComposingChange",function(i){return d.CHM(e),d.oxw().isComposingChange(i)})("valueChange",function(i){return d.CHM(e),d.oxw().onInputValueChange(i)}),d.qZA(),d.BQk()}if(2&n){const e=d.oxw();d.xp6(1),d.Q6J("ngForOf",e.listOfSlicedItem)("ngForTrackBy",e.trackValue),d.xp6(1),d.Q6J("nzId",e.nzId)("disabled",e.disabled)("value",e.inputValue)("autofocus",e.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",e.open)}}function KJ(n,t){if(1&n&&d._UZ(0,"nz-select-placeholder",10),2&n){const e=d.oxw();d.Q6J("placeholder",e.placeHolder)}}function eq(n,t){if(1&n&&d._UZ(0,"nz-select-arrow",5),2&n){const e=d.oxw();d.Q6J("loading",e.nzLoading)("search",e.nzOpen&&e.nzShowSearch)("suffixIcon",e.nzSuffixIcon)}}function tq(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"nz-select-clear",6),d.NdJ("clear",function(){return d.CHM(e),d.oxw().onClearSelection()}),d.qZA()}if(2&n){const e=d.oxw();d.Q6J("clearIcon",e.nzClearIcon)}}function nq(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"nz-option-container",7),d.NdJ("keydown",function(i){return d.CHM(e),d.oxw().onKeyDown(i)})("itemClick",function(i){return d.CHM(e),d.oxw().onItemClick(i)})("scrollToBottom",function(){return d.CHM(e),d.oxw().nzScrollToBottom.emit()}),d.qZA()}if(2&n){const e=d.oxw();d.ekj("ant-select-dropdown-placement-bottomLeft","bottom"===e.dropDownPosition)("ant-select-dropdown-placement-topLeft","top"===e.dropDownPosition),d.Q6J("ngStyle",e.nzDropdownStyle)("itemSize",e.nzOptionHeightPx)("maxItemLength",e.nzOptionOverflowSize)("matchWidth",e.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("listOfContainerItem",e.listOfContainerItem)("menuItemSelectedIcon",e.nzMenuItemSelectedIcon)("notFoundContent",e.nzNotFoundContent)("activatedValue",e.activatedValue)("listOfSelectedValue",e.listOfValue)("dropdownRender",e.nzDropdownRender)("compareWith",e.compareWith)("mode",e.nzMode)}}function rq(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.Oqu(e.nzLabel)}}function iq(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.Oqu(e.label)}}function aq(n,t){}function oq(n,t){if(1&n&&(d.ynx(0),d.YNc(1,aq,0,0,"ng-template",3),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",e.template)}}function sq(n,t){1&n&&d._UZ(0,"i",6)}function lq(n,t){if(1&n&&(d.TgZ(0,"div",4),d.YNc(1,sq,1,0,"i",5),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",!e.icon)("ngIfElse",e.icon)}}function uq(n,t){1&n&&d._UZ(0,"i",2)}function cq(n,t){1&n&&d._UZ(0,"i",7)}function hq(n,t){1&n&&d._UZ(0,"i",8)}function fq(n,t){if(1&n&&(d.ynx(0),d.YNc(1,cq,1,0,"i",5),d.YNc(2,hq,1,0,"i",6),d.BQk()),2&n){const e=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!e.search),d.xp6(1),d.Q6J("ngIf",e.search)}}function vq(n,t){if(1&n&&(d.ynx(0),d._UZ(1,"i",10),d.BQk()),2&n){const e=t.$implicit;d.xp6(1),d.Q6J("nzType",e)}}function pq(n,t){if(1&n&&d.YNc(0,vq,2,1,"ng-container",9),2&n){const e=d.oxw(2);d.Q6J("nzStringTemplateOutlet",e.suffixIcon)}}function dq(n,t){if(1&n&&(d.YNc(0,fq,3,2,"ng-container",3),d.YNc(1,pq,1,1,"ng-template",null,4,d.W1O)),2&n){const e=d.MAs(2),r=d.oxw();d.Q6J("ngIf",!r.suffixIcon)("ngIfElse",e)}}function gq(n,t){1&n&&d._UZ(0,"i",1)}function mq(n,t){if(1&n&&(d.TgZ(0,"div",4),d._uU(1),d.qZA()),2&n){const e=d.oxw(2);d.xp6(1),d.Oqu(e.label)}}function yq(n,t){if(1&n&&d._uU(0),2&n){const e=d.oxw(2);d.Oqu(e.label)}}function _q(n,t){if(1&n&&(d.ynx(0),d.YNc(1,mq,2,1,"div",2),d.YNc(2,yq,1,1,"ng-template",null,3,d.W1O),d.BQk()),2&n){const e=d.MAs(3),r=d.oxw();d.xp6(1),d.Q6J("ngIf",r.deletable)("ngIfElse",e)}}function Sq(n,t){1&n&&d._UZ(0,"i",7)}function xq(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"span",5),d.NdJ("click",function(i){return d.CHM(e),d.oxw().onDelete(i)}),d.YNc(1,Sq,1,0,"i",6),d.qZA()}if(2&n){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",!e.removeIcon)("ngIfElse",e.removeIcon)}}const bq=function(n){return{$implicit:n}};function wq(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.hij(" ",e.placeholder," ")}}let n0=(()=>{class n{constructor(){this.nzLabel=null,this.changes=new Re.xQ}ngOnChanges(){this.changes.next()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[d.TTD],ngContentSelectors:Q2,decls:1,vars:0,template:function(e,r){1&e&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Cq=(()=>{class n{constructor(e){this.elementRef=e,this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.listOfContainerItem=[],this.itemClick=new d.vpe,this.scrollToBottom=new d.vpe,this.scrolledIndex=0,this.elementRef.nativeElement.classList.add("ant-select-dropdown")}onItemClick(e){this.itemClick.emit(e)}onItemHover(e){this.activatedValue=e}trackValue(e,r){return r.key}onScrolledIndexChange(e){this.scrolledIndex=e,e===this.listOfContainerItem.length-this.maxItemLength&&this.scrollToBottom.emit()}scrollToActivatedValue(){const e=this.listOfContainerItem.findIndex(r=>this.compareWith(r.key,this.activatedValue));(e<this.scrolledIndex||e>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(e||0)}ngOnChanges(e){const{listOfContainerItem:r,activatedValue:i}=e;(r||i)&&this.scrollToActivatedValue()}ngAfterViewInit(){setTimeout(()=>this.scrollToActivatedValue())}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-option-container"]],viewQuery:function(e,r){if(1&e&&d.Gf(Zn.N7,7),2&e){let i;d.iGM(i=d.CRH())&&(r.cdkVirtualScrollViewport=i.first)}},inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",listOfContainerItem:"listOfContainerItem",compareWith:"compareWith"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[d.TTD],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","scrolledIndexChange"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick"]],template:function(e,r){1&e&&(d.TgZ(0,"div"),d.YNc(1,FJ,2,1,"div",0),d.TgZ(2,"cdk-virtual-scroll-viewport",1),d.NdJ("scrolledIndexChange",function(a){return r.onScrolledIndexChange(a)}),d.YNc(3,WJ,3,3,"ng-template",2),d.qZA(),d.YNc(4,YJ,0,0,"ng-template",3),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngIf",0===r.listOfContainerItem.length),d.xp6(1),d.Udp("height",r.listOfContainerItem.length*r.itemSize,"px")("max-height",r.itemSize*r.maxItemLength,"px"),d.ekj("full-width",!r.matchWidth),d.Q6J("itemSize",r.itemSize)("maxBufferPx",r.itemSize*r.maxItemLength)("minBufferPx",r.itemSize*r.maxItemLength),d.xp6(1),d.Q6J("cdkVirtualForOf",r.listOfContainerItem)("cdkVirtualForTrackBy",r.trackValue)("cdkVirtualForTemplateCacheSize",0),d.xp6(1),d.Q6J("ngTemplateOutlet",r.dropdownRender))},directives:function(){return[q.O5,Zn.N7,Zn.xd,Zn.x0,q.tP,Y2,q.RF,q.n9,Mq,Aq]},encapsulation:2,changeDetection:0}),n})(),J2=(()=>{class n{constructor(e,r){this.nzOptionGroupComponent=e,this.destroy$=r,this.changes=new Re.xQ,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe((0,ln.O)(!0),(0,j.R)(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(n0,8),d.Y36(xr.kn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-option"]],viewQuery:function(e,r){if(1&e&&d.Gf(d.Rgc,7),2&e){let i;d.iGM(i=d.CRH())&&(r.template=i.first)}},inputs:{nzLabel:"nzLabel",nzValue:"nzValue",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],features:[d._Bn([xr.kn]),d.TTD],ngContentSelectors:Q2,decls:1,vars:0,template:function(e,r){1&e&&(d.F$t(),d.YNc(0,ZJ,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzDisabled",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzHide",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzCustomContent",void 0),n})(),q2=(()=>{class n{constructor(e,r,i){this.elementRef=e,this.renderer=r,this.focusMonitor=i,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new d.vpe,this.isComposingChange=new d.vpe,this.elementRef.nativeElement.classList.add("ant-select-selection-search")}setCompositionState(e){this.isComposingChange.next(e)}onValueChange(e){this.value=e,this.valueChange.next(e),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const e=this.mirrorElement.nativeElement,r=this.elementRef.nativeElement,i=this.inputElement.nativeElement;this.renderer.removeStyle(r,"width"),e.innerHTML=this.renderer.createText(`${i.value}&nbsp;`),this.renderer.setStyle(r,"width",`${e.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnChanges(e){const r=this.inputElement.nativeElement,{focusTrigger:i,showInput:a}=e;a&&(this.showInput?this.renderer.removeAttribute(r,"readonly"):this.renderer.setAttribute(r,"readonly","readonly")),i&&!0===i.currentValue&&!1===i.previousValue&&r.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Ja.tE))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-select-search"]],viewQuery:function(e,r){if(1&e&&(d.Gf(UJ,7),d.Gf($J,5)),2&e){let i;d.iGM(i=d.CRH())&&(r.inputElement=i.first),d.iGM(i=d.CRH())&&(r.mirrorElement=i.first)}},inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[d._Bn([{provide:Xe.ve,useValue:!1}]),d.TTD],decls:3,vars:7,consts:[["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModel","disabled","ngModelChange","compositionstart","compositionend"],["inputElement",""],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"],["mirrorElement",""]],template:function(e,r){1&e&&(d.TgZ(0,"input",0,1),d.NdJ("ngModelChange",function(a){return r.onValueChange(a)})("compositionstart",function(){return r.setCompositionState(!0)})("compositionend",function(){return r.setCompositionState(!1)}),d.qZA(),d.YNc(2,XJ,2,0,"span",2)),2&e&&(d.Udp("opacity",r.showInput?null:0),d.Q6J("ngModel",r.value)("disabled",r.disabled),d.uIk("id",r.nzId)("autofocus",r.autofocus?"autofocus":null),d.xp6(2),d.Q6J("ngIf",r.mirrorSync))},directives:[Xe.Fj,Xe.JJ,Xe.On,q.O5],encapsulation:2,changeDetection:0}),n})(),r0=(()=>{class n{constructor(e,r,i){this.elementRef=e,this.ngZone=r,this.noAnimation=i,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new d.vpe,this.inputValueChange=new d.vpe,this.deleteItem=new d.vpe,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new Re.xQ,this.elementRef.nativeElement.classList.add("ant-select-selector")}updateTemplateVariable(){const e=0===this.listOfTopItem.length;this.isShowPlaceholder=e&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!e&&!this.isComposing&&!this.inputValue}isComposingChange(e){this.isComposing=e,this.updateTemplateVariable()}onInputValueChange(e){e!==this.inputValue&&(this.inputValue=e,this.updateTemplateVariable(),this.inputValueChange.emit(e),this.tokenSeparate(e,this.tokenSeparators))}tokenSeparate(e,r){if(e&&e.length&&r.length&&"default"!==this.mode&&((o,s)=>{for(let l=0;l<s.length;++l)if(o.lastIndexOf(s[l])>0)return!0;return!1})(e,r)){const o=((o,s)=>{const l=new RegExp(`[${s.join()}]`),u=o.split(l).filter(c=>c);return[...new Set(u)]})(e,r);this.tokenize.next(o)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(e,r){return r.nzValue}onDeleteItem(e){!this.disabled&&!e.nzDisabled&&this.deleteItem.next(e)}ngOnChanges(e){const{listOfTopItem:r,maxTagCount:i,customTemplate:a,maxTagPlaceholder:o}=e;if(r&&this.updateTemplateVariable(),r||i||a||o){const s=this.listOfTopItem.slice(0,this.maxTagCount).map(l=>({nzLabel:l.nzLabel,nzValue:l.nzValue,nzDisabled:l.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:l}));if(this.listOfTopItem.length>this.maxTagCount){const l=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,u=this.listOfTopItem.map(h=>h.nzValue),c={nzLabel:l,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:u.slice(this.maxTagCount)};s.push(c)}this.listOfSlicedItem=s}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,Ai.R)(this.elementRef.nativeElement,"click").pipe((0,j.R)(this.destroy$)).subscribe(e=>{e.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),(0,Ai.R)(this.elementRef.nativeElement,"keydown").pipe((0,j.R)(this.destroy$)).subscribe(e=>{if(e.target instanceof HTMLInputElement){const r=e.target.value;e.keyCode===Sr.ZH&&"default"!==this.mode&&!r&&this.listOfTopItem.length>0&&(e.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))}})})}ngOnDestroy(){this.destroy$.next()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(qa.P,9))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-select-top-control"]],viewQuery:function(e,r){if(1&e&&d.Gf(q2,5),2&e){let i;d.iGM(i=d.CRH())&&(r.nzSelectSearchComponent=i.first)}},inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[d.TTD],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger","isComposingChange","valueChange"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger","isComposingChange","valueChange"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete"],[3,"placeholder"]],template:function(e,r){1&e&&(d.ynx(0,0),d.YNc(1,JJ,3,8,"ng-container",1),d.YNc(2,jJ,3,9,"ng-container",2),d.BQk(),d.YNc(3,KJ,1,1,"nz-select-placeholder",3)),2&e&&(d.Q6J("ngSwitch",r.mode),d.xp6(1),d.Q6J("ngSwitchCase","default"),d.xp6(2),d.Q6J("ngIf",r.isShowPlaceholder))},directives:function(){return[q.RF,q.n9,q.ED,q.O5,q2,Lq,q.sg,Qn.w,Oq]},encapsulation:2,changeDetection:0}),n})();const Tq=(n,t)=>!(!t||!t.nzLabel)&&t.nzLabel.toString().toLowerCase().indexOf(n.toLowerCase())>-1;let Dq=(()=>{class n{constructor(e,r,i,a,o,s,l,u){this.destroy$=e,this.nzConfigService=r,this.cdr=i,this.elementRef=a,this.platform=o,this.focusMonitor=s,this.directionality=l,this.noAnimation=u,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=Tq,this.compareWith=(c,h)=>c===h,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new d.vpe,this.nzScrollToBottom=new d.vpe,this.nzOpenChange=new d.vpe,this.nzBlur=new d.vpe,this.nzFocus=new d.vpe,this.listOfValue$=new pt.X([]),this.listOfTemplateItem$=new pt.X([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottom",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.elementRef.nativeElement.classList.add("ant-select")}set nzShowArrow(e){this._nzShowArrow=e}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}generateTagItem(e){return{nzValue:e,nzLabel:e,type:"item"}}onItemClick(e){if(this.activatedValue=e,"default"===this.nzMode)(0===this.listOfValue.length||!this.compareWith(this.listOfValue[0],e))&&this.updateListOfValue([e]),this.setOpenState(!1);else{const r=this.listOfValue.findIndex(i=>this.compareWith(i,e));if(-1!==r){const i=this.listOfValue.filter((a,o)=>o!==r);this.updateListOfValue(i)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const i=[...this.listOfValue,e];this.updateListOfValue(i)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(e){const r=this.listOfValue.filter(i=>!this.compareWith(i,e.nzValue));this.updateListOfValue(r),this.clearInput()}onHostClick(){this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.setOpenState(!this.nzOpen)}updateListOfContainerItem(){let e=this.listOfTagAndTemplateItem.filter(a=>!a.nzHide).filter(a=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,a));if("tags"===this.nzMode&&this.searchValue){const a=this.listOfTagAndTemplateItem.find(o=>o.nzLabel===this.searchValue);if(a)this.activatedValue=a.nzValue;else{const o=this.generateTagItem(this.searchValue);e=[o,...e],this.activatedValue=o.nzValue}}const r=e.find(a=>this.compareWith(a.nzValue,this.listOfValue[0]))||e[0];this.activatedValue=r&&r.nzValue||null;let i=[];this.isReactiveDriven?i=[...new Set(this.nzOptions.filter(a=>a.groupLabel).map(a=>a.groupLabel))]:this.listOfNzOptionGroupComponent&&(i=this.listOfNzOptionGroupComponent.map(a=>a.nzLabel)),i.forEach(a=>{const o=e.findIndex(s=>a===s.groupLabel);o>-1&&e.splice(o,0,{groupLabel:a,type:"group",key:a})}),this.listOfContainerItem=[...e],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(e){const i=((a,o)=>"default"===this.nzMode?a.length>0?a[0]:null:a)(e);this.value!==i&&(this.listOfValue=e,this.listOfValue$.next(e),this.value=i,this.onChange(this.value))}onTokenSeparate(e){const r=this.listOfTagAndTemplateItem.filter(i=>-1!==e.findIndex(a=>a===i.nzLabel)).map(i=>i.nzValue).filter(i=>-1===this.listOfValue.findIndex(a=>this.compareWith(a,i)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...r]);else if("tags"===this.nzMode){const i=e.filter(a=>-1===this.listOfTagAndTemplateItem.findIndex(o=>o.nzLabel===a));this.updateListOfValue([...this.listOfValue,...r,...i])}this.clearInput()}onOverlayKeyDown(e){e.keyCode===Sr.hY&&this.setOpenState(!1)}onKeyDown(e){if(this.nzDisabled)return;const r=this.listOfContainerItem.filter(a=>"item"===a.type).filter(a=>!a.nzDisabled),i=r.findIndex(a=>this.compareWith(a.nzValue,this.activatedValue));switch(e.keyCode){case Sr.LH:e.preventDefault(),this.nzOpen&&(this.activatedValue=r[i>0?i-1:r.length-1].nzValue);break;case Sr.JH:e.preventDefault(),this.nzOpen?this.activatedValue=r[i<r.length-1?i+1:0].nzValue:this.setOpenState(!0);break;case Sr.K5:e.preventDefault(),this.nzOpen?(0,ne.DX)(this.activatedValue)&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case Sr.L_:this.nzOpen||(this.setOpenState(!0),e.preventDefault());break;case Sr.Mf:this.setOpenState(!1);break;case Sr.hY:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(e){this.nzOpen!==e&&(this.nzOpen=e,this.nzOpenChange.emit(e),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.clearInput()}onInputValueChange(e){this.searchValue=e,this.updateListOfContainerItem(),this.nzOnSearch.emit(e),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(e){this.elementRef.nativeElement.contains(e.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(e){this.dropDownPosition=e.connectionPair.originY}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const e=this.triggerWidth;$2(this.requestId),this.requestId=X2(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,e!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){X2(()=>{var e,r;null===(r=null===(e=this.cdkConnectedOverlay)||void 0===e?void 0:e.overlayRef)||void 0===r||r.updatePosition()})}writeValue(e){if(this.value!==e){this.value=e;const i=((a,o)=>null==a?[]:"default"===this.nzMode?[a]:a)(e);this.listOfValue=i,this.listOfValue$.next(i),this.cdr.markForCheck()}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=e,e&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(e){const{nzOpen:r,nzDisabled:i,nzOptions:a}=e;if(r&&this.onOpenChange(),i&&this.nzDisabled&&this.setOpenState(!1),a){this.isReactiveDriven=!0;const s=(this.nzOptions||[]).map(l=>({template:l.label instanceof d.Rgc?l.label:null,nzLabel:"string"==typeof l.label||"number"==typeof l.label?l.label:null,nzValue:l.value,nzDisabled:l.disabled||!1,nzHide:l.hide||!1,nzCustomContent:l.label instanceof d.Rgc,groupLabel:l.groupLabel||null,type:"item",key:l.value}));this.listOfTemplateItem$.next(s)}}ngOnInit(){var e;this.focusMonitor.monitor(this.elementRef,!0).pipe((0,j.R)(this.destroy$)).subscribe(r=>{r?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,$n.aj)([this.listOfValue$,this.listOfTemplateItem$]).pipe((0,j.R)(this.destroy$)).subscribe(([r,i])=>{const a=r.filter(()=>"tags"===this.nzMode).filter(o=>-1===i.findIndex(s=>this.compareWith(s.nzValue,o))).map(o=>this.listOfTopItem.find(s=>this.compareWith(s.nzValue,o))||this.generateTagItem(o));this.listOfTagAndTemplateItem=[...i,...a],this.listOfTopItem=this.listOfValue.map(o=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(s=>this.compareWith(o,s.nzValue))).filter(o=>!!o),this.updateListOfContainerItem()}),null===(e=this.directionality.change)||void 0===e||e.pipe((0,j.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe((0,j.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value}ngAfterContentInit(){this.isReactiveDriven||(0,sn.T)(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe((0,ln.O)(!0),(0,Gt.w)(()=>(0,sn.T)(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(e=>e.changes),...this.listOfNzOptionGroupComponent.map(e=>e.changes)).pipe((0,ln.O)(!0))),(0,j.R)(this.destroy$)).subscribe(()=>{const e=this.listOfNzOptionComponent.toArray().map(r=>{const{template:i,nzLabel:a,nzValue:o,nzDisabled:s,nzHide:l,nzCustomContent:u,groupLabel:c}=r;return{template:i,nzLabel:a,nzValue:o,nzDisabled:s,nzHide:l,nzCustomContent:u,groupLabel:c,type:"item",key:o}});this.listOfTemplateItem$.next(e),this.cdr.markForCheck()})}ngOnDestroy(){$2(this.requestId),this.focusMonitor.stopMonitoring(this.elementRef)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(xr.kn),d.Y36(qe.jY),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(vs.t4),d.Y36(Ja.tE),d.Y36(ut.Is,8),d.Y36(qa.P,9))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-select"]],contentQueries:function(e,r,i){if(1&e&&(d.Suo(i,J2,5),d.Suo(i,n0,5)),2&e){let a;d.iGM(a=d.CRH())&&(r.listOfNzOptionComponent=a),d.iGM(a=d.CRH())&&(r.listOfNzOptionGroupComponent=a)}},viewQuery:function(e,r){if(1&e&&(d.Gf(Un.xu,7,d.SBq),d.Gf(Un.pI,7),d.Gf(r0,7),d.Gf(n0,7,d.SBq),d.Gf(r0,7,d.SBq)),2&e){let i;d.iGM(i=d.CRH())&&(r.originElement=i.first),d.iGM(i=d.CRH())&&(r.cdkConnectedOverlay=i.first),d.iGM(i=d.CRH())&&(r.nzSelectTopControlComponent=i.first),d.iGM(i=d.CRH())&&(r.nzOptionGroupComponentElement=i.first),d.iGM(i=d.CRH())&&(r.nzSelectTopControlComponentElement=i.first)}},hostVars:24,hostBindings:function(e,r){1&e&&d.NdJ("click",function(){return r.onHostClick()}),2&e&&d.ekj("ant-select-lg","large"===r.nzSize)("ant-select-sm","small"===r.nzSize)("ant-select-show-arrow",r.nzShowArrow)("ant-select-disabled",r.nzDisabled)("ant-select-show-search",(r.nzShowSearch||"default"!==r.nzMode)&&!r.nzDisabled)("ant-select-allow-clear",r.nzAllowClear)("ant-select-borderless",r.nzBorderless)("ant-select-open",r.nzOpen)("ant-select-focused",r.nzOpen||r.focused)("ant-select-single","default"===r.nzMode)("ant-select-multiple","default"!==r.nzMode)("ant-select-rtl","rtl"===r.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],features:[d._Bn([xr.kn,{provide:Xe.JU,useExisting:(0,d.Gpc)(()=>n),multi:!0}]),d.TTD],decls:5,vars:24,consts:[["cdkOverlayOrigin","",3,"nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem","inputValueChange","tokenize","deleteItem","keydown"],["origin","cdkOverlayOrigin"],[3,"loading","search","suffixIcon",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","overlayKeydown","overlayOutsideClick","detach","positionChange"],[3,"loading","search","suffixIcon"],[3,"clearIcon","clear"],[3,"ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","keydown","itemClick","scrollToBottom"]],template:function(e,r){if(1&e&&(d.TgZ(0,"nz-select-top-control",0,1),d.NdJ("inputValueChange",function(a){return r.onInputValueChange(a)})("tokenize",function(a){return r.onTokenSeparate(a)})("deleteItem",function(a){return r.onItemDelete(a)})("keydown",function(a){return r.onKeyDown(a)}),d.qZA(),d.YNc(2,eq,1,3,"nz-select-arrow",2),d.YNc(3,tq,1,1,"nz-select-clear",3),d.YNc(4,nq,1,19,"ng-template",4),d.NdJ("overlayKeydown",function(a){return r.onOverlayKeyDown(a)})("overlayOutsideClick",function(a){return r.onClickOutside(a)})("detach",function(){return r.setOpenState(!1)})("positionChange",function(a){return r.onPositionChange(a)})),2&e){const i=d.MAs(1);d.Q6J("nzId",r.nzId)("open",r.nzOpen)("disabled",r.nzDisabled)("mode",r.nzMode)("@.disabled",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("maxTagPlaceholder",r.nzMaxTagPlaceholder)("removeIcon",r.nzRemoveIcon)("placeHolder",r.nzPlaceHolder)("maxTagCount",r.nzMaxTagCount)("customTemplate",r.nzCustomTemplate)("tokenSeparators",r.nzTokenSeparators)("showSearch",r.nzShowSearch)("autofocus",r.nzAutoFocus)("listOfTopItem",r.listOfTopItem),d.xp6(2),d.Q6J("ngIf",r.nzShowArrow),d.xp6(1),d.Q6J("ngIf",r.nzAllowClear&&!r.nzDisabled&&r.listOfValue.length),d.xp6(1),d.Q6J("cdkConnectedOverlayHasBackdrop",r.nzBackdrop)("cdkConnectedOverlayMinWidth",r.nzDropdownMatchSelectWidth?null:r.triggerWidth)("cdkConnectedOverlayWidth",r.nzDropdownMatchSelectWidth?r.triggerWidth:null)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",r.nzDropdownClassName)("cdkConnectedOverlayOpen",r.nzOpen)}},directives:function(){return[Qn.w,r0,Un.xu,qa.P,q.O5,Un.pI,Pi.hQ,Iq,Pq,Cq,q.PC]},encapsulation:2,data:{animation:[H2.mF]},changeDetection:0}),(0,ie.gn)([(0,qe.oS)()],n.prototype,"nzSuffixIcon",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzAllowClear",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzBorderless",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzShowSearch",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzLoading",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzAutoFocus",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzAutoClearSearchValue",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzServerSearch",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzDisabled",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzOpen",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzBackdrop",void 0),n})(),Mq=(()=>{class n{constructor(e){this.elementRef=e,this.nzLabel=null,this.elementRef.nativeElement.classList.add("ant-select-item","ant-select-item-group")}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-option-item-group"]],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(e,r){1&e&&d.YNc(0,rq,2,1,"ng-container",0),2&e&&d.Q6J("nzStringTemplateOutlet",r.nzLabel)},directives:[An.f],encapsulation:2,changeDetection:0}),n})(),Aq=(()=>{class n{constructor(e){this.elementRef=e,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new d.vpe,this.itemHover=new d.vpe,this.elementRef.nativeElement.classList.add("ant-select-item","ant-select-item-option")}onHostMouseEnter(){this.disabled||this.itemHover.next(this.value)}onHostClick(){this.disabled||this.itemClick.next(this.value)}ngOnChanges(e){const{value:r,activatedValue:i,listOfSelectedValue:a}=e;(r||a)&&(this.selected=this.listOfSelectedValue.some(o=>this.compareWith(o,this.value))),(r||i)&&(this.activated=this.compareWith(this.activatedValue,this.value))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-option-item"]],hostVars:9,hostBindings:function(e,r){1&e&&d.NdJ("mouseenter",function(){return r.onHostMouseEnter()})("click",function(){return r.onHostClick()}),2&e&&(d.uIk("title",r.label),d.ekj("ant-select-item-option-grouped",r.grouped)("ant-select-item-option-selected",r.selected&&!r.disabled)("ant-select-item-option-disabled",r.disabled)("ant-select-item-option-active",r.activated&&!r.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[d.TTD],decls:4,vars:3,consts:[[1,"ant-select-item-option-content"],[4,"ngIf"],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.YNc(1,iq,2,1,"ng-container",1),d.YNc(2,oq,2,1,"ng-container",1),d.qZA(),d.YNc(3,lq,2,2,"div",2)),2&e&&(d.xp6(1),d.Q6J("ngIf",!r.customContent),d.xp6(1),d.Q6J("ngIf",r.customContent),d.xp6(1),d.Q6J("ngIf",r.showState&&r.selected))},directives:[q.O5,q.tP,jt.Ls,Qn.w],encapsulation:2,changeDetection:0}),n})(),Iq=(()=>{class n{constructor(e){this.elementRef=e,this.loading=!1,this.search=!1,this.suffixIcon=null,this.elementRef.nativeElement.classList.add("ant-select-arrow")}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-select-arrow"]],hostVars:2,hostBindings:function(e,r){2&e&&d.ekj("ant-select-arrow-loading",r.loading)},inputs:{loading:"loading",search:"search",suffixIcon:"suffixIcon"},decls:3,vars:2,consts:[["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["defaultArrow",""],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["suffixTemplate",""],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(e,r){if(1&e&&(d.YNc(0,uq,1,0,"i",0),d.YNc(1,dq,3,2,"ng-template",null,1,d.W1O)),2&e){const i=d.MAs(2);d.Q6J("ngIf",r.loading)("ngIfElse",i)}},directives:[q.O5,jt.Ls,Qn.w,An.f],encapsulation:2,changeDetection:0}),n})(),Pq=(()=>{class n{constructor(e){this.elementRef=e,this.clearIcon=null,this.clear=new d.vpe,this.elementRef.nativeElement.classList.add("ant-select-clear")}onClick(e){e.preventDefault(),e.stopPropagation(),this.clear.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-select-clear"]],hostBindings:function(e,r){1&e&&d.NdJ("click",function(a){return r.onClick(a)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(e,r){1&e&&d.YNc(0,gq,1,0,"i",0),2&e&&d.Q6J("ngIf",!r.clearIcon)("ngIfElse",r.clearIcon)},directives:[q.O5,jt.Ls,Qn.w],encapsulation:2,changeDetection:0}),n})(),Lq=(()=>{class n{constructor(e){this.elementRef=e,this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new d.vpe,this.elementRef.nativeElement.classList.add("ant-select-selection-item")}onDelete(e){e.preventDefault(),e.stopPropagation(),this.disabled||this.delete.next(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-select-item"]],hostVars:3,hostBindings:function(e,r){2&e&&(d.uIk("title",r.label),d.ekj("ant-select-selection-item-disabled",r.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:5,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],["labelTemplate",""],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(e,r){1&e&&(d.YNc(0,_q,4,2,"ng-container",0),d.YNc(1,xq,2,2,"span",1)),2&e&&(d.Q6J("nzStringTemplateOutlet",r.contentTemplateOutlet)("nzStringTemplateOutletContext",d.VKq(3,bq,r.contentTemplateOutletContext)),d.xp6(1),d.Q6J("ngIf",r.deletable&&!r.disabled))},directives:[An.f,q.O5,jt.Ls,Qn.w],encapsulation:2,changeDetection:0}),n})(),Oq=(()=>{class n{constructor(e){this.elementRef=e,this.placeholder=null,this.elementRef.nativeElement.classList.add("ant-select-selection-placeholder")}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-select-placeholder"]],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(e,r){1&e&&d.YNc(0,wq,2,1,"ng-container",0),2&e&&d.Q6J("nzStringTemplateOutlet",r.placeholder)},directives:[An.f],encapsulation:2,changeDetection:0}),n})(),Rq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,q.ez,ja.YI,Xe.u5,vs.ud,Un.U8,jt.PV,An.T,Z2,Pi.e4,qa.g,Qn.a,Zn.Cl,Ja.rt]]}),n})();function Nq(n,t){}function kq(n,t){if(1&n&&(d.ynx(0),d.YNc(1,Nq,0,0,"ng-template",6),d.BQk()),2&n){d.oxw(2);const e=d.MAs(2);d.xp6(1),d.Q6J("ngTemplateOutlet",e.template)}}function Eq(n,t){if(1&n&&(d.ynx(0),d.YNc(1,kq,2,1,"ng-container",5),d.BQk()),2&n){const e=d.oxw(),r=d.MAs(4);d.xp6(1),d.Q6J("ngIf",e.nzSimple)("ngIfElse",r.template)}}const j2=["containerTemplate"];function Bq(n,t){}const Vq=function(n,t){return{$implicit:n,range:t}};function Fq(n,t){if(1&n&&(d.TgZ(0,"li",4),d.YNc(1,Bq,0,0,"ng-template",5),d.qZA()),2&n){const e=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",e.showTotal)("ngTemplateOutletContext",d.WLB(2,Vq,e.total,e.ranges))}}function Gq(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"li",6),d.NdJ("gotoIndex",function(i){return d.CHM(e),d.oxw(2).jumpPage(i)})("diffIndex",function(i){return d.CHM(e),d.oxw(2).jumpDiff(i)}),d.qZA()}if(2&n){const e=t.$implicit,r=d.oxw(2);d.Q6J("locale",r.locale)("type",e.type)("index",e.index)("disabled",!!e.disabled)("itemRender",r.itemRender)("active",r.pageIndex===e.index)("direction",r.dir)}}function Hq(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"div",7),d.NdJ("pageIndexChange",function(i){return d.CHM(e),d.oxw(2).onPageIndexChange(i)})("pageSizeChange",function(i){return d.CHM(e),d.oxw(2).onPageSizeChange(i)}),d.qZA()}if(2&n){const e=d.oxw(2);d.Q6J("total",e.total)("locale",e.locale)("disabled",e.disabled)("nzSize",e.nzSize)("showSizeChanger",e.showSizeChanger)("showQuickJumper",e.showQuickJumper)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}function Wq(n,t){if(1&n&&(d.YNc(0,Fq,2,5,"li",1),d.YNc(1,Gq,1,7,"li",2),d.YNc(2,Hq,1,9,"div",3)),2&n){const e=d.oxw();d.Q6J("ngIf",e.showTotal),d.xp6(1),d.Q6J("ngForOf",e.listOfPageItem)("ngForTrackBy",e.trackByPageItem),d.xp6(1),d.Q6J("ngIf",e.showQuickJumper||e.showSizeChanger)}}const Yq=["nz-pagination-item",""];function Zq(n,t){if(1&n&&(d.TgZ(0,"a"),d._uU(1),d.qZA()),2&n){const e=d.oxw().page;d.xp6(1),d.Oqu(e)}}function Uq(n,t){1&n&&d._UZ(0,"i",9)}function $q(n,t){1&n&&d._UZ(0,"i",10)}function Xq(n,t){if(1&n&&(d.TgZ(0,"button",6),d.ynx(1,2),d.YNc(2,Uq,1,0,"i",7),d.YNc(3,$q,1,0,"i",8),d.BQk(),d.qZA()),2&n){const e=d.oxw(2);d.Q6J("disabled",e.disabled),d.xp6(1),d.Q6J("ngSwitch",e.direction),d.xp6(1),d.Q6J("ngSwitchCase","rtl")}}function Qq(n,t){1&n&&d._UZ(0,"i",10)}function Jq(n,t){1&n&&d._UZ(0,"i",9)}function qq(n,t){if(1&n&&(d.TgZ(0,"button",6),d.ynx(1,2),d.YNc(2,Qq,1,0,"i",11),d.YNc(3,Jq,1,0,"i",12),d.BQk(),d.qZA()),2&n){const e=d.oxw(2);d.Q6J("disabled",e.disabled),d.xp6(1),d.Q6J("ngSwitch",e.direction),d.xp6(1),d.Q6J("ngSwitchCase","rtl")}}function jq(n,t){1&n&&d._UZ(0,"i",20)}function Kq(n,t){1&n&&d._UZ(0,"i",21)}function ej(n,t){if(1&n&&(d.ynx(0,2),d.YNc(1,jq,1,0,"i",18),d.YNc(2,Kq,1,0,"i",19),d.BQk()),2&n){const e=d.oxw(4);d.Q6J("ngSwitch",e.direction),d.xp6(1),d.Q6J("ngSwitchCase","rtl")}}function tj(n,t){1&n&&d._UZ(0,"i",21)}function nj(n,t){1&n&&d._UZ(0,"i",20)}function rj(n,t){if(1&n&&(d.ynx(0,2),d.YNc(1,tj,1,0,"i",22),d.YNc(2,nj,1,0,"i",23),d.BQk()),2&n){const e=d.oxw(4);d.Q6J("ngSwitch",e.direction),d.xp6(1),d.Q6J("ngSwitchCase","rtl")}}function ij(n,t){if(1&n&&(d.TgZ(0,"div",15),d.ynx(1,2),d.YNc(2,ej,3,2,"ng-container",16),d.YNc(3,rj,3,2,"ng-container",16),d.BQk(),d.TgZ(4,"span",17),d._uU(5,"\u2022\u2022\u2022"),d.qZA(),d.qZA()),2&n){const e=d.oxw(2).$implicit;d.xp6(1),d.Q6J("ngSwitch",e),d.xp6(1),d.Q6J("ngSwitchCase","prev_5"),d.xp6(1),d.Q6J("ngSwitchCase","next_5")}}function aj(n,t){if(1&n&&(d.ynx(0),d.TgZ(1,"a",13),d.YNc(2,ij,6,3,"div",14),d.qZA(),d.BQk()),2&n){const e=d.oxw().$implicit;d.xp6(1),d.Q6J("ngSwitch",e)}}function oj(n,t){1&n&&(d.ynx(0,2),d.YNc(1,Zq,2,1,"a",3),d.YNc(2,Xq,4,3,"button",4),d.YNc(3,qq,4,3,"button",4),d.YNc(4,aj,3,1,"ng-container",5),d.BQk()),2&n&&(d.Q6J("ngSwitch",t.$implicit),d.xp6(1),d.Q6J("ngSwitchCase","page"),d.xp6(1),d.Q6J("ngSwitchCase","prev"),d.xp6(1),d.Q6J("ngSwitchCase","next"))}function sj(n,t){}const lj=function(n,t){return{$implicit:n,page:t}},uj=["nz-pagination-options",""];function cj(n,t){if(1&n&&d._UZ(0,"nz-option",4),2&n){const e=t.$implicit;d.Q6J("nzLabel",e.label)("nzValue",e.value)}}function hj(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"nz-select",2),d.NdJ("ngModelChange",function(i){return d.CHM(e),d.oxw().onPageSizeChange(i)}),d.YNc(1,cj,1,2,"nz-option",3),d.qZA()}if(2&n){const e=d.oxw();d.Q6J("nzDisabled",e.disabled)("nzSize",e.nzSize)("ngModel",e.pageSize),d.xp6(1),d.Q6J("ngForOf",e.listOfPageSizeOption)("ngForTrackBy",e.trackByOption)}}function fj(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"div",5),d._uU(1),d.TgZ(2,"input",6),d.NdJ("keydown.enter",function(i){return d.CHM(e),d.oxw().jumpToPageViaInput(i)}),d.qZA(),d._uU(3),d.qZA()}if(2&n){const e=d.oxw();d.xp6(1),d.hij(" ",e.locale.jump_to," "),d.xp6(1),d.Q6J("disabled",e.disabled),d.xp6(1),d.hij(" ",e.locale.page," ")}}function vj(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"li",1),d.NdJ("click",function(){return d.CHM(e),d.oxw().prePage()}),d.qZA(),d.TgZ(1,"li",2),d.TgZ(2,"input",3),d.NdJ("keydown.enter",function(i){return d.CHM(e),d.oxw().jumpToPageViaInput(i)}),d.qZA(),d.TgZ(3,"span",4),d._uU(4,"/"),d.qZA(),d._uU(5),d.qZA(),d.TgZ(6,"li",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().nextPage()}),d.qZA()}if(2&n){const e=d.oxw();d.Q6J("disabled",e.isFirstIndex)("direction",e.dir)("itemRender",e.itemRender),d.uIk("title",e.locale.prev_page),d.xp6(1),d.uIk("title",e.pageIndex+"/"+e.lastIndex),d.xp6(1),d.Q6J("disabled",e.disabled)("value",e.pageIndex),d.xp6(3),d.hij(" ",e.lastIndex," "),d.xp6(1),d.Q6J("disabled",e.isLastIndex)("direction",e.dir)("itemRender",e.itemRender),d.uIk("title",null==e.locale?null:e.locale.next_page)}}let dj=(()=>{class n{constructor(e,r,i,a,o,s){this.i18n=e,this.cdr=r,this.breakpointService=i,this.nzConfigService=a,this.directionality=o,this.elementRef=s,this._nzModuleName="pagination",this.nzPageSizeChange=new d.vpe,this.nzPageIndexChange=new d.vpe,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new Re.xQ,this.total$=new Tt.t(1),this.elementRef.nativeElement.classList.add("ant-pagination")}validatePageIndex(e,r){return e>r?r:e<1?1:e}onPageIndexChange(e){const r=this.getLastIndex(this.nzTotal,this.nzPageSize),i=this.validatePageIndex(e,r);i!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=i,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(e){this.nzPageSize=e,this.nzPageSizeChange.emit(e);const r=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>r&&this.onPageIndexChange(r)}onTotalChange(e){const r=this.getLastIndex(e,this.nzPageSize);this.nzPageIndex>r&&Promise.resolve().then(()=>{this.onPageIndexChange(r),this.cdr.markForCheck()})}getLastIndex(e,r){return Math.ceil(e/r)}ngOnInit(){var e;this.i18n.localeChange.pipe((0,j.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe((0,j.R)(this.destroy$)).subscribe(r=>{this.onTotalChange(r)}),this.breakpointService.subscribe(xr.WV).pipe((0,j.R)(this.destroy$)).subscribe(r=>{this.nzResponsive&&(this.size=r===xr.G_.xs?"small":"default",this.cdr.markForCheck())}),null===(e=this.directionality.change)||void 0===e||e.pipe((0,j.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){const{nzHideOnSinglePage:r,nzTotal:i,nzPageSize:a,nzSize:o}=e;i&&this.total$.next(this.nzTotal),(r||i||a)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),o&&(this.size=o.currentValue)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ja.wi),d.Y36(d.sBO),d.Y36(xr.r3),d.Y36(qe.jY),d.Y36(ut.Is,8),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-pagination"]],hostVars:8,hostBindings:function(e,r){2&e&&d.ekj("ant-pagination-simple",r.nzSimple)("ant-pagination-disabled",r.nzDisabled)("mini",!r.nzSimple&&"small"===r.size)("ant-pagination-rtl","rtl"===r.dir)},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:"nzShowSizeChanger",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple",nzDisabled:"nzDisabled",nzResponsive:"nzResponsive",nzHideOnSinglePage:"nzHideOnSinglePage",nzTotal:"nzTotal",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],features:[d.TTD],decls:5,vars:18,consts:[[4,"ngIf"],[3,"disabled","itemRender","locale","pageSize","total","pageIndex","pageIndexChange"],["simplePagination",""],[3,"nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"],["defaultPagination",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"]],template:function(e,r){1&e&&(d.YNc(0,Eq,2,2,"ng-container",0),d.TgZ(1,"nz-pagination-simple",1,2),d.NdJ("pageIndexChange",function(a){return r.onPageIndexChange(a)}),d.qZA(),d.TgZ(3,"nz-pagination-default",3,4),d.NdJ("pageIndexChange",function(a){return r.onPageIndexChange(a)})("pageSizeChange",function(a){return r.onPageSizeChange(a)}),d.qZA()),2&e&&(d.Q6J("ngIf",r.showPagination),d.xp6(1),d.Q6J("disabled",r.nzDisabled)("itemRender",r.nzItemRender)("locale",r.locale)("pageSize",r.nzPageSize)("total",r.nzTotal)("pageIndex",r.nzPageIndex),d.xp6(2),d.Q6J("nzSize",r.size)("itemRender",r.nzItemRender)("showTotal",r.nzShowTotal)("disabled",r.nzDisabled)("locale",r.locale)("showSizeChanger",r.nzShowSizeChanger)("showQuickJumper",r.nzShowQuickJumper)("total",r.nzTotal)("pageIndex",r.nzPageIndex)("pageSize",r.nzPageSize)("pageSizeOptions",r.nzPageSizeOptions))},directives:function(){return[q.O5,yj,gj,q.tP]},encapsulation:2,changeDetection:0}),(0,ie.gn)([(0,qe.oS)()],n.prototype,"nzSize",void 0),(0,ie.gn)([(0,qe.oS)()],n.prototype,"nzPageSizeOptions",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzShowSizeChanger",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzShowQuickJumper",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzSimple",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzDisabled",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzResponsive",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzHideOnSinglePage",void 0),(0,ie.gn)([(0,ne.Rn)()],n.prototype,"nzTotal",void 0),(0,ie.gn)([(0,ne.Rn)()],n.prototype,"nzPageIndex",void 0),(0,ie.gn)([(0,ne.Rn)()],n.prototype,"nzPageSize",void 0),n})(),gj=(()=>{class n{constructor(e,r,i,a){this.cdr=e,this.renderer=r,this.elementRef=i,this.directionality=a,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new d.vpe,this.pageSizeChange=new d.vpe,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new Re.xQ,r.removeChild(r.parentNode(i.nativeElement),i.nativeElement)}ngOnInit(){var e;null===(e=this.directionality.change)||void 0===e||e.pipe((0,j.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(e){this.onPageIndexChange(e)}jumpDiff(e){this.jumpPage(this.pageIndex+e)}trackByPageItem(e,r){return`${r.type}-${r.index}`}onPageIndexChange(e){this.pageIndexChange.next(e)}onPageSizeChange(e){this.pageSizeChange.next(e)}getLastIndex(e,r){return Math.ceil(e/r)}buildIndexes(){const e=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,e)}getListOfPageItem(e,r){const a=(o,s)=>{const l=[];for(let u=o;u<=s;u++)l.push({index:u,type:"page"});return l};return o=r<=9?a(1,r):((s,l)=>{let u=[];const c={type:"prev_5"},h={type:"next_5"},f=a(1,1),v=a(r,r);return u=s<5?[...a(2,4===s?6:5),h]:s<l-3?[c,...a(s-2,s+2),h]:[c,...a(s===l-3?l-5:l-4,l-1)],[...f,...u,...v]})(e,r),[{type:"prev",disabled:1===e},...o,{type:"next",disabled:e===r}];var o}ngOnChanges(e){const{pageIndex:r,pageSize:i,total:a}=e;(r||i||a)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.sBO),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ut.Is,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-pagination-default"]],viewQuery:function(e,r){if(1&e&&d.Gf(j2,7),2&e){let i;d.iGM(i=d.CRH())&&(r.template=i.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[d.TTD],decls:2,vars:0,consts:[["containerTemplate",""],["class","ant-pagination-total-text",4,"ngIf"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex",4,"ngFor","ngForOf","ngForTrackBy"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange",4,"ngIf"],[1,"ant-pagination-total-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"]],template:function(e,r){1&e&&d.YNc(0,Wq,3,4,"ng-template",null,0,d.W1O)},directives:function(){return[q.O5,q.sg,q.tP,K2,mj]},encapsulation:2,changeDetection:0}),n})(),K2=(()=>{class n{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new d.vpe,this.gotoIndex=new d.vpe,this.title=null}clickItem(){this.disabled||("page"===this.type?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(e){var r,i,a,o;const{locale:s,index:l,type:u}=e;(s||l||u)&&(this.title={page:`${this.index}`,next:null===(r=this.locale)||void 0===r?void 0:r.next_page,prev:null===(i=this.locale)||void 0===i?void 0:i.prev_page,prev_5:null===(a=this.locale)||void 0===a?void 0:a.prev_5,next_5:null===(o=this.locale)||void 0===o?void 0:o.next_5}[this.type])}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(e,r){1&e&&d.NdJ("click",function(){return r.clickItem()}),2&e&&(d.uIk("title",r.title),d.ekj("ant-pagination-prev","prev"===r.type)("ant-pagination-next","next"===r.type)("ant-pagination-item","page"===r.type)("ant-pagination-jump-prev","prev_5"===r.type)("ant-pagination-jump-prev-custom-icon","prev_5"===r.type)("ant-pagination-jump-next","next_5"===r.type)("ant-pagination-jump-next-custom-icon","next_5"===r.type)("ant-pagination-disabled",r.disabled)("ant-pagination-item-active",r.active))},inputs:{active:"active",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender",locale:"locale"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},features:[d.TTD],attrs:Yq,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","button","class","ant-pagination-item-link",3,"disabled",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","button",1,"ant-pagination-item-link",3,"disabled"],["nz-icon","","nzType","right",4,"ngSwitchCase"],["nz-icon","","nzType","left",4,"ngSwitchDefault"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],["nz-icon","","nzType","left",4,"ngSwitchCase"],["nz-icon","","nzType","right",4,"ngSwitchDefault"],[1,"ant-pagination-item-link",3,"ngSwitch"],["class","ant-pagination-item-container",4,"ngSwitchDefault"],[1,"ant-pagination-item-container"],[3,"ngSwitch",4,"ngSwitchCase"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon",4,"ngSwitchCase"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon",4,"ngSwitchCase"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon",4,"ngSwitchDefault"]],template:function(e,r){if(1&e&&(d.YNc(0,oj,5,4,"ng-template",null,0,d.W1O),d.YNc(2,sj,0,0,"ng-template",1)),2&e){const i=d.MAs(1);d.xp6(2),d.Q6J("ngTemplateOutlet",r.itemRender||i)("ngTemplateOutletContext",d.WLB(2,lj,r.type,r.index))}},directives:[q.tP,q.RF,q.n9,q.ED,jt.Ls],encapsulation:2,changeDetection:0}),n})(),mj=(()=>{class n{constructor(e){this.elementRef=e,this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new d.vpe,this.pageSizeChange=new d.vpe,this.listOfPageSizeOption=[],this.elementRef.nativeElement.classList.add("ant-pagination-options")}onPageSizeChange(e){this.pageSize!==e&&this.pageSizeChange.next(e)}jumpToPageViaInput(e){const r=e.target,i=Math.floor((0,ne.He)(r.value,this.pageIndex));this.pageIndexChange.next(i),r.value=""}trackByOption(e,r){return r.value}ngOnChanges(e){const{pageSize:r,pageSizeOptions:i,locale:a}=e;(r||i||a)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(o=>({value:o,label:`${o} ${this.locale.items_per_page}`})))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["div","nz-pagination-options",""]],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[d.TTD],attrs:uj,decls:2,vars:2,consts:[["class","ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange",4,"ngIf"],["class","ant-pagination-options-quick-jumper",4,"ngIf"],[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzLabel","nzValue"],[1,"ant-pagination-options-quick-jumper"],[3,"disabled","keydown.enter"]],template:function(e,r){1&e&&(d.YNc(0,hj,2,5,"nz-select",0),d.YNc(1,fj,4,3,"div",1)),2&e&&(d.Q6J("ngIf",r.showSizeChanger),d.xp6(1),d.Q6J("ngIf",r.showQuickJumper))},directives:[q.O5,Dq,Xe.JJ,Xe.On,q.sg,J2],encapsulation:2,changeDetection:0}),n})(),yj=(()=>{class n{constructor(e,r,i,a){this.cdr=e,this.renderer=r,this.elementRef=i,this.directionality=a,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new d.vpe,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new Re.xQ,r.removeChild(r.parentNode(i.nativeElement),i.nativeElement)}ngOnInit(){var e;null===(e=this.directionality.change)||void 0===e||e.pipe((0,j.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(e){const r=e.target,i=(0,ne.He)(r.value,this.pageIndex);this.onPageIndexChange(i),r.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(e){this.pageIndexChange.next(e)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=1===this.pageIndex,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(e){const{pageIndex:r,total:i,pageSize:a}=e;(r||i||a)&&this.updateBindingValue()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.sBO),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ut.Is,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-pagination-simple"]],viewQuery:function(e,r){if(1&e&&d.Gf(j2,7),2&e){let i;d.iGM(i=d.CRH())&&(r.template=i.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange"},features:[d.TTD],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"disabled","direction","itemRender","click"],[1,"ant-pagination-simple-pager"],["size","3",3,"disabled","value","keydown.enter"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"disabled","direction","itemRender","click"]],template:function(e,r){1&e&&d.YNc(0,vj,7,12,"ng-template",null,0,d.W1O)},directives:[K2],encapsulation:2,changeDetection:0}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,q.ez,Xe.u5,Rq,ja.YI,jt.PV]]}),n})();const eP=["*"],Sj=["inputElement"],xj=["nz-radio",""];let bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","nz-radio-button",""]]}),n})(),a0=(()=>{class n{constructor(){this.selected$=new Tt.t(1),this.touched$=new Re.xQ,this.disabled$=new Tt.t(1),this.name$=new Tt.t(1)}touch(){this.touched$.next()}select(e){this.selected$.next(e)}setDisabled(e){this.disabled$.next(e)}setName(e){this.name$.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),wj=(()=>{class n{constructor(e,r,i,a,o,s,l){this.ngZone=e,this.elementRef=r,this.cdr=i,this.focusMonitor=a,this.directionality=o,this.nzRadioService=s,this.nzRadioButtonDirective=l,this.isNgModel=!1,this.destroy$=new Re.xQ,this.isChecked=!1,this.name=null,this.isRadioButton=!!this.nzRadioButtonDirective,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.dir="ltr"}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}setDisabledState(e){this.nzDisabled=e,this.cdr.markForCheck()}writeValue(e){this.isChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.isNgModel=!0,this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe((0,j.R)(this.destroy$)).subscribe(e=>{this.name=e,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe((0,j.R)(this.destroy$)).subscribe(e=>{this.nzDisabled=e,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe((0,j.R)(this.destroy$)).subscribe(e=>{this.isChecked=this.nzValue===e,this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,j.R)(this.destroy$)).subscribe(e=>{e||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe((0,j.R)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{(0,Ai.R)(this.elementRef.nativeElement,"click").pipe((0,j.R)(this.destroy$)).subscribe(e=>{e.stopPropagation(),e.preventDefault(),!this.nzDisabled&&!this.isChecked&&this.ngZone.run(()=>{this.nzRadioService&&this.nzRadioService.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Ja.tE),d.Y36(ut.Is,8),d.Y36(a0,8),d.Y36(bj,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(e,r){if(1&e&&d.Gf(Sj,5),2&e){let i;d.iGM(i=d.CRH())&&(r.inputElement=i.first)}},hostVars:16,hostBindings:function(e,r){2&e&&d.ekj("ant-radio-wrapper",!r.isRadioButton)("ant-radio-button-wrapper",r.isRadioButton)("ant-radio-wrapper-checked",r.isChecked&&!r.isRadioButton)("ant-radio-button-wrapper-checked",r.isChecked&&r.isRadioButton)("ant-radio-wrapper-disabled",r.nzDisabled&&!r.isRadioButton)("ant-radio-button-wrapper-disabled",r.nzDisabled&&r.isRadioButton)("ant-radio-wrapper-rtl",!r.isRadioButton&&"rtl"===r.dir)("ant-radio-button-wrapper-rtl",r.isRadioButton&&"rtl"===r.dir)},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus"},exportAs:["nzRadio"],features:[d._Bn([{provide:Xe.JU,useExisting:(0,d.Gpc)(()=>n),multi:!0}])],attrs:xj,ngContentSelectors:eP,decls:6,vars:24,consts:[["type","radio",3,"disabled","checked"],["inputElement",""]],template:function(e,r){1&e&&(d.F$t(),d.TgZ(0,"span"),d._UZ(1,"input",0,1),d._UZ(3,"span"),d.qZA(),d.TgZ(4,"span"),d.Hsn(5),d.qZA()),2&e&&(d.ekj("ant-radio",!r.isRadioButton)("ant-radio-checked",r.isChecked&&!r.isRadioButton)("ant-radio-disabled",r.nzDisabled&&!r.isRadioButton)("ant-radio-button",r.isRadioButton)("ant-radio-button-checked",r.isChecked&&r.isRadioButton)("ant-radio-button-disabled",r.nzDisabled&&r.isRadioButton),d.xp6(1),d.ekj("ant-radio-input",!r.isRadioButton)("ant-radio-button-input",r.isRadioButton),d.Q6J("disabled",r.nzDisabled)("checked",r.isChecked),d.uIk("autofocus",r.nzAutoFocus?"autofocus":null)("name",r.name),d.xp6(2),d.ekj("ant-radio-inner",!r.isRadioButton)("ant-radio-button-inner",r.isRadioButton))},encapsulation:2,changeDetection:0}),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzDisabled",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzAutoFocus",void 0),n})(),Cj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,q.ez,Xe.u5]]}),n})();var Tj=le(8634),o0=le(5345);class Dj{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Mj(t,this.durationSelector))}}class Mj extends o0.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=(0,o0.ft)(e,new o0.IY(this)),r&&!r.closed&&this.add(this.durationSubscription=r)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}var Aj=le(8553);function Ij(n,t){1&n&&(d.TgZ(0,"span",3),d._UZ(1,"i",4),d._UZ(2,"i",4),d._UZ(3,"i",4),d._UZ(4,"i",4),d.qZA())}function Pj(n,t){}function Lj(n,t){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const e=d.oxw(2);d.xp6(1),d.Oqu(e.nzTip)}}function Oj(n,t){if(1&n&&(d.TgZ(0,"div"),d.TgZ(1,"div",5),d.YNc(2,Pj,0,0,"ng-template",6),d.YNc(3,Lj,2,1,"div",7),d.qZA(),d.qZA()),2&n){const e=d.oxw(),r=d.MAs(1);d.xp6(1),d.ekj("ant-spin-rtl","rtl"===e.dir)("ant-spin-spinning",e.isLoading)("ant-spin-lg","large"===e.nzSize)("ant-spin-sm","small"===e.nzSize)("ant-spin-show-text",e.nzTip),d.xp6(1),d.Q6J("ngTemplateOutlet",e.nzIndicator||r),d.xp6(1),d.Q6J("ngIf",e.nzTip)}}function Rj(n,t){if(1&n&&(d.TgZ(0,"div",9),d.Hsn(1),d.qZA()),2&n){const e=d.oxw();d.ekj("ant-spin-blur",e.isLoading)}}const Nj=["*"];let kj=(()=>{class n{constructor(e,r,i){this.nzConfigService=e,this.cdr=r,this.directionality=i,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new Re.xQ,this.spinning$=new pt.X(this.nzSpinning),this.delay$=new Tt.t(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){var e;this.delay$.pipe((0,ln.O)(this.nzDelay),(0,vu.x)(),(0,Gt.w)(i=>0===i?this.spinning$:this.spinning$.pipe(function(n){return t=>t.lift(new Dj(n))}(a=>(0,Tj.H)(a?i:0)))),(0,j.R)(this.destroy$)).subscribe(i=>{this.isLoading=i,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe((0,j.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),null===(e=this.directionality.change)||void 0===e||e.pipe((0,j.R)(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){const{nzSpinning:r,nzDelay:i}=e;r&&this.spinning$.next(this.nzSpinning),i&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(qe.jY),d.Y36(d.sBO),d.Y36(ut.Is,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(e,r){2&e&&d.ekj("ant-spin-nested-loading",!r.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[d.TTD],ngContentSelectors:Nj,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(e,r){1&e&&(d.F$t(),d.YNc(0,Ij,5,0,"ng-template",null,0,d.W1O),d.YNc(2,Oj,4,12,"div",1),d.YNc(3,Rj,2,2,"div",2)),2&e&&(d.xp6(2),d.Q6J("ngIf",r.isLoading),d.xp6(1),d.Q6J("ngIf",!r.nzSimple))},directives:[q.O5,q.tP],encapsulation:2}),(0,ie.gn)([(0,qe.oS)()],n.prototype,"nzIndicator",void 0),(0,ie.gn)([(0,ne.Rn)()],n.prototype,"nzDelay",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzSimple",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzSpinning",void 0),n})(),Ej=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,q.ez,Aj.Q8]]}),n})();var Bj=le(5917),Vj=le(3637),Gj=le(7393),nP=le(1593);function s0(n,t=Vj.P){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-t.now():Math.abs(n);return i=>i.lift(new Hj(r,t))}class Hj{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new l0(t,this.delay,this.scheduler))}}class l0 extends Gj.L{constructor(t,e,r){super(t),this.delay=e,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,r=e.queue,i=t.scheduler,a=t.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(a);if(r.length>0){const o=Math.max(0,r[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(l0.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,r=new Wj(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(nP.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(nP.P.createComplete()),this.unsubscribe()}}class Wj{constructor(t,e){this.time=t,this.notification=e}}var rP=le(4395),Yj=le(3653),u0=le(9773),Zj=le(9374);const Li=["*"];function Uj(n,t){}function $j(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"label",15),d.NdJ("ngModelChange",function(){d.CHM(e);const i=d.oxw().$implicit;return d.oxw(2).check(i)}),d.qZA()}if(2&n){const e=d.oxw().$implicit;d.Q6J("ngModel",e.checked)}}function Xj(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"label",16),d.NdJ("ngModelChange",function(){d.CHM(e);const i=d.oxw().$implicit;return d.oxw(2).check(i)}),d.qZA()}if(2&n){const e=d.oxw().$implicit;d.Q6J("ngModel",e.checked)}}function Qj(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"li",12),d.NdJ("click",function(){const a=d.CHM(e).$implicit;return d.oxw(2).check(a)}),d.YNc(1,$j,1,1,"label",13),d.YNc(2,Xj,1,1,"label",14),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.qZA()}if(2&n){const e=t.$implicit,r=d.oxw(2);d.Q6J("nzSelected",e.checked),d.xp6(1),d.Q6J("ngIf",!r.filterMultiple),d.xp6(1),d.Q6J("ngIf",r.filterMultiple),d.xp6(2),d.Oqu(e.text)}}function Jj(n,t){if(1&n){const e=d.EpF();d.ynx(0),d.TgZ(1,"nz-filter-trigger",3),d.NdJ("nzVisibleChange",function(i){return d.CHM(e),d.oxw().onVisibleChange(i)}),d._UZ(2,"i",4),d.qZA(),d.TgZ(3,"nz-dropdown-menu",null,5),d.TgZ(5,"div",6),d.TgZ(6,"ul",7),d.YNc(7,Qj,5,4,"li",8),d.qZA(),d.TgZ(8,"div",9),d.TgZ(9,"button",10),d.NdJ("click",function(){return d.CHM(e),d.oxw().reset()}),d._uU(10),d.qZA(),d.TgZ(11,"button",11),d.NdJ("click",function(){return d.CHM(e),d.oxw().confirm()}),d._uU(12),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.BQk()}if(2&n){const e=d.MAs(4),r=d.oxw();d.xp6(1),d.Q6J("nzVisible",r.isVisible)("nzActive",r.isChecked)("nzDropdownMenu",e),d.xp6(6),d.Q6J("ngForOf",r.listOfParsedFilter)("ngForTrackBy",r.trackByValue),d.xp6(2),d.Q6J("disabled",!r.isChecked),d.xp6(1),d.hij(" ",r.locale.filterReset," "),d.xp6(2),d.Oqu(r.locale.filterConfirm)}}function eK(n,t){}function tK(n,t){if(1&n&&d._UZ(0,"i",6),2&n){const e=d.oxw();d.ekj("active","ascend"===e.sortOrder)}}function nK(n,t){if(1&n&&d._UZ(0,"i",7),2&n){const e=d.oxw();d.ekj("active","descend"===e.sortOrder)}}const oK=["nzColumnKey",""];function sK(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"nz-table-filter",5),d.NdJ("filterChange",function(i){return d.CHM(e),d.oxw().onFilterValueChange(i)}),d.qZA()}if(2&n){const e=d.oxw(),r=d.MAs(2),i=d.MAs(4);d.Q6J("contentTemplate",r)("extraTemplate",i)("customFilter",e.nzCustomFilter)("filterMultiple",e.nzFilterMultiple)("listOfFilter",e.nzFilters)}}function lK(n,t){}function uK(n,t){if(1&n&&d.YNc(0,lK,0,0,"ng-template",6),2&n){const e=d.oxw(),r=d.MAs(6),i=d.MAs(8);d.Q6J("ngTemplateOutlet",e.nzShowSort?r:i)}}function cK(n,t){1&n&&(d.Hsn(0),d.Hsn(1,1))}function hK(n,t){if(1&n&&d._UZ(0,"nz-table-sorters",7),2&n){const e=d.oxw(),r=d.MAs(8);d.Q6J("sortOrder",e.sortOrder)("sortDirections",e.sortDirections)("contentTemplate",r)}}function fK(n,t){1&n&&d.Hsn(0,2)}const vK=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],pK=["[nz-th-extra]","nz-filter-trigger","*"],gK=["nz-table-content",""];function mK(n,t){if(1&n&&d._UZ(0,"col"),2&n){const e=t.$implicit;d.Udp("width",e)("min-width",e)}}function yK(n,t){}function _K(n,t){if(1&n&&(d.TgZ(0,"thead",3),d.YNc(1,yK,0,0,"ng-template",2),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",e.theadTemplate)}}function SK(n,t){}const iP=["tdElement"],xK=["nz-table-fixed-row",""];function bK(n,t){}function wK(n,t){if(1&n&&(d.TgZ(0,"div",4),d.ALo(1,"async"),d.YNc(2,bK,0,0,"ng-template",5),d.qZA()),2&n){const e=d.oxw(),r=d.MAs(5);d.Udp("width",d.lcZ(1,3,e.hostWidth$),"px"),d.xp6(2),d.Q6J("ngTemplateOutlet",r)}}function CK(n,t){1&n&&d.Hsn(0)}const TK=["tableHeaderElement"],zK=["tableBodyElement"];function DK(n,t){if(1&n&&(d.TgZ(0,"div",7,8),d._UZ(2,"table",9),d.qZA()),2&n){const e=d.oxw(2);d.Q6J("ngStyle",e.bodyStyleMap),d.xp6(2),d.Q6J("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth)("contentTemplate",e.contentTemplate)}}function MK(n,t){}const AK=function(n,t){return{$implicit:n,index:t}};function IK(n,t){if(1&n&&(d.ynx(0),d.YNc(1,MK,0,0,"ng-template",13),d.BQk()),2&n){const e=t.$implicit,r=t.index,i=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",i.virtualTemplate)("ngTemplateOutletContext",d.WLB(2,AK,e,r))}}function PK(n,t){if(1&n&&(d.TgZ(0,"cdk-virtual-scroll-viewport",10,8),d.TgZ(2,"table",11),d.TgZ(3,"tbody"),d.YNc(4,IK,2,5,"ng-container",12),d.qZA(),d.qZA(),d.qZA()),2&n){const e=d.oxw(2);d.Udp("height",e.data.length?e.scrollY:e.noDateVirtualHeight),d.Q6J("itemSize",e.virtualItemSize)("maxBufferPx",e.virtualMaxBufferPx)("minBufferPx",e.virtualMinBufferPx),d.xp6(2),d.Q6J("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth),d.xp6(2),d.Q6J("cdkVirtualForOf",e.data)("cdkVirtualForTrackBy",e.virtualForTrackBy)}}function LK(n,t){if(1&n&&(d.ynx(0),d.TgZ(1,"div",2,3),d._UZ(3,"table",4),d.qZA(),d.YNc(4,DK,3,4,"div",5),d.YNc(5,PK,5,9,"cdk-virtual-scroll-viewport",6),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("ngStyle",e.headerStyleMap),d.xp6(2),d.Q6J("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth)("theadTemplate",e.theadTemplate),d.xp6(1),d.Q6J("ngIf",!e.virtualTemplate),d.xp6(1),d.Q6J("ngIf",e.virtualTemplate)}}function OK(n,t){if(1&n&&(d.TgZ(0,"div",14,8),d._UZ(2,"table",15),d.qZA()),2&n){const e=d.oxw();d.Q6J("ngStyle",e.bodyStyleMap),d.xp6(2),d.Q6J("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth)("theadTemplate",e.theadTemplate)("contentTemplate",e.contentTemplate)}}function RK(n,t){}function NK(n,t){if(1&n&&(d.ynx(0),d.YNc(1,RK,0,0,"ng-template",10),d.BQk()),2&n){d.oxw();const e=d.MAs(11);d.xp6(1),d.Q6J("ngTemplateOutlet",e)}}function kK(n,t){if(1&n&&d._UZ(0,"nz-table-title-footer",11),2&n){const e=d.oxw();d.Q6J("title",e.nzTitle)}}function EK(n,t){if(1&n&&d._UZ(0,"nz-table-inner-scroll",12),2&n){const e=d.oxw(),r=d.MAs(13),i=d.MAs(3);d.Q6J("data",e.data)("scrollX",e.scrollX)("scrollY",e.scrollY)("contentTemplate",r)("listOfColWidth",e.listOfAutoColWidth)("theadTemplate",e.theadTemplate)("verticalScrollBarWidth",e.verticalScrollBarWidth)("virtualTemplate",e.nzVirtualScrollDirective?e.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",e.nzVirtualItemSize)("virtualMaxBufferPx",e.nzVirtualMaxBufferPx)("virtualMinBufferPx",e.nzVirtualMinBufferPx)("tableMainElement",i)("virtualForTrackBy",e.nzVirtualForTrackBy)}}function BK(n,t){if(1&n&&d._UZ(0,"nz-table-inner-default",13),2&n){const e=d.oxw(),r=d.MAs(13);d.Q6J("tableLayout",e.nzTableLayout)("listOfColWidth",e.listOfManualColWidth)("theadTemplate",e.theadTemplate)("contentTemplate",r)}}function VK(n,t){if(1&n&&d._UZ(0,"nz-table-title-footer",14),2&n){const e=d.oxw();d.Q6J("footer",e.nzFooter)}}function FK(n,t){}function GK(n,t){if(1&n&&(d.ynx(0),d.YNc(1,FK,0,0,"ng-template",10),d.BQk()),2&n){d.oxw();const e=d.MAs(11);d.xp6(1),d.Q6J("ngTemplateOutlet",e)}}function HK(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"nz-pagination",16),d.NdJ("nzPageSizeChange",function(i){return d.CHM(e),d.oxw(2).onPageSizeChange(i)})("nzPageIndexChange",function(i){return d.CHM(e),d.oxw(2).onPageIndexChange(i)}),d.qZA()}if(2&n){const e=d.oxw(2);d.Q6J("hidden",!e.showPagination)("nzShowSizeChanger",e.nzShowSizeChanger)("nzPageSizeOptions",e.nzPageSizeOptions)("nzItemRender",e.nzItemRender)("nzShowQuickJumper",e.nzShowQuickJumper)("nzHideOnSinglePage",e.nzHideOnSinglePage)("nzShowTotal",e.nzShowTotal)("nzSize","small"===e.nzPaginationType?"small":"default"===e.nzSize?"default":"small")("nzPageSize",e.nzPageSize)("nzTotal",e.nzTotal)("nzSimple",e.nzSimple)("nzPageIndex",e.nzPageIndex)}}function WK(n,t){if(1&n&&d.YNc(0,HK,1,12,"nz-pagination",15),2&n){const e=d.oxw();d.Q6J("ngIf",e.nzShowPagination&&e.data.length)}}function YK(n,t){1&n&&d.Hsn(0)}function ZK(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"tr",3),d.NdJ("listOfAutoWidth",function(i){return d.CHM(e),d.oxw(2).onListOfAutoWidthChange(i)}),d.qZA()}if(2&n){const e=d.oxw().ngIf;d.Q6J("listOfMeasureColumn",e)}}function UK(n,t){if(1&n&&(d.ynx(0),d.YNc(1,ZK,1,1,"tr",2),d.BQk()),2&n){const e=t.ngIf,r=d.oxw();d.xp6(1),d.Q6J("ngIf",r.isInsideTable&&e.length)}}function $K(n,t){if(1&n&&(d.TgZ(0,"tr",4),d._UZ(1,"nz-embed-empty",5),d.ALo(2,"async"),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("specificContent",d.lcZ(2,1,e.noResult$))}}const XK=["contentTemplate"];function QK(n,t){1&n&&d.Hsn(0)}function JK(n,t){}function qK(n,t){if(1&n&&(d.ynx(0),d.YNc(1,JK,0,0,"ng-template",2),d.BQk()),2&n){d.oxw();const e=d.MAs(1);d.xp6(1),d.Q6J("ngTemplateOutlet",e)}}function jK(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.Oqu(e.title)}}function KK(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw();d.xp6(1),d.Oqu(e.footer)}}const eee=["nz-table-measure-row",""];function tee(n,t){1&n&&d._UZ(0,"td",1,2)}let ree=(()=>{class n{constructor(e,r,i,a){this.nzConfigService=e,this.ngZone=r,this.cdr=i,this.destroy$=a,this._nzModuleName="filterTrigger",this.nzActive=!1,this.nzVisible=!1,this.nzHasBackdrop=!1,this.nzBackdrop=!1,this.nzVisibleChange=new d.vpe}onVisibleChange(e){this.nzVisible=e,this.nzVisibleChange.next(e)}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}ngOnChanges(e){const{nzHasBackdrop:r}=e;r&&(0,G2.iX)("`nzHasBackdrop` in nz-filter-trigger component will be removed in 13.0.0, please use `nzBackdrop` instead.")}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,Ai.R)(this.nzDropdown.nativeElement,"click").pipe((0,j.R)(this.destroy$)).subscribe(e=>{e.stopPropagation()})})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(qe.jY),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(xr.kn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-filter-trigger"]],viewQuery:function(e,r){if(1&e&&d.Gf(t0,7,d.SBq),2&e){let i;d.iGM(i=d.CRH())&&(r.nzDropdown=i.first)}},inputs:{nzActive:"nzActive",nzVisible:"nzVisible",nzHasBackdrop:"nzHasBackdrop",nzBackdrop:"nzBackdrop",nzDropdownMenu:"nzDropdownMenu"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],features:[d._Bn([xr.kn]),d.TTD],ngContentSelectors:Li,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzBackdrop","nzClickHide","nzDropdownMenu","nzVisible","nzVisibleChange"]],template:function(e,r){1&e&&(d.F$t(),d.TgZ(0,"span",0),d.NdJ("nzVisibleChange",function(a){return r.onVisibleChange(a)}),d.Hsn(1),d.qZA()),2&e&&(d.ekj("active",r.nzActive)("ant-table-filter-open",r.nzVisible),d.Q6J("nzBackdrop",r.nzBackdrop||r.nzHasBackdrop)("nzClickHide",!1)("nzDropdownMenu",r.nzDropdownMenu)("nzVisible",r.nzVisible))},directives:[t0],encapsulation:2,changeDetection:0}),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzHasBackdrop",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzBackdrop",void 0),n})(),iee=(()=>{class n{constructor(e,r,i){this.cdr=e,this.i18n=r,this.elementRef=i,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new d.vpe,this.destroy$=new Re.xQ,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.listOfChecked=[],this.elementRef.nativeElement.classList.add("ant-table-filter-column")}trackByValue(e,r){return r.value}check(e){this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(r=>r===e?Object.assign(Object.assign({},r),{checked:!e.checked}):r),e.checked=!e.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(r=>Object.assign(Object.assign({},r),{checked:r===e})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(e){this.isVisible=e,e?this.listOfChecked=this.listOfParsedFilter.filter(r=>r.checked).map(r=>r.value):this.emitFilterData()}emitFilterData(){const e=this.listOfParsedFilter.filter(r=>r.checked).map(r=>r.value);(0,ne.cO)(this.listOfChecked,e)||this.filterChange.emit(this.filterMultiple?e:e.length>0?e[0]:null)}parseListOfFilter(e,r){return e.map(i=>({text:i.text,value:i.value,checked:!r&&!!i.byDefault}))}getCheckedStatus(e){return e.some(r=>r.checked)}ngOnInit(){this.i18n.localeChange.pipe((0,j.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(e){const{listOfFilter:r}=e;r&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.sBO),d.Y36(ja.wi),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-table-filter"]],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},features:[d.TTD],decls:3,vars:3,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","filter","nzTheme","fill"],["filterMenu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"disabled","click"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"nzSelected","click"],["nz-radio","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-radio","",3,"ngModel","ngModelChange"],["nz-checkbox","",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&(d.TgZ(0,"span",0),d.YNc(1,Uj,0,0,"ng-template",1),d.qZA(),d.YNc(2,Jj,13,8,"ng-container",2)),2&e&&(d.xp6(1),d.Q6J("ngTemplateOutlet",r.contentTemplate),d.xp6(1),d.Q6J("ngIf",!r.customFilter)("ngIfElse",r.extraTemplate))},directives:[q.tP,q.O5,ree,Qn.w,jt.Ls,W2,Xn.wO,q.sg,hu.ix,Zj.dQ,Xn.r9,wj,Xe.JJ,Xe.On,bf],encapsulation:2,changeDetection:0}),n})(),lee=(()=>{class n{constructor(e){this.elementRef=e,this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1,this.elementRef.nativeElement.classList.add("ant-table-column-sorters")}ngOnChanges(e){const{sortDirections:r}=e;r&&(this.isUp=-1!==this.sortDirections.indexOf("ascend"),this.isDown=-1!==this.sortDirections.indexOf("descend"))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-table-sorters"]],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},features:[d.TTD],decls:6,vars:5,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up","class","ant-table-column-sorter-up",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-down","class","ant-table-column-sorter-down",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(e,r){1&e&&(d.TgZ(0,"span",0),d.YNc(1,eK,0,0,"ng-template",1),d.qZA(),d.TgZ(2,"span",2),d.TgZ(3,"span",3),d.YNc(4,tK,1,2,"i",4),d.YNc(5,nK,1,2,"i",5),d.qZA(),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngTemplateOutlet",r.contentTemplate),d.xp6(1),d.ekj("ant-table-column-sorter-full",r.isDown&&r.isUp),d.xp6(2),d.Q6J("ngIf",r.isUp),d.xp6(1),d.Q6J("ngIf",r.isDown))},directives:[q.tP,q.O5,Qn.w,jt.Ls],encapsulation:2,changeDetection:0}),n})(),uee=(()=>{class n{constructor(e,r){this.renderer=e,this.elementRef=r,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new Re.xQ,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}setAutoLeftWidth(e){this.renderer.setStyle(this.elementRef.nativeElement,"left",e)}setAutoRightWidth(e){this.renderer.setStyle(this.elementRef.nativeElement,"right",e)}setIsFirstRight(e){this.setFixClass(e,"ant-table-cell-fix-right-first")}setIsLastLeft(e){this.setFixClass(e,"ant-table-cell-fix-left-last")}setFixClass(e,r){this.renderer.removeClass(this.elementRef.nativeElement,r),e&&this.renderer.addClass(this.elementRef.nativeElement,r)}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=""===this.nzLeft||!0===this.nzLeft,this.isAutoRight=""===this.nzRight||!0===this.nzRight,this.isFixedLeft=!1!==this.nzLeft,this.isFixedRight=!1!==this.nzRight,this.isFixed=this.isFixedLeft||this.isFixedRight;const e=r=>"string"==typeof r&&""!==r?r:null;this.setAutoLeftWidth(e(this.nzLeft)),this.setAutoRightWidth(e(this.nzRight)),this.changes$.next()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(e,r){2&e&&(d.Udp("position",r.isFixed?"sticky":null),d.ekj("ant-table-cell-fix-right",r.isFixedRight)("ant-table-cell-fix-left",r.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},features:[d.TTD]}),n})(),Ka=(()=>{class n{constructor(){this.theadTemplate$=new Tt.t(1),this.hasFixLeft$=new Tt.t(1),this.hasFixRight$=new Tt.t(1),this.hostWidth$=new Tt.t(1),this.columnCount$=new Tt.t(1),this.showEmpty$=new Tt.t(1),this.noResult$=new Tt.t(1),this.listOfThWidthConfigPx$=new pt.X([]),this.tableWidthConfigPx$=new pt.X([]),this.manualWidthConfigPx$=(0,$n.aj)([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe((0,Ot.U)(([e,r])=>e.length?e:r)),this.listOfAutoWidthPx$=new Tt.t(1),this.listOfListOfThWidthPx$=(0,sn.T)(this.manualWidthConfigPx$,(0,$n.aj)([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe((0,Ot.U)(([e,r])=>e.length===r.length?e.map((i,a)=>"0px"===i?r[a]||null:r[a]||i):r))),this.listOfMeasureColumn$=new Tt.t(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe((0,Ot.U)(e=>e.map(r=>parseInt(r,10)))),this.enableAutoMeasure$=new Tt.t(1)}setTheadTemplate(e){this.theadTemplate$.next(e)}setHasFixLeft(e){this.hasFixLeft$.next(e)}setHasFixRight(e){this.hasFixRight$.next(e)}setTableWidthConfig(e){this.tableWidthConfigPx$.next(e)}setListOfTh(e){let r=0;e.forEach(a=>{r+=a.colspan&&+a.colspan||a.colSpan&&+a.colSpan||1});const i=e.map(a=>a.nzWidth);this.columnCount$.next(r),this.listOfThWidthConfigPx$.next(i)}setListOfMeasureColumn(e){const r=[];e.forEach(i=>{const a=i.colspan&&+i.colspan||i.colSpan&&+i.colSpan||1;for(let o=0;o<a;o++)r.push(`measure_key_${o}`)}),this.listOfMeasureColumn$.next(r)}setListOfAutoWidth(e){this.listOfAutoWidthPx$.next(e.map(r=>`${r}px`))}setShowEmpty(e){this.showEmpty$.next(e)}setNoResult(e){this.noResult$.next(e)}setScroll(e,r){const i=!(!e&&!r);i||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),cee=(()=>{class n{constructor(e){this.isInsideTable=!1,this.isInsideTable=!!e}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Ka,8))},n.\u0275dir=d.lG2({type:n,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(e,r){2&e&&d.ekj("ant-table-cell",r.isInsideTable)}}),n})(),hee=(()=>{class n{constructor(e){this.cdr=e,this.manualClickOrder$=new Re.xQ,this.calcOperatorChange$=new Re.xQ,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new Re.xQ,this.destroy$=new Re.xQ,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=["ascend","descend",null],this.nzFilters=[],this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new d.vpe,this.nzSortOrderChange=new d.vpe,this.nzFilterChange=new d.vpe}getNextSortDirection(e,r){const i=e.indexOf(r);return i===e.length-1?e[0]:e[i+1]}emitNextSortValue(){if(this.nzShowSort){const e=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.setSortOrder(e),this.manualClickOrder$.next(this)}}setSortOrder(e){this.sortOrderChange$.next(e)}clearSortOrder(){null!==this.sortOrder&&this.setSortOrder(null)}onFilterValueChange(e){this.nzFilterChange.emit(e),this.nzFilterValue=e,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}ngOnInit(){this.sortOrderChange$.pipe((0,j.R)(this.destroy$)).subscribe(e=>{this.sortOrder!==e&&(this.sortOrder=e,this.nzSortOrderChange.emit(e)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(e){const{nzSortDirections:r,nzFilters:i,nzSortOrder:a,nzSortFn:o,nzFilterFn:s,nzSortPriority:l,nzFilterMultiple:u,nzShowSort:c,nzShowFilter:h}=e;r&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),a&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),c&&(this.isNzShowSortChanged=!0),h&&(this.isNzShowFilterChanged=!0);const f=v=>v&&v.firstChange&&void 0!==v.currentValue;if((f(a)||f(o))&&!this.isNzShowSortChanged&&(this.nzShowSort=!0),f(i)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(i||u)&&this.nzShowFilter){const v=this.nzFilters.filter(p=>p.byDefault).map(p=>p.value);this.nzFilterValue=this.nzFilterMultiple?v:v[0]||null}(o||s||l||i)&&this.updateCalcOperator()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(e,r){1&e&&d.NdJ("click",function(){return r.emitNextSortValue()}),2&e&&d.ekj("ant-table-column-has-sorters",r.nzShowSort)("ant-table-column-sort","descend"===r.sortOrder||"ascend"===r.sortOrder)},inputs:{nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:"nzShowSort",nzShowFilter:"nzShowFilter",nzCustomFilter:"nzCustomFilter",nzColumnKey:"nzColumnKey"},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},features:[d.TTD],attrs:oK,ngContentSelectors:pK,decls:9,vars:2,consts:[[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange",4,"ngIf","ngIfElse"],["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange"],[3,"ngTemplateOutlet"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(e,r){if(1&e&&(d.F$t(vK),d.YNc(0,sK,1,5,"nz-table-filter",0),d.YNc(1,uK,1,1,"ng-template",null,1,d.W1O),d.YNc(3,cK,2,0,"ng-template",null,2,d.W1O),d.YNc(5,hK,1,3,"ng-template",null,3,d.W1O),d.YNc(7,fK,1,0,"ng-template",null,4,d.W1O)),2&e){const i=d.MAs(2);d.Q6J("ngIf",r.nzShowFilter||r.nzCustomFilter)("ngIfElse",i)}},directives:[q.O5,iee,q.tP,lee],encapsulation:2,changeDetection:0}),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzShowSort",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzShowFilter",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzCustomFilter",void 0),n})(),aP=(()=>{class n{constructor(e,r){this.renderer=e,this.elementRef=r,this.changes$=new Re.xQ,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(e){const{nzWidth:r,colspan:i,rowspan:a,colSpan:o,rowSpan:s}=e;if(i||o){const l=this.colspan||this.colSpan;(0,ne.kK)(l)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${l}`)}if(a||s){const l=this.rowspan||this.rowSpan;(0,ne.kK)(l)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${l}`)}(r||i)&&this.changes$.next()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},features:[d.TTD]}),n})(),oP=(()=>{class n{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.listOfColWidth=[],this.scrollX=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(e,r){2&e&&(d.Udp("table-layout",r.tableLayout)("width",r.scrollX)("min-width",r.scrollX?"100%":null),d.ekj("ant-table-fixed",r.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},attrs:gK,ngContentSelectors:Li,decls:4,vars:3,consts:[[3,"width","minWidth",4,"ngFor","ngForOf"],["class","ant-table-thead",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-table-thead"]],template:function(e,r){1&e&&(d.F$t(),d.YNc(0,mK,1,4,"col",0),d.YNc(1,_K,2,1,"thead",1),d.YNc(2,SK,0,0,"ng-template",2),d.Hsn(3)),2&e&&(d.Q6J("ngForOf",r.listOfColWidth),d.xp6(1),d.Q6J("ngIf",r.theadTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",r.contentTemplate))},directives:[q.sg,q.O5,q.tP],encapsulation:2,changeDetection:0}),n})(),fee=(()=>{class n{constructor(e,r){this.nzTableStyleService=e,this.renderer=r,this.hostWidth$=new pt.X(null),this.enableAutoMeasure$=new pt.X(!1),this.destroy$=new Re.xQ}ngOnInit(){if(this.nzTableStyleService){const{enableAutoMeasure$:e,hostWidth$:r}=this.nzTableStyleService;e.pipe((0,j.R)(this.destroy$)).subscribe(this.enableAutoMeasure$),r.pipe((0,j.R)(this.destroy$)).subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe((0,j.R)(this.destroy$)).subscribe(e=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${e}`)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Ka),d.Y36(d.Qsj))},n.\u0275cmp=d.Xpm({type:n,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(e,r){if(1&e&&d.Gf(iP,7),2&e){let i;d.iGM(i=d.CRH())&&(r.tdElement=i.first)}},attrs:xK,ngContentSelectors:Li,decls:6,vars:4,consts:[[1,"nz-disable-td","ant-table-cell"],["tdElement",""],["class","ant-table-expanded-row-fixed","style","position: sticky; left: 0px; overflow: hidden;",3,"width",4,"ngIf","ngIfElse"],["contentTemplate",""],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0px","overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,r){if(1&e&&(d.F$t(),d.TgZ(0,"td",0,1),d.YNc(2,wK,3,5,"div",2),d.ALo(3,"async"),d.qZA(),d.YNc(4,CK,1,0,"ng-template",null,3,d.W1O)),2&e){const i=d.MAs(5);d.xp6(2),d.Q6J("ngIf",d.lcZ(3,2,r.enableAutoMeasure$))("ngIfElse",i)}},directives:[q.O5,q.tP],pipes:[q.Ov],encapsulation:2,changeDetection:0}),n})(),vee=(()=>{class n{constructor(e){this.elementRef=e,this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null,this.elementRef.nativeElement.classList.add("ant-table-container")}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-table-inner-default"]],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate"},decls:2,vars:4,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d._UZ(1,"table",1),d.qZA()),2&e&&(d.xp6(1),d.Q6J("contentTemplate",r.contentTemplate)("tableLayout",r.tableLayout)("listOfColWidth",r.listOfColWidth)("theadTemplate",r.theadTemplate))},directives:[oP],encapsulation:2,changeDetection:0}),n})(),sP=(()=>{class n{constructor(e,r,i,a,o){this.renderer=e,this.ngZone=r,this.platform=i,this.resizeService=a,this.elementRef=o,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=s=>s,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDateVirtualHeight="182px",this.data$=new Re.xQ,this.scroll$=new Re.xQ,this.destroy$=new Re.xQ,this.elementRef.nativeElement.classList.add("ant-table-container")}setScrollPositionClassName(e=!1){const{scrollWidth:r,scrollLeft:i,clientWidth:a}=this.tableBodyElement.nativeElement,o="ant-table-ping-left",s="ant-table-ping-right";r===a&&0!==r||e?(this.renderer.removeClass(this.tableMainElement,o),this.renderer.removeClass(this.tableMainElement,s)):0===i?(this.renderer.removeClass(this.tableMainElement,o),this.renderer.addClass(this.tableMainElement,s)):r===i+a?(this.renderer.removeClass(this.tableMainElement,s),this.renderer.addClass(this.tableMainElement,o)):(this.renderer.addClass(this.tableMainElement,o),this.renderer.addClass(this.tableMainElement,s))}ngOnChanges(e){const{scrollX:r,scrollY:i,data:a}=e;if(r||i){const o=0!==this.verticalScrollBarWidth;this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&o?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.scroll$.next()}a&&this.data$.next()}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{const e=this.scroll$.pipe((0,ln.O)(null),s0(0),(0,Gt.w)(()=>(0,Ai.R)(this.tableBodyElement.nativeElement,"scroll").pipe((0,ln.O)(!0))),(0,j.R)(this.destroy$)),r=this.resizeService.subscribe().pipe((0,j.R)(this.destroy$)),i=this.data$.pipe((0,j.R)(this.destroy$));(0,sn.T)(e,r,i,this.scroll$).pipe((0,ln.O)(!0),s0(0),(0,j.R)(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),e.pipe((0,Ii.h)(()=>!!this.scrollY)).subscribe(()=>this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(vs.t4),d.Y36(xr.rI),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-table-inner-scroll"]],viewQuery:function(e,r){if(1&e&&(d.Gf(TK,5,d.SBq),d.Gf(zK,5,d.SBq),d.Gf(Zn.N7,5,Zn.N7)),2&e){let i;d.iGM(i=d.CRH())&&(r.tableHeaderElement=i.first),d.iGM(i=d.CRH())&&(r.tableBodyElement=i.first),d.iGM(i=d.CRH())&&(r.cdkVirtualScrollViewport=i.first)}},inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth",tableMainElement:"tableMainElement"},features:[d.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-table-content",3,"ngStyle",4,"ngIf"],[1,"ant-table-header","nz-table-hide-scrollbar",3,"ngStyle"],["tableHeaderElement",""],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate"],["class","ant-table-body",3,"ngStyle",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","height",4,"ngIf"],[1,"ant-table-body",3,"ngStyle"],["tableBodyElement",""],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-table-content",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate"]],template:function(e,r){1&e&&(d.YNc(0,LK,6,6,"ng-container",0),d.YNc(1,OK,3,5,"div",1)),2&e&&(d.Q6J("ngIf",r.scrollY),d.xp6(1),d.Q6J("ngIf",!r.scrollY))},directives:function(){return[q.O5,q.PC,oP,Zn.N7,Zn.xd,uP,Zn.x0,q.tP]},encapsulation:2,changeDetection:0}),n})(),pee=(()=>{class n{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"]}),n})(),c0=(()=>{class n{constructor(){this.destroy$=new Re.xQ,this.pageIndex$=new pt.X(1),this.frontPagination$=new pt.X(!0),this.pageSize$=new pt.X(10),this.listOfData$=new pt.X([]),this.pageIndexDistinct$=this.pageIndex$.pipe((0,vu.x)()),this.pageSizeDistinct$=this.pageSize$.pipe((0,vu.x)()),this.listOfCalcOperator$=new pt.X([]),this.queryParams$=(0,$n.aj)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe((0,rP.b)(0),(0,Yj.T)(1),(0,Ot.U)(([e,r,i])=>({pageIndex:e,pageSize:r,sort:i.filter(a=>a.sortFn).map(a=>({key:a.key,value:a.sortOrder})),filter:i.filter(a=>a.filterFn).map(a=>({key:a.key,value:a.filterValue}))}))),this.listOfDataAfterCalc$=(0,$n.aj)([this.listOfData$,this.listOfCalcOperator$]).pipe((0,Ot.U)(([e,r])=>{let i=[...e];const a=r.filter(s=>{const{filterValue:l,filterFn:u}=s;return!(null==l||Array.isArray(l)&&0===l.length)&&"function"==typeof u});for(const s of a){const{filterFn:l,filterValue:u}=s;i=i.filter(c=>l(u,c))}const o=r.filter(s=>null!==s.sortOrder&&"function"==typeof s.sortFn).sort((s,l)=>+l.sortPriority-+s.sortPriority);return r.length&&i.sort((s,l)=>{for(const u of o){const{sortFn:c,sortOrder:h}=u;if(c&&h){const f=c(s,l,h);if(0!==f)return"ascend"===h?f:-f}}return 0}),i})),this.listOfFrontEndCurrentPageData$=(0,$n.aj)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe((0,j.R)(this.destroy$),(0,Ii.h)(e=>{const[r,i,a]=e;return r<=(Math.ceil(a.length/i)||1)}),(0,Ot.U)(([e,r,i])=>i.slice((e-1)*r,e*r))),this.listOfCurrentPageData$=this.frontPagination$.pipe((0,Gt.w)(e=>e?this.listOfFrontEndCurrentPageData$:this.listOfDataAfterCalc$)),this.total$=this.frontPagination$.pipe((0,Gt.w)(e=>e?this.listOfDataAfterCalc$:this.listOfData$),(0,Ot.U)(e=>e.length),(0,vu.x)())}updatePageSize(e){this.pageSize$.next(e)}updateFrontPagination(e){this.frontPagination$.next(e)}updatePageIndex(e){this.pageIndex$.next(e)}updateListOfData(e){this.listOfData$.next(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),dee=(()=>{class n{constructor(e,r,i,a,o,s,l){this.elementRef=e,this.nzResizeObserver=r,this.nzConfigService=i,this.cdr=a,this.nzTableStyleService=o,this.nzTableDataService=s,this.directionality=l,this._nzModuleName="table",this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=u=>u,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=null,this.nzBordered=!1,this.nzSize="default",this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzPageSizeChange=new d.vpe,this.nzPageIndexChange=new d.vpe,this.nzQueryParams=new d.vpe,this.nzCurrentPageDataChange=new d.vpe,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new Re.xQ,this.templateMode$=new pt.X(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.elementRef.nativeElement.classList.add("ant-table-wrapper"),this.nzConfigService.getConfigChangeEventForComponent("table").pipe((0,j.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}onPageSizeChange(e){this.nzTableDataService.updatePageSize(e)}onPageIndexChange(e){this.nzTableDataService.updatePageIndex(e)}ngOnInit(){var e;const{pageIndexDistinct$:r,pageSizeDistinct$:i,listOfCurrentPageData$:a,total$:o,queryParams$:s}=this.nzTableDataService,{theadTemplate$:l,hasFixLeft$:u,hasFixRight$:c}=this.nzTableStyleService;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe((0,j.R)(this.destroy$)).subscribe(h=>{this.dir=h,this.cdr.detectChanges()}),s.pipe((0,j.R)(this.destroy$)).subscribe(this.nzQueryParams),r.pipe((0,j.R)(this.destroy$)).subscribe(h=>{h!==this.nzPageIndex&&(this.nzPageIndex=h,this.nzPageIndexChange.next(h))}),i.pipe((0,j.R)(this.destroy$)).subscribe(h=>{h!==this.nzPageSize&&(this.nzPageSize=h,this.nzPageSizeChange.next(h))}),o.pipe((0,j.R)(this.destroy$),(0,Ii.h)(()=>this.nzFrontPagination)).subscribe(h=>{h!==this.nzTotal&&(this.nzTotal=h,this.cdr.markForCheck())}),a.pipe((0,j.R)(this.destroy$)).subscribe(h=>{this.data=h,this.nzCurrentPageDataChange.next(h),this.cdr.markForCheck()}),l.pipe((0,j.R)(this.destroy$)).subscribe(h=>{this.theadTemplate=h,this.cdr.markForCheck()}),u.pipe((0,j.R)(this.destroy$)).subscribe(h=>{this.hasFixLeft=h,this.cdr.markForCheck()}),c.pipe((0,j.R)(this.destroy$)).subscribe(h=>{this.hasFixRight=h,this.cdr.markForCheck()}),(0,$n.aj)([o,this.templateMode$]).pipe((0,Ot.U)(([h,f])=>0===h&&!f),(0,j.R)(this.destroy$)).subscribe(h=>{this.nzTableStyleService.setShowEmpty(h)}),this.verticalScrollBarWidth=(0,ne.D8)("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe((0,j.R)(this.destroy$)).subscribe(h=>{this.listOfAutoColWidth=h,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe((0,j.R)(this.destroy$)).subscribe(h=>{this.listOfManualColWidth=h,this.cdr.markForCheck()})}ngOnChanges(e){const{nzScroll:r,nzPageIndex:i,nzPageSize:a,nzFrontPagination:o,nzData:s,nzWidthConfig:l,nzNoResult:u,nzTemplateMode:c}=e;i&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),a&&this.nzTableDataService.updatePageSize(this.nzPageSize),s&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),o&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),r&&this.setScrollOnChanges(),l&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),c&&this.templateMode$.next(this.nzTemplateMode),u&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,Ot.U)(([e])=>{const{width:r}=e.target.getBoundingClientRect();return Math.floor(r-(this.scrollY?this.verticalScrollBarWidth:0))}),(0,j.R)(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(Ky),d.Y36(qe.jY),d.Y36(d.sBO),d.Y36(Ka),d.Y36(c0),d.Y36(ut.Is,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-table"]],contentQueries:function(e,r,i){if(1&e&&d.Suo(i,pee,5),2&e){let a;d.iGM(a=d.CRH())&&(r.nzVirtualScrollDirective=a.first)}},viewQuery:function(e,r){if(1&e&&d.Gf(sP,5),2&e){let i;d.iGM(i=d.CRH())&&(r.nzTableInnerScrollComponent=i.first)}},hostVars:2,hostBindings:function(e,r){2&e&&d.ekj("ant-table-wrapper-rtl","rtl"===r.dir)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",nzPaginationType:"nzPaginationType",nzFrontPagination:"nzFrontPagination",nzTemplateMode:"nzTemplateMode",nzShowPagination:"nzShowPagination",nzLoading:"nzLoading",nzOuterBordered:"nzOuterBordered",nzLoadingIndicator:"nzLoadingIndicator",nzBordered:"nzBordered",nzSize:"nzSize",nzShowSizeChanger:"nzShowSizeChanger",nzHideOnSinglePage:"nzHideOnSinglePage",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange"},exportAs:["nzTable"],features:[d._Bn([Ka,c0]),d.TTD],ngContentSelectors:Li,decls:14,vars:27,consts:[[3,"nzDelay","nzSpinning","nzIndicator"],[4,"ngIf"],[1,"ant-table"],["tableMainElement",""],[3,"title",4,"ngIf"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy",4,"ngIf","ngIfElse"],["defaultTemplate",""],[3,"footer",4,"ngIf"],["paginationTemplate",""],["contentTemplate",""],[3,"ngTemplateOutlet"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate"],[3,"footer"],["class","ant-table-pagination ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange",4,"ngIf"],[1,"ant-table-pagination","ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange"]],template:function(e,r){if(1&e&&(d.F$t(),d.TgZ(0,"nz-spin",0),d.YNc(1,NK,2,1,"ng-container",1),d.TgZ(2,"div",2,3),d.YNc(4,kK,1,1,"nz-table-title-footer",4),d.YNc(5,EK,1,13,"nz-table-inner-scroll",5),d.YNc(6,BK,1,4,"ng-template",null,6,d.W1O),d.YNc(8,VK,1,1,"nz-table-title-footer",7),d.qZA(),d.YNc(9,GK,2,1,"ng-container",1),d.qZA(),d.YNc(10,WK,1,1,"ng-template",null,8,d.W1O),d.YNc(12,YK,1,0,"ng-template",null,9,d.W1O)),2&e){const i=d.MAs(7);d.Q6J("nzDelay",r.nzLoadingDelay)("nzSpinning",r.nzLoading)("nzIndicator",r.nzLoadingIndicator),d.xp6(1),d.Q6J("ngIf","both"===r.nzPaginationPosition||"top"===r.nzPaginationPosition),d.xp6(1),d.ekj("ant-table-rtl","rtl"===r.dir)("ant-table-fixed-header",r.nzData.length&&r.scrollY)("ant-table-fixed-column",r.scrollX)("ant-table-has-fix-left",r.hasFixLeft)("ant-table-has-fix-right",r.hasFixRight)("ant-table-bordered",r.nzBordered)("nz-table-out-bordered",r.nzOuterBordered&&!r.nzBordered)("ant-table-middle","middle"===r.nzSize)("ant-table-small","small"===r.nzSize),d.xp6(2),d.Q6J("ngIf",r.nzTitle),d.xp6(1),d.Q6J("ngIf",r.scrollY||r.scrollX)("ngIfElse",i),d.xp6(3),d.Q6J("ngIf",r.nzFooter),d.xp6(1),d.Q6J("ngIf","both"===r.nzPaginationPosition||"bottom"===r.nzPaginationPosition)}},directives:function(){return[kj,q.O5,q.tP,mee,sP,vee,dj]},encapsulation:2,changeDetection:0}),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzFrontPagination",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzTemplateMode",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzShowPagination",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzLoading",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzOuterBordered",void 0),(0,ie.gn)([(0,qe.oS)()],n.prototype,"nzLoadingIndicator",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzBordered",void 0),(0,ie.gn)([(0,qe.oS)()],n.prototype,"nzSize",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzShowSizeChanger",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzHideOnSinglePage",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzShowQuickJumper",void 0),(0,ie.gn)([(0,qe.oS)(),(0,ne.yF)()],n.prototype,"nzSimple",void 0),n})(),uP=(()=>{class n{constructor(e){if(this.nzTableStyleService=e,this.isInsideTable=!1,this.showEmpty$=new pt.X(!1),this.noResult$=new pt.X(void 0),this.listOfMeasureColumn$=new pt.X([]),this.destroy$=new Re.xQ,this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){const{showEmpty$:r,noResult$:i,listOfMeasureColumn$:a}=this.nzTableStyleService;i.pipe((0,j.R)(this.destroy$)).subscribe(this.noResult$),a.pipe((0,j.R)(this.destroy$)).subscribe(this.listOfMeasureColumn$),r.pipe((0,j.R)(this.destroy$)).subscribe(this.showEmpty$)}}onListOfAutoWidthChange(e){this.nzTableStyleService.setListOfAutoWidth(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Ka,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["tbody"]],hostVars:2,hostBindings:function(e,r){2&e&&d.ekj("ant-table-tbody",r.isInsideTable)},ngContentSelectors:Li,decls:5,vars:6,consts:[[4,"ngIf"],["class","ant-table-placeholder","nz-table-fixed-row","",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth"],["nz-table-fixed-row","",1,"ant-table-placeholder"],["nzComponentName","table",3,"specificContent"]],template:function(e,r){1&e&&(d.F$t(),d.YNc(0,UK,2,1,"ng-container",0),d.ALo(1,"async"),d.Hsn(2),d.YNc(3,$K,3,3,"tr",1),d.ALo(4,"async")),2&e&&(d.Q6J("ngIf",d.lcZ(1,2,r.listOfMeasureColumn$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(4,4,r.showEmpty$)))},directives:function(){return[q.O5,yee,fee,Y2]},pipes:function(){return[q.Ov]},encapsulation:2,changeDetection:0}),n})(),cP=(()=>{class n{constructor(e){this.nzTableStyleService=e,this.destroy$=new Re.xQ,this.listOfFixedColumns$=new Tt.t(1),this.listOfColumns$=new Tt.t(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe((0,Gt.w)(r=>(0,sn.T)(this.listOfFixedColumns$,...r.map(i=>i.changes$)).pipe((0,u0.zg)(()=>this.listOfFixedColumns$))),(0,j.R)(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe((0,Ot.U)(r=>r.filter(i=>!1!==i.nzLeft))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe((0,Ot.U)(r=>r.filter(i=>!1!==i.nzRight))),this.listOfColumnsChanges$=this.listOfColumns$.pipe((0,Gt.w)(r=>(0,sn.T)(this.listOfColumns$,...r.map(i=>i.changes$)).pipe((0,u0.zg)(()=>this.listOfColumns$))),(0,j.R)(this.destroy$)),this.isInsideTable=!1,this.isInsideTable=!!e}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe((0,ln.O)(this.listOfCellFixedDirective),(0,j.R)(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe((0,ln.O)(this.listOfNzThDirective),(0,j.R)(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(e=>{e.forEach(r=>r.setIsLastLeft(r===e[e.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(e=>{e.forEach(r=>r.setIsFirstRight(r===e[0]))}),(0,$n.aj)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe((0,j.R)(this.destroy$)).subscribe(([e,r])=>{r.forEach((i,a)=>{if(i.isAutoLeft){const s=r.slice(0,a).reduce((u,c)=>u+(c.colspan||c.colSpan||1),0),l=e.slice(0,s).reduce((u,c)=>u+c,0);i.setAutoLeftWidth(`${l}px`)}})}),(0,$n.aj)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe((0,j.R)(this.destroy$)).subscribe(([e,r])=>{r.forEach((i,a)=>{const o=r[r.length-a-1];if(o.isAutoRight){const l=r.slice(r.length-a,r.length).reduce((c,h)=>c+(h.colspan||h.colSpan||1),0),u=e.slice(e.length-l,e.length).reduce((c,h)=>c+h,0);o.setAutoRightWidth(`${u}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Ka,8))},n.\u0275dir=d.lG2({type:n,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(e,r,i){if(1&e&&(d.Suo(i,aP,4),d.Suo(i,uee,4)),2&e){let a;d.iGM(a=d.CRH())&&(r.listOfNzThDirective=a),d.iGM(a=d.CRH())&&(r.listOfCellFixedDirective=a)}},hostVars:2,hostBindings:function(e,r){2&e&&d.ekj("ant-table-row",r.isInsideTable)}}),n})(),gee=(()=>{class n{constructor(e,r,i,a){this.elementRef=e,this.renderer=r,this.nzTableStyleService=i,this.nzTableDataService=a,this.destroy$=new Re.xQ,this.isInsideTable=!1,this.nzSortOrderChange=new d.vpe,this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){const e=this.listOfNzTrDirective.changes.pipe((0,ln.O)(this.listOfNzTrDirective),(0,Ot.U)(o=>o&&o.first)),r=e.pipe((0,Gt.w)(o=>o?o.listOfColumnsChanges$:wf.E),(0,j.R)(this.destroy$));r.subscribe(o=>this.nzTableStyleService.setListOfTh(o)),this.nzTableStyleService.enableAutoMeasure$.pipe((0,Gt.w)(o=>o?r:(0,Bj.of)([]))).pipe((0,j.R)(this.destroy$)).subscribe(o=>this.nzTableStyleService.setListOfMeasureColumn(o));const i=e.pipe((0,Gt.w)(o=>o?o.listOfFixedLeftColumnChanges$:wf.E),(0,j.R)(this.destroy$)),a=e.pipe((0,Gt.w)(o=>o?o.listOfFixedRightColumnChanges$:wf.E),(0,j.R)(this.destroy$));i.subscribe(o=>{this.nzTableStyleService.setHasFixLeft(0!==o.length)}),a.subscribe(o=>{this.nzTableStyleService.setHasFixRight(0!==o.length)})}if(this.nzTableDataService){const e=this.listOfNzThAddOnComponent.changes.pipe((0,ln.O)(this.listOfNzThAddOnComponent));e.pipe((0,Gt.w)(()=>(0,sn.T)(...this.listOfNzThAddOnComponent.map(a=>a.manualClickOrder$))),(0,j.R)(this.destroy$)).subscribe(a=>{this.nzSortOrderChange.emit({key:a.nzColumnKey,value:a.sortOrder}),a.nzSortFn&&!1===a.nzSortPriority&&this.listOfNzThAddOnComponent.filter(s=>s!==a).forEach(s=>s.clearSortOrder())}),e.pipe((0,Gt.w)(a=>(0,sn.T)(e,...a.map(o=>o.calcOperatorChange$)).pipe((0,u0.zg)(()=>e))),(0,Ot.U)(a=>a.filter(o=>!!o.nzSortFn||!!o.nzFilterFn).map(o=>{const{nzSortFn:s,sortOrder:l,nzFilterFn:u,nzFilterValue:c,nzSortPriority:h,nzColumnKey:f}=o;return{key:f,sortFn:s,sortPriority:h,sortOrder:l,filterFn:u,filterValue:c}})),s0(0),(0,j.R)(this.destroy$)).subscribe(a=>{this.nzTableDataService.listOfCalcOperator$.next(a)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Ka,8),d.Y36(c0,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(e,r,i){if(1&e&&(d.Suo(i,cP,5),d.Suo(i,hee,5)),2&e){let a;d.iGM(a=d.CRH())&&(r.listOfNzTrDirective=a),d.iGM(a=d.CRH())&&(r.listOfNzThAddOnComponent=a)}},viewQuery:function(e,r){if(1&e&&d.Gf(XK,7),2&e){let i;d.iGM(i=d.CRH())&&(r.templateRef=i.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},ngContentSelectors:Li,decls:3,vars:1,consts:[["contentTemplate",""],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(e,r){1&e&&(d.F$t(),d.YNc(0,QK,1,0,"ng-template",null,0,d.W1O),d.YNc(2,qK,2,1,"ng-container",1)),2&e&&(d.xp6(2),d.Q6J("ngIf",!r.isInsideTable))},directives:[q.O5,q.tP],encapsulation:2,changeDetection:0}),n})(),mee=(()=>{class n{constructor(){this.title=null,this.footer=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(e,r){2&e&&d.ekj("ant-table-title",null!==r.title)("ant-table-footer",null!==r.footer)},inputs:{title:"title",footer:"footer"},decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(e,r){1&e&&(d.YNc(0,jK,2,1,"ng-container",0),d.YNc(1,KK,2,1,"ng-container",0)),2&e&&(d.Q6J("nzStringTemplateOutlet",r.title),d.xp6(1),d.Q6J("nzStringTemplateOutlet",r.footer))},directives:[An.f],encapsulation:2,changeDetection:0}),n})(),yee=(()=>{class n{constructor(e,r,i){this.nzResizeObserver=e,this.ngZone=r,this.elementRef=i,this.listOfMeasureColumn=[],this.listOfAutoWidth=new d.vpe,this.destroy$=new Re.xQ,this.elementRef.nativeElement.classList.add("ant-table-measure-now")}trackByFunc(e,r){return r}ngAfterViewInit(){this.listOfTdElement.changes.pipe((0,ln.O)(this.listOfTdElement)).pipe((0,Gt.w)(e=>(0,$n.aj)(e.toArray().map(r=>this.nzResizeObserver.observe(r).pipe((0,Ot.U)(([i])=>{const{width:a}=i.target.getBoundingClientRect();return Math.floor(a)}))))),(0,rP.b)(16),(0,j.R)(this.destroy$)).subscribe(e=>{this.ngZone.run(()=>{this.listOfAutoWidth.next(e)})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Ky),d.Y36(d.R0b),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(e,r){if(1&e&&d.Gf(iP,5),2&e){let i;d.iGM(i=d.CRH())&&(r.listOfTdElement=i)}},inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},attrs:eee,decls:1,vars:2,consts:[["class","nz-disable-td","style","padding: 0px; border: 0px; height: 0px;",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nz-disable-td",2,"padding","0px","border","0px","height","0px"],["tdElement",""]],template:function(e,r){1&e&&d.YNc(0,tee,2,0,"td",0),2&e&&d.Q6J("ngForOf",r.listOfMeasureColumn)("ngForTrackBy",r.trackByFunc)},directives:[q.sg],encapsulation:2,changeDetection:0}),n})(),_ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,Xn.ip,Xe.u5,An.T,Cj,lJ,dJ,hu.sL,q.ez,vs.ud,_j,rJ,Ej,ja.YI,jt.PV,Z2,Zn.Cl]]}),n})();function See(n,t){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const e=d.oxw(2);d.xp6(1),d.Oqu(e.nzText)}}function xee(n,t){if(1&n&&(d.TgZ(0,"span",1),d.YNc(1,See,2,1,"ng-container",2),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("nzStringTemplateOutlet",e.nzText)}}let bee=(()=>{class n{constructor(e){this.elementRef=e,this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1,this.elementRef.nativeElement.classList.add("ant-divider")}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-divider"]],hostVars:16,hostBindings:function(e,r){2&e&&d.ekj("ant-divider-horizontal","horizontal"===r.nzType)("ant-divider-vertical","vertical"===r.nzType)("ant-divider-with-text",r.nzText)("ant-divider-plain",r.nzPlain)("ant-divider-with-text-left",r.nzText&&"left"===r.nzOrientation)("ant-divider-with-text-right",r.nzText&&"right"===r.nzOrientation)("ant-divider-with-text-center",r.nzText&&"center"===r.nzOrientation)("ant-divider-dashed",r.nzDashed)},inputs:{nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain",nzText:"nzText"},exportAs:["nzDivider"],decls:1,vars:1,consts:[["class","ant-divider-inner-text",4,"ngIf"],[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(e,r){1&e&&d.YNc(0,xee,2,1,"span",0),2&e&&d.Q6J("ngIf",r.nzText)},directives:[q.O5,An.f],encapsulation:2,changeDetection:0}),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzDashed",void 0),(0,ie.gn)([(0,ne.yF)()],n.prototype,"nzPlain",void 0),n})(),wee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ut.vT,q.ez,An.T]]}),n})();const Cee=["chart"];function Tee(n,t){if(1&n&&(d.TgZ(0,"div",21),d._UZ(1,"i",22),d.TgZ(2,"span",10),d._uU(3),d.qZA(),d.qZA()),2&n){const e=t.$implicit;d.xp6(1),d.Q6J("nzType",e.icon)("nzTwotoneColor","#6973b8"),d.xp6(2),d.Oqu(e.name)}}const zee=function(n){return{active:n}};function Dee(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"tr",23),d.NdJ("click",function(){const a=d.CHM(e).$implicit;return d.oxw().tableIfy.selectRow(a)}),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d.TgZ(8,"a"),d._uU(9),d.qZA(),d._UZ(10,"nz-divider",24),d.TgZ(11,"a"),d._uU(12,"Delete"),d.qZA(),d.qZA(),d.qZA()}if(2&n){const e=t.$implicit,r=d.oxw();d.Q6J("ngClass",d.VKq(5,zee,r.tableIfy.selectPerson.key==e.key)),d.xp6(2),d.Oqu(e.name),d.xp6(2),d.Oqu(e.age),d.xp6(2),d.Oqu(e.address),d.xp6(3),d.hij("Action \u4e00 ",e.name,"")}}const Mee=[{path:"",component:(()=>{class n{constructor(e,r,i,a,o){this.router=e,this.message=r,this.modal=i,this.notify=a,this.titleService=o,this.isCollapsed=!1,this.userInfo={},this.time=new Date,this.welcome=this.formatDate(this.time),this.tableIfy={selectPerson:{},data:[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park"},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park"},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park"}],selectRow:s=>{this.tableIfy.selectPerson=s}},this.featureIfy={data:[{icon:"idcard",name:"\u4e2a\u4eba\u4fe1\u606f",router:"/info"},{icon:"account-book",name:"\u8bb0\u8d26\u672c",router:"/account"},{icon:"appstore",name:"\u5e94\u7528\u5546\u5e97",router:"/appstore"},{icon:"audio",name:"\u5f55\u97f3",router:"/audio"},{icon:"book",name:"\u4e66\u67b6",router:"/book"},{icon:"camera",name:"\u7167\u76f8",router:"/camera"}]}}ngOnInit(){this.titleService.setTitle("\u9996\u9875-\u6b22\u8fce\u8bbf\u95ee"),this.userInfo=JSON.parse(localStorage.getItem("userInfo")||"{}"),this.hint()}ngAfterViewInit(){fetch("assets/data/sichuan.json").then(e=>e.json()).then(e=>{e&&e.features&&e.features.length>0?(gw("sichuan",e),this.initChart()):console.error("Invalid GeoJSON data format")}).catch(e=>{console.error("Failed to load map data:",e)})}initChart(){const e=this.chartRef.nativeElement;e.style.width="100%";const r=function(n,t,e){var i=function(n){return Ca[function(n,t){return n.getAttribute?n.getAttribute(t):n[t]}(n,Td)]}(n);if(i)return i;var a=new jc(n,void 0,e);return a.id="ec_"+RB++,Ca[a.id]=a,$_(n,Td,a.id),sw(a),Fn.trigger("afterinit",a),a}(e),a={title:{text:"\u56db\u5ddd\u7701\u4eba\u6570\u5206\u5e03",textStyle:{color:"#6973b8",fontWeight:"bold",fontSize:16,fontFamily:"sans-serif"},left:"center"},tooltip:{trigger:"item",formatter:o=>(console.log(o),`${o.name}\u7684\u4eba\u6570\u4e3a: ${o.value}\u4e07\u4eba`)},visualMap:{min:0,max:1e3,text:["\u9ad8","\u4f4e"],textStyle:{color:"#fde047",fontSize:12,fontWeight:"bold"},realtime:!1,calculable:!0,inRange:{color:["#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]}},series:[{name:"\u56db\u5ddd\u5730\u56fe",type:"map",map:"sichuan",roam:!0,label:{show:!0,color:"#fff",fontSize:12,fontWeight:"bold",formatter:"{b}"},itemStyle:{borderColor:"#fff",borderWidth:1,areaColor:"#6973b8"},emphasis:{label:{color:"#fff"},itemStyle:{areaColor:"#6973b8"}},data:[{name:"\u6210\u90fd\u5e02",value:1e3},{name:"\u7ef5\u9633\u5e02",value:800},{name:"\u5fb7\u9633\u5e02",value:700},{name:"\u5b9c\u5bbe\u5e02",value:600},{name:"\u5357\u5145\u5e02",value:500},{name:"\u6cf8\u5dde\u5e02",value:450},{name:"\u8fbe\u5dde\u5e02",value:400},{name:"\u4e50\u5c71\u5e02",value:350},{name:"\u7709\u5c71\u5e02",value:300},{name:"\u81ea\u8d21\u5e02",value:250},{name:"\u5e7f\u5b89\u5e02",value:200},{name:"\u9042\u5b81\u5e02",value:180},{name:"\u5185\u6c5f\u5e02",value:150},{name:"\u6500\u679d\u82b1\u5e02",value:120},{name:"\u5e7f\u5143\u5e02",value:100},{name:"\u96c5\u5b89\u5e02",value:80},{name:"\u5df4\u4e2d\u5e02",value:60},{name:"\u8d44\u9633\u5e02",value:50},{name:"\u963f\u575d\u85cf\u65cf\u7f8c\u65cf\u81ea\u6cbb\u5dde",value:30},{name:"\u7518\u5b5c\u85cf\u65cf\u81ea\u6cbb\u5dde",value:20},{name:"\u51c9\u5c71\u5f5d\u65cf\u81ea\u6cbb\u5dde",value:10}]}]};a&&"object"==typeof a&&r.setOption(a),window.addEventListener("resize",function(){r.resize()}),r.resize()}hint(){this.notify.blank(`\u6b22\u8fce\u60a8,${this.userInfo.username} ${this.welcome}!`,"\u6b22\u8fce\u4f7f\u7528\u672c\u7cfb\u7edf",{nzPlacement:"bottomRight"})}formatDate(e){const r=e.getHours();return r>=6&&r<12?"\u65e9\u4e0a\u597d":r>=12&&r<18?"\u4e0b\u5348\u597d":r>=18&&r<24?"\u665a\u4e0a\u597d":"\u51cc\u6668\u597d"}loginOut(){this.modal.confirm({nzTitle:"\u63d0\u793a",nzContent:"\u662f\u5426\u9000\u51fa\u767b\u5f55\uff1f",nzOkText:"\u9000\u51fa",nzCancelText:"\u53d6\u6d88",nzOnOk:()=>{this.router.navigate(["/login"]),localStorage.removeItem("userInfo"),this.message.success("\u9000\u51fa\u6210\u529f")}})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Cf.F0),d.Y36(qQ.dD),d.Y36(jQ.Sf),d.Y36(KQ.zb),d.Y36(eJ.Dx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-welcome"]],viewQuery:function(e,r){if(1&e&&d.Gf(Cee,5),2&e){let i;d.iGM(i=d.CRH())&&(r.chartRef=i.first)}},decls:43,vars:4,consts:[[1,"main_content",2,"height","100%"],[2,"background-color","#6973b8","padding","0 20px"],[1,"text-yellow-300","italic","font-bold",2,"display","flex","align-items","center"],["href","https://baidu.com","target","_blank"],["src","assets/logo/logo.svg","alt","logo",2,"width","50px"],[1,"pd_10",2,"margin-left","auto"],[3,"click"],[1,"container_box","pd_10"],[1,"left"],[1,"pd_10","scroll-auto","item"],[1,"title","italic"],[1,"content"],[1,"content_view"],["chart",""],[1,"right"],[1,"function"],["class","function_item",4,"ngFor","ngForOf"],[1,"pd_10","view_scroll","item"],["nzSize","small",1,"transparent-table",3,"nzData"],["basicTable",""],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"function_item"],["nz-icon","","nzTheme","twotone",2,"font-size","48px",3,"nzType","nzTwotoneColor"],[3,"ngClass","click"],["nzType","vertical"]],template:function(e,r){1&e&&(d.TgZ(0,"nz-layout",0),d.TgZ(1,"nz-layout"),d.TgZ(2,"nz-header",1),d.TgZ(3,"div",2),d.TgZ(4,"a",3),d._UZ(5,"img",4),d.qZA(),d.TgZ(6,"span"),d._uU(7,"The creator of one project is Xj"),d.qZA(),d.TgZ(8,"span",5),d._uU(9),d.qZA(),d.TgZ(10,"a",6),d.NdJ("click",function(){return r.loginOut()}),d._uU(11,"\u9000\u51fa\u767b\u5f55"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"nz-content",7),d.TgZ(13,"div",8),d.TgZ(14,"div",9),d.TgZ(15,"h1",10),d._uU(16,"\u6570\u636e\u5927\u5c4f"),d.qZA(),d.TgZ(17,"div",11),d._UZ(18,"div",12,13),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",14),d.TgZ(21,"div",9),d.TgZ(22,"h1",10),d._uU(23,"\u529f\u80fd"),d.qZA(),d.TgZ(24,"div",15),d.YNc(25,Tee,4,3,"div",16),d.qZA(),d.qZA(),d.TgZ(26,"div",17),d.TgZ(27,"h1",10),d._uU(28,"\u4eba\u5458\u4fe1\u606f"),d.qZA(),d.TgZ(29,"nz-table",18,19),d.TgZ(31,"thead"),d.TgZ(32,"tr"),d.TgZ(33,"th"),d._uU(34,"\u59d3\u540d"),d.qZA(),d.TgZ(35,"th"),d._uU(36,"\u5e74\u9f84"),d.qZA(),d.TgZ(37,"th"),d._uU(38,"\u5730\u5740"),d.qZA(),d.TgZ(39,"th"),d._uU(40,"\u64cd\u4f5c"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(41,"tbody"),d.YNc(42,Dee,13,7,"tr",20),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(9),d.hij("",r.userInfo.username+r.welcome,"!"),d.xp6(16),d.Q6J("ngForOf",r.featureIfy.data),d.xp6(4),d.Q6J("nzData",r.tableIfy.data),d.xp6(13),d.Q6J("ngForOf",r.tableIfy.data))},directives:[xf.hw,xf.E8,xf.OK,q.sg,dee,gee,cP,cee,aP,uP,jt.Ls,Qn.w,q.mk,bee],styles:[".container_box[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;display:grid;grid-template-columns:1.5fr 1fr;grid-gap:10px;background-image:url(bg1.3cd96406ea113dbefd93.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.container_box[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{height:100%;display:grid;overflow:auto}.container_box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{height:100%;display:grid;overflow:auto;grid-template-rows:1fr 1fr;grid-gap:10px}.container_box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .function[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:10px;padding-top:10px}.container_box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .function[_ngcontent-%COMP%]   .function_item[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:column;align-items:center;cursor:pointer}.container_box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .function[_ngcontent-%COMP%]   .function_item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#fde047}.container_box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #eee;border-radius:10px;display:flex;flex-direction:column}.container_box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;padding:10px;border-bottom:1px solid #eee;color:#6973b8}.container_box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;padding:10px;display:flex;align-items:center;overflow:hidden}.container_box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content_view[_ngcontent-%COMP%]{height:100%;flex:1}.transparent-table[_ngcontent-%COMP%]{background-color:transparent!important}.transparent-table[_ngcontent-%COMP%]     .ant-table{background-color:transparent;color:#fff}.transparent-table[_ngcontent-%COMP%]     .ant-table thead>tr>th{background-color:#fff3;border-bottom-color:#ffffff4d}.transparent-table[_ngcontent-%COMP%]     .ant-table tbody>tr>td{background-color:transparent;border-bottom-color:#fff3}.transparent-table[_ngcontent-%COMP%]     .ant-table tbody>tr:hover>td{background-color:#ffffff1a}"]}),n})(),children:[{path:"home",loadChildren:()=>le.e(343).then(le.bind(le,4343)).then(n=>n.HomeModule)},{path:"**",redirectTo:"home",pathMatch:"full"}]}];let Aee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Cf.Bz.forChild(Mee)],Cf.Bz]}),n})(),Iee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Aee,xf.wm,Xn.ip,jt.PV,hu.sL,_ee,wee,q.ez]]}),n})()}}]);