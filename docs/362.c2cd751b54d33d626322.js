"use strict";(self.webpackChunkmini_program=self.webpackChunkmini_program||[]).push([[362],{5362:(nn,x,i)=>{i.r(x),i.d(x,{AppstoreModule:()=>W});var p=i(8583),a=i(665),n=i(7716),w=i(8058),c=i(7674),E=i(4514),f=i(269),u=i(7582),y=i(946),d=i(6461),k=i(9765),A=i(2759),h=i(6782),v=i(2729),z=i(6182),T=i(8178),C=i(9374),g=i(464),I=i(9238);const F=["switchElement"];function N(e,s){1&e&&n._UZ(0,"i",8)}function O(e,s){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const t=n.oxw(2);n.xp6(1),n.Oqu(t.nzCheckedChildren)}}function S(e,s){if(1&e&&(n.ynx(0),n.YNc(1,O,2,1,"ng-container",9),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("nzStringTemplateOutlet",t.nzCheckedChildren)}}function U(e,s){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const t=n.oxw(2);n.xp6(1),n.Oqu(t.nzUnCheckedChildren)}}function D(e,s){if(1&e&&n.YNc(0,U,2,1,"ng-container",9),2&e){const t=n.oxw();n.Q6J("nzStringTemplateOutlet",t.nzUnCheckedChildren)}}let Q=(()=>{class e{constructor(t,o,r,l,K,X){this.nzConfigService=t,this.host=o,this.ngZone=r,this.cdr=l,this.focusMonitor=K,this.directionality=X,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.dir="ltr",this.destroy$=new k.xQ}updateValue(t){this.isChecked!==t&&(this.isChecked=t,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}ngOnInit(){this.directionality.change.pipe((0,h.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,A.R)(this.host.nativeElement,"click").pipe((0,h.R)(this.destroy$)).subscribe(t=>{t.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,A.R)(this.switchElement.nativeElement,"keydown").pipe((0,h.R)(this.destroy$)).subscribe(t=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:o}=t;o!==d.oh&&o!==d.SV&&o!==d.L_&&o!==d.K5||(t.preventDefault(),this.ngZone.run(()=>{o===d.oh?this.updateValue(!1):o===d.SV?this.updateValue(!0):(o===d.L_||o===d.K5)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,h.R)(this.destroy$)).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.isChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.jY),n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.sBO),n.Y36(I.tE),n.Y36(y.Is,8))},e.\u0275cmp=n.Xpm({type:e,selectors:[["nz-switch"]],viewQuery:function(t,o){if(1&t&&n.Gf(F,7),2&t){let r;n.iGM(r=n.CRH())&&(o.switchElement=r.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize"},exportAs:["nzSwitch"],features:[n._Bn([{provide:a.JU,useExisting:(0,n.Gpc)(()=>e),multi:!0}])],decls:9,vars:15,consts:[["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],["switchElement",""],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(t,o){if(1&t&&(n.TgZ(0,"button",0,1),n.TgZ(2,"span",2),n.YNc(3,N,1,0,"i",3),n.qZA(),n.TgZ(4,"span",4),n.YNc(5,S,2,1,"ng-container",5),n.YNc(6,D,1,1,"ng-template",null,6,n.W1O),n.qZA(),n._UZ(8,"div",7),n.qZA()),2&t){const r=n.MAs(7);n.ekj("ant-switch-checked",o.isChecked)("ant-switch-loading",o.nzLoading)("ant-switch-disabled",o.nzDisabled)("ant-switch-small","small"===o.nzSize)("ant-switch-rtl","rtl"===o.dir),n.Q6J("disabled",o.nzDisabled)("nzWaveExtraNode",!0),n.xp6(3),n.Q6J("ngIf",o.nzLoading),n.xp6(2),n.Q6J("ngIf",o.isChecked)("ngIfElse",r)}},directives:[C.dQ,p.O5,g.Ls,T.f],encapsulation:2,changeDetection:0}),(0,u.gn)([(0,z.yF)()],e.prototype,"nzLoading",void 0),(0,u.gn)([(0,z.yF)()],e.prototype,"nzDisabled",void 0),(0,u.gn)([(0,z.yF)()],e.prototype,"nzControl",void 0),(0,u.gn)([(0,v.oS)()],e.prototype,"nzSize",void 0),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[y.vT,p.ez,C.vG,g.PV,T.T]]}),e})();var _=i(8542),b=i(4453),M=i(7018),m=i(5887),Z=i(6704);function L(e,s){1&e&&n._UZ(0,"i",16)}function B(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().addAppModalIfy.open()}),n._uU(1," \u6dfb\u52a0\u5e94\u7528 "),n.qZA()}}function Y(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){n.CHM(t);const r=n.oxw().$implicit;return n.oxw().downLoad(r)}),n._uU(1," \u4e0b\u8f7d "),n.qZA()}}function j(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){n.CHM(t);const r=n.oxw().$implicit;return n.oxw().addAppModalIfy.open(r)}),n._uU(1," \u7f16\u8f91 "),n.qZA()}}function P(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const r=n.oxw().$implicit;return n.oxw().deleteApp(r)}),n._uU(1," \u5220\u9664 "),n.qZA()}}function $(e,s){if(1&e&&(n.TgZ(0,"nz-card",18),n.TgZ(1,"div",19),n._UZ(2,"i",20),n.qZA(),n.TgZ(3,"h4",21),n._uU(4),n.qZA(),n.TgZ(5,"p",22),n._uU(6),n.qZA(),n.TgZ(7,"div",23),n.YNc(8,Y,2,0,"button",24),n.YNc(9,j,2,0,"button",24),n.YNc(10,P,2,0,"button",25),n.qZA(),n.qZA()),2&e){const t=s.$implicit,o=n.oxw();n.Q6J("nzHoverable",!0)("nzBordered",!1),n.xp6(4),n.Oqu(t.name),n.xp6(2),n.Oqu(t.description),n.xp6(2),n.Q6J("ngIf",!o.isEditMode),n.xp6(1),n.Q6J("ngIf",o.isEditMode),n.xp6(1),n.Q6J("ngIf",o.isEditMode)}}function H(e,s){if(1&e&&(n.ynx(0),n.TgZ(1,"form",28),n.TgZ(2,"nz-form-item"),n.TgZ(3,"nz-form-control",29),n.TgZ(4,"nz-input-group",30),n._UZ(5,"input",31),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"nz-form-item"),n.TgZ(7,"nz-form-control",32),n.TgZ(8,"nz-input-group",30),n._UZ(9,"input",33),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("formGroup",t.addAppModalIfy.form)}}let q=(()=>{class e{constructor(t){this.message=t,this.isEditMode=!1,this.newApp={name:"",description:""},this.showAddDialog=!1,this.apps=[{name:"\u5e94\u75281",description:"\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\u5e94\u7528",url:"assets/background/7.jpeg"},{name:"\u5e94\u75282",description:"\u8fd9\u662f\u53e6\u4e00\u4e2a\u793a\u4f8b\u5e94\u7528",url:"assets/background/bg1.jpg"},{name:"\u5e94\u75283",description:"\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u5e94\u7528",url:""}],this.addAppModalIfy={visible:!1,title:"\u6dfb\u52a0\u5e94\u7528",form:new a.cw({name:new a.NI("",[a.kI.required]),description:new a.NI("",[a.kI.required])}),edit:!1,open:o=>{o?(this.addAppModalIfy.title="\u7f16\u8f91\u5e94\u7528",this.addAppModalIfy.edit=!0,this.addAppModalIfy.form.patchValue(o)):(this.addAppModalIfy.title="\u6dfb\u52a0\u5e94\u7528",this.addAppModalIfy.edit=!1,this.addAppModalIfy.form.reset()),this.addAppModalIfy.visible=!0},handleOk:()=>{if(this.addAppModalIfy.form.invalid)return void this.message.error("\u8868\u5355\u672a\u586b\u5199\u5b8c\u6574\uff0c\u8bf7\u68c0\u67e5\uff01");const o=this.addAppModalIfy.form.value;this.addAppModalIfy.edit?this.apps=this.apps.map(r=>r.name===o.name?Object.assign(Object.assign({},r),o):r):this.apps.push(Object.assign({},o)),this.addAppModalIfy.visible=!1},handleCancel:()=>{this.addAppModalIfy.visible=!1}}}toggleEditMode(){this.isEditMode=!this.isEditMode}deleteApp(t){this.apps=this.apps.filter(o=>o!==t)}downLoad(t){if(console.log(`\u4e0b\u8f7d\u5e94\u7528\uff1a${t.name}`),!t.url)return void this.message.error("\u6587\u4ef6\u8def\u5f84\u65e0\u6548");const o=document.createElement("a");o.href=t.url,o.download=t.name+this.getFileExtension(t.url),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}getFileExtension(t){return t.substring(t.lastIndexOf("."))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(w.dD))},e.\u0275cmp=n.Xpm({type:e,selectors:[["xj-appstore"]],decls:17,vars:6,consts:[[1,"app-store-container"],[1,"search-section"],[2,"width","200px","margin-right","10px",3,"nzSuffix"],["type","text","nz-input","","placeholder","\u641c\u7d22\u5e94\u7528",2,"border-radius","20px"],["suffixIconSearch",""],["nzPlaceHolder","\u9009\u62e9\u5206\u7c7b","nzAllowClear","",2,"width","200px","margin-right","10px"],["nzLabel","\u5168\u90e8","nzValue","all"],["nzLabel","\u5de5\u5177","nzValue","tools"],["nzLabel","\u6e38\u620f","nzValue","games"],["nzLabel","\u793e\u4ea4","nzValue","social"],["nzCheckedChildren","\u7f16\u8f91","nzUnCheckedChildren","\u67e5\u770b",2,"margin-right","10px",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[1,"app-grid"],["class","app-card","style","box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); margin: 12px; border-radius: 8px",3,"nzHoverable","nzBordered",4,"ngFor","ngForOf"],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nz-icon","","nzType","search",2,"color","#6973b8"],["nz-button","","nzType","primary",3,"click"],[1,"app-card",2,"box-shadow","0 2px 8px rgba(0, 0, 0, 0.1)","margin","12px","border-radius","8px",3,"nzHoverable","nzBordered"],[1,"app-icon",2,"font-size","32px","color","#6973b8","margin-bottom","12px"],["nz-icon","","nzType","appstore","nzTheme","outline"],[2,"margin","8px 0","font-weight","500"],[2,"color","#666","margin-bottom","16px"],[2,"display","flex","gap","8px"],["nz-button","","nzType","primary","style","flex: 1",3,"click",4,"ngIf"],["nz-button","","nzDanger","","style","flex: 1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",2,"flex","1",3,"click"],["nz-button","","nzDanger","",2,"flex","1",3,"click"],["nz-form","",3,"formGroup"],["nzErrorTip","\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0!"],["nzPrefixIcon","appstore"],["formControlName","name","nz-input","","placeholder","\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"],["nzErrorTip","\u8bf7\u8f93\u5165\u5e94\u7528\u63cf\u8ff0!"],["formControlName","description","nz-input","","placeholder","\u8bf7\u8f93\u5165\u5e94\u7528\u63cf\u8ff0"]],template:function(t,o){if(1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"nz-input-group",2),n._UZ(3,"input",3),n.qZA(),n.YNc(4,L,1,0,"ng-template",null,4,n.W1O),n.TgZ(6,"nz-select",5),n._UZ(7,"nz-option",6),n._UZ(8,"nz-option",7),n._UZ(9,"nz-option",8),n._UZ(10,"nz-option",9),n.qZA(),n.TgZ(11,"nz-switch",10),n.NdJ("ngModelChange",function(l){return o.isEditMode=l}),n.qZA(),n.YNc(12,B,2,0,"button",11),n.qZA(),n.TgZ(13,"div",12),n.YNc(14,$,11,7,"nz-card",13),n.qZA(),n.qZA(),n.TgZ(15,"nz-modal",14),n.NdJ("nzVisibleChange",function(l){return o.addAppModalIfy.visible=l})("nzOnCancel",function(){return o.addAppModalIfy.handleCancel()})("nzOnOk",function(){return o.addAppModalIfy.handleOk()}),n.YNc(16,H,10,1,"ng-container",15),n.qZA()),2&t){const r=n.MAs(5);n.xp6(2),n.Q6J("nzSuffix",r),n.xp6(9),n.Q6J("ngModel",o.isEditMode),n.xp6(1),n.Q6J("ngIf",o.isEditMode),n.xp6(2),n.Q6J("ngForOf",o.apps),n.xp6(1),n.Q6J("nzVisible",o.addAppModalIfy.visible)("nzTitle",o.addAppModalIfy.title)}},directives:[c.gB,E.w,c.ke,c.Zp,f.Vq,f.Ip,Q,a.JJ,a.On,p.O5,p.sg,_.du,_.Hf,g.Ls,b.ix,C.dQ,M.bd,a._Y,a.JL,m.Lr,a.sg,Z.SK,m.Nx,Z.t3,m.Fd,a.Fj,a.u],styles:["@media (max-width: 768px){.search-section[_ngcontent-%COMP%]{display:flex;padding:0 10px;flex-direction:column;height:10rem;align-items:center;justify-content:space-evenly}.app-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;overflow:auto;padding:20px}.app-grid[_ngcontent-%COMP%]   .app-card[_ngcontent-%COMP%]{width:60%}}@media (min-width: 769px){.search-section[_ngcontent-%COMP%]{display:flex;padding:0 10px;align-items:center}.app-grid[_ngcontent-%COMP%]{overflow:auto;display:grid;grid-template-columns:repeat(4,1fr)}}"]}),e})();var G=i(4655);const R=[{path:"",component:q}];let W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[p.ez,G.Bz.forChild(R),g.PV,c.o7,f.LV,M.vh,b.sL,V,a.u5,_.Qp,m.U5,a.UX]]}),e})()}}]);