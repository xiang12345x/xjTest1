"use strict";(self.webpackChunkmini_program=self.webpackChunkmini_program||[]).push([[362],{5362:(K,C,i)=>{i.r(C),i.d(C,{AppstoreModule:()=>G});var c=i(8583),a=i(665),n=i(7716),M=i(8058),p=i(7674),T=i(4514),m=i(269),h=i(7582),x=i(946),d=i(6461),w=i(9765),y=i(2759),u=i(6782),v=i(2729),z=i(6182),_=i(8178),f=i(9374),g=i(464),Z=i(9238);const E=["switchElement"];function k(e,s){1&e&&n._UZ(0,"i",8)}function I(e,s){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const t=n.oxw(2);n.xp6(1),n.Oqu(t.nzCheckedChildren)}}function N(e,s){if(1&e&&(n.ynx(0),n.YNc(1,I,2,1,"ng-container",9),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("nzStringTemplateOutlet",t.nzCheckedChildren)}}function S(e,s){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const t=n.oxw(2);n.xp6(1),n.Oqu(t.nzUnCheckedChildren)}}function F(e,s){if(1&e&&n.YNc(0,S,2,1,"ng-container",9),2&e){const t=n.oxw();n.Q6J("nzStringTemplateOutlet",t.nzUnCheckedChildren)}}let U=(()=>{class e{constructor(t,o,r,l,W,X){this.nzConfigService=t,this.host=o,this.ngZone=r,this.cdr=l,this.focusMonitor=W,this.directionality=X,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.dir="ltr",this.destroy$=new w.xQ}updateValue(t){this.isChecked!==t&&(this.isChecked=t,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}ngOnInit(){this.directionality.change.pipe((0,u.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,y.R)(this.host.nativeElement,"click").pipe((0,u.R)(this.destroy$)).subscribe(t=>{t.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,y.R)(this.switchElement.nativeElement,"keydown").pipe((0,u.R)(this.destroy$)).subscribe(t=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:o}=t;o!==d.oh&&o!==d.SV&&o!==d.L_&&o!==d.K5||(t.preventDefault(),this.ngZone.run(()=>{o===d.oh?this.updateValue(!1):o===d.SV?this.updateValue(!0):(o===d.L_||o===d.K5)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,u.R)(this.destroy$)).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.isChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.jY),n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.sBO),n.Y36(Z.tE),n.Y36(x.Is,8))},e.\u0275cmp=n.Xpm({type:e,selectors:[["nz-switch"]],viewQuery:function(t,o){if(1&t&&n.Gf(E,7),2&t){let r;n.iGM(r=n.CRH())&&(o.switchElement=r.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize"},exportAs:["nzSwitch"],features:[n._Bn([{provide:a.JU,useExisting:(0,n.Gpc)(()=>e),multi:!0}])],decls:9,vars:15,consts:[["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],["switchElement",""],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(t,o){if(1&t&&(n.TgZ(0,"button",0,1),n.TgZ(2,"span",2),n.YNc(3,k,1,0,"i",3),n.qZA(),n.TgZ(4,"span",4),n.YNc(5,N,2,1,"ng-container",5),n.YNc(6,F,1,1,"ng-template",null,6,n.W1O),n.qZA(),n._UZ(8,"div",7),n.qZA()),2&t){const r=n.MAs(7);n.ekj("ant-switch-checked",o.isChecked)("ant-switch-loading",o.nzLoading)("ant-switch-disabled",o.nzDisabled)("ant-switch-small","small"===o.nzSize)("ant-switch-rtl","rtl"===o.dir),n.Q6J("disabled",o.nzDisabled)("nzWaveExtraNode",!0),n.xp6(3),n.Q6J("ngIf",o.nzLoading),n.xp6(2),n.Q6J("ngIf",o.isChecked)("ngIfElse",r)}},directives:[f.dQ,c.O5,g.Ls,_.f],encapsulation:2,changeDetection:0}),(0,h.gn)([(0,z.yF)()],e.prototype,"nzLoading",void 0),(0,h.gn)([(0,z.yF)()],e.prototype,"nzDisabled",void 0),(0,h.gn)([(0,z.yF)()],e.prototype,"nzControl",void 0),(0,h.gn)([(0,v.oS)()],e.prototype,"nzSize",void 0),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[x.vT,c.ez,f.vG,g.PV,_.T]]}),e})();var b=i(4453),A=i(7018);function J(e,s){1&e&&n._UZ(0,"i",14)}function Q(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){return n.CHM(t),n.oxw().addAppModalIfy.open()}),n._uU(1," \u6dfb\u52a0\u5e94\u7528 "),n.qZA()}}function L(e,s){1&e&&(n.TgZ(0,"button",25),n._uU(1,"\u4e0b\u8f7d"),n.qZA())}function V(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){n.CHM(t);const r=n.oxw().$implicit;return n.oxw().addAppModalIfy.open(r)}),n._uU(1," \u7f16\u8f91 "),n.qZA()}}function Y(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const r=n.oxw().$implicit;return n.oxw().deleteApp(r)}),n._uU(1," \u5220\u9664 "),n.qZA()}}function B(e,s){if(1&e&&(n.TgZ(0,"nz-card",16),n.TgZ(1,"div",17),n._UZ(2,"i",18),n.qZA(),n.TgZ(3,"h4",19),n._uU(4),n.qZA(),n.TgZ(5,"p",20),n._uU(6),n.qZA(),n.TgZ(7,"div",21),n.YNc(8,L,2,0,"button",22),n.YNc(9,V,2,0,"button",23),n.YNc(10,Y,2,0,"button",24),n.qZA(),n.qZA()),2&e){const t=s.$implicit,o=n.oxw();n.Q6J("nzHoverable",!0)("nzBordered",!1),n.xp6(4),n.Oqu(t.name),n.xp6(2),n.Oqu(t.description),n.xp6(2),n.Q6J("ngIf",!o.isEditMode),n.xp6(1),n.Q6J("ngIf",o.isEditMode),n.xp6(1),n.Q6J("ngIf",o.isEditMode)}}let j=(()=>{class e{constructor(t){this.message=t,this.isEditMode=!1,this.newApp={name:"",description:""},this.showAddDialog=!1,this.apps=[{name:"\u5e94\u75281",description:"\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\u5e94\u7528",url:"assets/background/7.jpeg"},{name:"\u5e94\u75282",description:"\u8fd9\u662f\u53e6\u4e00\u4e2a\u793a\u4f8b\u5e94\u7528",url:"assets/background/bg1.jpg"}],this.addAppModalIfy={visible:!1,title:"\u6dfb\u52a0\u5e94\u7528",addForm:new a.cw({name:new a.NI("",[a.kI.required]),description:new a.NI("",[a.kI.required])}),edit:!1,open:o=>{o?(this.addAppModalIfy.title="\u7f16\u8f91\u5e94\u7528",this.addAppModalIfy.edit=!0,this.addAppModalIfy.addForm.patchValue(o)):(this.addAppModalIfy.title="\u6dfb\u52a0\u5e94\u7528",this.addAppModalIfy.edit=!1,this.addAppModalIfy.addForm.reset()),this.addAppModalIfy.visible=!0},handleOk:()=>{if(this.addAppModalIfy.addForm.invalid)return void this.message.error("\u8868\u5355\u672a\u586b\u5199\u5b8c\u6574\uff0c\u8bf7\u68c0\u67e5\uff01");const o=this.addAppModalIfy.addForm.value;this.addAppModalIfy.edit?this.apps=this.apps.map(r=>r.name===o.name?Object.assign(Object.assign({},r),o):r):this.apps.push(Object.assign({},o)),this.addAppModalIfy.visible=!1},handleCancel:()=>{this.addAppModalIfy.visible=!1}}}toggleEditMode(){this.isEditMode=!this.isEditMode}deleteApp(t){this.apps=this.apps.filter(o=>o!==t)}downLoad(t){if(console.log(`\u4e0b\u8f7d\u5e94\u7528\uff1a${t.name}`),!t.url)return void this.message.error("\u6587\u4ef6\u8def\u5f84\u65e0\u6548");const o=document.createElement("a");o.href=t.url,o.download=t.name+this.getFileExtension(t.url),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}getFileExtension(t){return t.substring(t.lastIndexOf("."))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(M.dD))},e.\u0275cmp=n.Xpm({type:e,selectors:[["xj-appstore"]],decls:15,vars:4,consts:[[1,"app-store-container"],[1,"search-section"],[2,"width","200px","margin-right","10px",3,"nzSuffix"],["type","text","nz-input","","placeholder","\u641c\u7d22\u5e94\u7528",2,"border-radius","20px"],["suffixIconSearch",""],["nzPlaceHolder","\u9009\u62e9\u5206\u7c7b","nzAllowClear","",2,"width","200px","margin-right","10px"],["nzLabel","\u5168\u90e8","nzValue","all"],["nzLabel","\u5de5\u5177","nzValue","tools"],["nzLabel","\u6e38\u620f","nzValue","games"],["nzLabel","\u793e\u4ea4","nzValue","social"],["nzCheckedChildren","\u7f16\u8f91","nzUnCheckedChildren","\u67e5\u770b",2,"margin-right","10px",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[1,"app-grid"],["class","app-card","style","box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); margin: 12px; border-radius: 8px",3,"nzHoverable","nzBordered",4,"ngFor","ngForOf"],["nz-icon","","nzType","search",2,"color","#6973b8"],["nz-button","","nzType","primary",3,"click"],[1,"app-card",2,"box-shadow","0 2px 8px rgba(0, 0, 0, 0.1)","margin","12px","border-radius","8px",3,"nzHoverable","nzBordered"],[1,"app-icon",2,"font-size","32px","color","#6973b8","margin-bottom","12px"],["nz-icon","","nzType","appstore","nzTheme","outline"],[2,"margin","8px 0","font-weight","500"],[2,"color","#666","margin-bottom","16px"],[2,"display","flex","gap","8px"],["nz-button","","nzType","primary","style","flex: 1",4,"ngIf"],["nz-button","","nzType","primary","style","flex: 1",3,"click",4,"ngIf"],["nz-button","","nzDanger","","style","flex: 1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",2,"flex","1"],["nz-button","","nzType","primary",2,"flex","1",3,"click"],["nz-button","","nzDanger","",2,"flex","1",3,"click"]],template:function(t,o){if(1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"nz-input-group",2),n._UZ(3,"input",3),n.qZA(),n.YNc(4,J,1,0,"ng-template",null,4,n.W1O),n.TgZ(6,"nz-select",5),n._UZ(7,"nz-option",6),n._UZ(8,"nz-option",7),n._UZ(9,"nz-option",8),n._UZ(10,"nz-option",9),n.qZA(),n.TgZ(11,"nz-switch",10),n.NdJ("ngModelChange",function(l){return o.isEditMode=l}),n.qZA(),n.YNc(12,Q,2,0,"button",11),n.qZA(),n.TgZ(13,"div",12),n.YNc(14,B,11,7,"nz-card",13),n.qZA(),n.qZA()),2&t){const r=n.MAs(5);n.xp6(2),n.Q6J("nzSuffix",r),n.xp6(9),n.Q6J("ngModel",o.isEditMode),n.xp6(1),n.Q6J("ngIf",o.isEditMode),n.xp6(2),n.Q6J("ngForOf",o.apps)}},directives:[p.gB,T.w,p.ke,p.Zp,m.Vq,m.Ip,U,a.JJ,a.On,c.O5,c.sg,g.Ls,b.ix,f.dQ,A.bd],styles:[".search-section[_ngcontent-%COMP%]{display:flex;padding:0 10px;align-items:center}.app-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:10px;gap:10px}"]}),e})();var $=i(4655),H=i(8542),R=i(5887);const P=[{path:"",component:j}];let G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[c.ez,$.Bz.forChild(P),g.PV,p.o7,m.LV,A.vh,b.sL,D,a.u5,H.Qp,R.U5,a.UX]]}),e})()}}]);