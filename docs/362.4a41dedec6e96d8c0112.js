"use strict";(self.webpackChunkmini_program=self.webpackChunkmini_program||[]).push([[362],{5362:(K,C,i)=>{i.r(C),i.d(C,{AppstoreModule:()=>G});var c=i(8583),a=i(665),t=i(7716),M=i(8058),p=i(7674),T=i(4514),m=i(269),h=i(7582),x=i(946),d=i(6461),w=i(9765),y=i(2759),u=i(6782),_=i(2729),f=i(6182),v=i(8178),z=i(9374),g=i(464),Z=i(9238);const E=["switchElement"];function k(e,s){1&e&&t._UZ(0,"i",8)}function I(e,s){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(n.nzCheckedChildren)}}function N(e,s){if(1&e&&(t.ynx(0),t.YNc(1,I,2,1,"ng-container",9),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",n.nzCheckedChildren)}}function S(e,s){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(n.nzUnCheckedChildren)}}function F(e,s){if(1&e&&t.YNc(0,S,2,1,"ng-container",9),2&e){const n=t.oxw();t.Q6J("nzStringTemplateOutlet",n.nzUnCheckedChildren)}}let U=(()=>{class e{constructor(n,o,r,l,W,X){this.nzConfigService=n,this.host=o,this.ngZone=r,this.cdr=l,this.focusMonitor=W,this.directionality=X,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.dir="ltr",this.destroy$=new w.xQ}updateValue(n){this.isChecked!==n&&(this.isChecked=n,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}ngOnInit(){this.directionality.change.pipe((0,u.R)(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,y.R)(this.host.nativeElement,"click").pipe((0,u.R)(this.destroy$)).subscribe(n=>{n.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,y.R)(this.switchElement.nativeElement,"keydown").pipe((0,u.R)(this.destroy$)).subscribe(n=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:o}=n;o!==d.oh&&o!==d.SV&&o!==d.L_&&o!==d.K5||(n.preventDefault(),this.ngZone.run(()=>{o===d.oh?this.updateValue(!1):o===d.SV?this.updateValue(!0):(o===d.L_||o===d.K5)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,u.R)(this.destroy$)).subscribe(n=>{n||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(n){this.isChecked=n,this.cdr.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.nzDisabled=n,this.cdr.markForCheck()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.jY),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(Z.tE),t.Y36(x.Is,8))},e.\u0275cmp=t.Xpm({type:e,selectors:[["nz-switch"]],viewQuery:function(n,o){if(1&n&&t.Gf(E,7),2&n){let r;t.iGM(r=t.CRH())&&(o.switchElement=r.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize"},exportAs:["nzSwitch"],features:[t._Bn([{provide:a.JU,useExisting:(0,t.Gpc)(()=>e),multi:!0}])],decls:9,vars:15,consts:[["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],["switchElement",""],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(n,o){if(1&n&&(t.TgZ(0,"button",0,1),t.TgZ(2,"span",2),t.YNc(3,k,1,0,"i",3),t.qZA(),t.TgZ(4,"span",4),t.YNc(5,N,2,1,"ng-container",5),t.YNc(6,F,1,1,"ng-template",null,6,t.W1O),t.qZA(),t._UZ(8,"div",7),t.qZA()),2&n){const r=t.MAs(7);t.ekj("ant-switch-checked",o.isChecked)("ant-switch-loading",o.nzLoading)("ant-switch-disabled",o.nzDisabled)("ant-switch-small","small"===o.nzSize)("ant-switch-rtl","rtl"===o.dir),t.Q6J("disabled",o.nzDisabled)("nzWaveExtraNode",!0),t.xp6(3),t.Q6J("ngIf",o.nzLoading),t.xp6(2),t.Q6J("ngIf",o.isChecked)("ngIfElse",r)}},directives:[z.dQ,c.O5,g.Ls,v.f],encapsulation:2,changeDetection:0}),(0,h.gn)([(0,f.yF)()],e.prototype,"nzLoading",void 0),(0,h.gn)([(0,f.yF)()],e.prototype,"nzDisabled",void 0),(0,h.gn)([(0,f.yF)()],e.prototype,"nzControl",void 0),(0,h.gn)([(0,_.oS)()],e.prototype,"nzSize",void 0),e})(),D=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[x.vT,c.ez,z.vG,g.PV,v.T]]}),e})();var b=i(4453),A=i(7018);function J(e,s){1&e&&t._UZ(0,"i",14)}function Q(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().addAppModalIfy.open()}),t._uU(1," \u6dfb\u52a0\u5e94\u7528 "),t.qZA()}}function L(e,s){1&e&&(t.TgZ(0,"button",25),t._uU(1,"\u4e0b\u8f7d"),t.qZA())}function V(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(n);const r=t.oxw().$implicit;return t.oxw().addAppModalIfy.open(r)}),t._uU(1," \u7f16\u8f91 "),t.qZA()}}function Y(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(n);const r=t.oxw().$implicit;return t.oxw().deleteApp(r)}),t._uU(1," \u5220\u9664 "),t.qZA()}}function B(e,s){if(1&e&&(t.TgZ(0,"nz-card",16),t.TgZ(1,"div",17),t._UZ(2,"i",18),t.qZA(),t.TgZ(3,"h4",19),t._uU(4),t.qZA(),t.TgZ(5,"p",20),t._uU(6),t.qZA(),t.TgZ(7,"div",21),t.YNc(8,L,2,0,"button",22),t.YNc(9,V,2,0,"button",23),t.YNc(10,Y,2,0,"button",24),t.qZA(),t.qZA()),2&e){const n=s.$implicit,o=t.oxw();t.Q6J("nzHoverable",!0)("nzBordered",!1),t.xp6(4),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.Q6J("ngIf",!o.isEditMode),t.xp6(1),t.Q6J("ngIf",o.isEditMode),t.xp6(1),t.Q6J("ngIf",o.isEditMode)}}let j=(()=>{class e{constructor(n){this.message=n,this.isEditMode=!1,this.newApp={name:"",description:""},this.showAddDialog=!1,this.apps=[{name:"\u5e94\u75281",description:"\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\u5e94\u7528",url:"assets/background/7.jpeg"},{name:"\u5e94\u75282",description:"\u8fd9\u662f\u53e6\u4e00\u4e2a\u793a\u4f8b\u5e94\u7528",url:"assets/background/bg1.jpg"}],this.addAppModalIfy={visible:!1,title:"\u6dfb\u52a0\u5e94\u7528",addForm:new a.cw({name:new a.NI("",[a.kI.required]),description:new a.NI("",[a.kI.required])}),edit:!1,open:o=>{o?(this.addAppModalIfy.title="\u7f16\u8f91\u5e94\u7528",this.addAppModalIfy.edit=!0,this.addAppModalIfy.addForm.patchValue(o)):(this.addAppModalIfy.title="\u6dfb\u52a0\u5e94\u7528",this.addAppModalIfy.edit=!1,this.addAppModalIfy.addForm.reset()),this.addAppModalIfy.visible=!0},handleOk:()=>{if(this.addAppModalIfy.addForm.invalid)return void this.message.error("\u8868\u5355\u672a\u586b\u5199\u5b8c\u6574\uff0c\u8bf7\u68c0\u67e5\uff01");const o=this.addAppModalIfy.addForm.value;this.addAppModalIfy.edit?this.apps=this.apps.map(r=>r.name===o.name?Object.assign(Object.assign({},r),o):r):this.apps.push(Object.assign({},o)),this.addAppModalIfy.visible=!1},handleCancel:()=>{this.addAppModalIfy.visible=!1}}}toggleEditMode(){this.isEditMode=!this.isEditMode}deleteApp(n){this.apps=this.apps.filter(o=>o!==n)}downLoad(n){if(console.log(`\u4e0b\u8f7d\u5e94\u7528\uff1a${n.name}`),!n.url)return void this.message.error("\u6587\u4ef6\u8def\u5f84\u65e0\u6548");const o=document.createElement("a");o.href=n.url,o.download=n.name+this.getFileExtension(n.url),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}getFileExtension(n){return n.substring(n.lastIndexOf("."))}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(M.dD))},e.\u0275cmp=t.Xpm({type:e,selectors:[["xj-appstore"]],decls:15,vars:4,consts:[[1,"app-store-container"],[1,"search-section"],[2,"width","200px","margin-right","10px",3,"nzSuffix"],["type","text","nz-input","","placeholder","\u641c\u7d22\u5e94\u7528",2,"border-radius","20px"],["suffixIconSearch",""],["nzPlaceHolder","\u9009\u62e9\u5206\u7c7b","nzAllowClear","",2,"width","200px","margin-right","10px"],["nzLabel","\u5168\u90e8","nzValue","all"],["nzLabel","\u5de5\u5177","nzValue","tools"],["nzLabel","\u6e38\u620f","nzValue","games"],["nzLabel","\u793e\u4ea4","nzValue","social"],["nzCheckedChildren","\u7f16\u8f91","nzUnCheckedChildren","\u67e5\u770b",2,"margin-right","10px",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[1,"app-grid"],["class","app-card","style","box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); margin: 12px; border-radius: 8px",3,"nzHoverable","nzBordered",4,"ngFor","ngForOf"],["nz-icon","","nzType","search",2,"color","#6973b8"],["nz-button","","nzType","primary",3,"click"],[1,"app-card",2,"box-shadow","0 2px 8px rgba(0, 0, 0, 0.1)","margin","12px","border-radius","8px",3,"nzHoverable","nzBordered"],[1,"app-icon",2,"font-size","32px","color","#6973b8","margin-bottom","12px"],["nz-icon","","nzType","appstore","nzTheme","outline"],[2,"margin","8px 0","font-weight","500"],[2,"color","#666","margin-bottom","16px"],[2,"display","flex","gap","8px"],["nz-button","","nzType","primary","style","flex: 1",4,"ngIf"],["nz-button","","nzType","primary","style","flex: 1",3,"click",4,"ngIf"],["nz-button","","nzDanger","","style","flex: 1",3,"click",4,"ngIf"],["nz-button","","nzType","primary",2,"flex","1"],["nz-button","","nzType","primary",2,"flex","1",3,"click"],["nz-button","","nzDanger","",2,"flex","1",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"nz-input-group",2),t._UZ(3,"input",3),t.qZA(),t.YNc(4,J,1,0,"ng-template",null,4,t.W1O),t.TgZ(6,"nz-select",5),t._UZ(7,"nz-option",6),t._UZ(8,"nz-option",7),t._UZ(9,"nz-option",8),t._UZ(10,"nz-option",9),t.qZA(),t.TgZ(11,"nz-switch",10),t.NdJ("ngModelChange",function(l){return o.isEditMode=l}),t.qZA(),t.YNc(12,Q,2,0,"button",11),t.qZA(),t.TgZ(13,"div",12),t.YNc(14,B,11,7,"nz-card",13),t.qZA(),t.qZA()),2&n){const r=t.MAs(5);t.xp6(2),t.Q6J("nzSuffix",r),t.xp6(9),t.Q6J("ngModel",o.isEditMode),t.xp6(1),t.Q6J("ngIf",o.isEditMode),t.xp6(2),t.Q6J("ngForOf",o.apps)}},directives:[p.gB,T.w,p.ke,p.Zp,m.Vq,m.Ip,U,a.JJ,a.On,c.O5,c.sg,g.Ls,b.ix,z.dQ,A.bd],styles:[".search-section[_ngcontent-%COMP%]{display:flex;padding:0 10px;align-items:center}.app-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr)}@media (max-width: 768px){.app-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}}@media (min-width: 769px){.app-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr)}}"]}),e})();var $=i(4655),P=i(8542),H=i(5887);const R=[{path:"",component:j}];let G=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,$.Bz.forChild(R),g.PV,p.o7,m.LV,A.vh,b.sL,D,a.u5,P.Qp,H.U5,a.UX]]}),e})()}}]);